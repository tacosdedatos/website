<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>M√°s visualizaci√≥n con tus datos de Spotify con Python</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- <link rel="stylesheet" type="text/css" href="/assets/built/prism.css" /> -->
    <!-- highlight.js -->
    <!-- <link rel="stylesheet" href="/assets/built/styles/default.css"> -->
    <style>.hljs { background: none; }</style>
    <!-- night owl style  -->
    <link rel="stylesheet" href="/assets/built/styles/night-owl.css" />
    <style type='text/css'>
        pre, code {
            white-space: pre-wrap;
            overflow-x: scroll;
        }
        .hljs {
            display: inline-block;
            overflow-x: scroll;
            min-width: 100%;
        }
        .highlight {
            min-width: 100%;
        }
        div[class^="language-"] {
            min-width: 100%;
        }
    </style>

    

    



    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Tu sitio para aprender de visualizaci√≥n y ciencia de datos en espa√±ol. Consejos, recursos y mejores pr√°cticas para tus proyectos de tecnolog√≠a, periodismo de datos y an√°lisis estad√≠sticos." />
    <link rel="shortcut icon" href="https://old.tacosdedatos.com/assets/icons/favicon.ico" type="image/png" />
    <link rel="canonical" href="https://old.tacosdedatos.com/mas-data-viz-con-spotify-python" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="M√°s visualizaci√≥n con tus datos de Spotify con Python" />
    <meta property="og:description" content="Inspirado por el post de Nerudista en Tacos de datos fui a pedirles mi informaci√≥n a Spotify con el fin de hacer unas cuantas gr√°ficas con ella. Si tu quieres hacer lo mismo, puedes ir a pedirlos en esta p√°gina, una vez que la solicites, tomar√° un par de d√≠as" />
    <meta property="og:url" content="https://old.tacosdedatos.com/mas-data-viz-con-spotify-python" />
    <meta property="og:image" content="https://old.tacosdedatos.com/assets/blogposts/012.png" />
    <meta property="article:publisher" content="https://www.facebook.com/tacosdedatos" />
    <meta property="article:author" content="https://www.facebook.com/tacosdedatos" />
    <meta property="article:published_time" content="2020-02-11T10:00:00+00:00" />
    <meta property="article:modified_time" content="2020-02-11T10:00:00+00:00" />
    <meta property="article:tag" content="Blog" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="M√°s visualizaci√≥n con tus datos de Spotify con Python" />
    <meta name="twitter:description" content="Inspirado por el post de Nerudista en Tacos de datos fui a pedirles mi informaci√≥n a Spotify con el fin de hacer unas cuantas gr√°ficas con ella. Si tu quieres hacer lo mismo, puedes ir a pedirlos en esta p√°gina, una vez que la solicites, tomar√° un par de d√≠as" />
    <meta name="twitter:url" content="https://old.tacosdedatos.com/" />
    <meta name="twitter:image" content="https://old.tacosdedatos.com/assets/blogposts/012.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Blog" />
    <meta name="twitter:site" content="@tacosdedatos" />
    <meta name="twitter:creator" content="@tacosdedatos" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.",
        "logo": "https://old.tacosdedatos.com/assets/images/alt-blog-icon.png"
    },
    "url": "https://old.tacosdedatos.com/mas-data-viz-con-spotify-python",
    "image": {
        "@type": "ImageObject",
        "url": "https://old.tacosdedatos.com/assets/blogposts/012.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://old.tacosdedatos.com/mas-data-viz-con-spotify-python"
    },
    "description": "Inspirado por el post de Nerudista en Tacos de datos fui a pedirles mi informaci√≥n a Spotify con el fin de hacer unas cuantas gr√°ficas con ella. Si tu quieres hacer lo mismo, puedes ir a pedirlos en esta p√°gina, una vez que la solicites, tomar√° un par de d√≠as"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="M√°s visualizaci√≥n con tus datos de Spotify con Python" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://old.tacosdedatos.com/"><img src="/assets/images/alt-blog-icon.png" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">inicio</a></li>
    <li class="nav-home" role="menuitem"><a href="https://medium.com/tacosdedatos/">la publiqueishon (Medium)</a></li>
    <li class="nav-about" role="menuitem"><a href="/sobre/">sobre üåÆ</a></li>
    <li class="nav-podcast" role="menuitem"><a href="https://tacosdedatos.fm">podcast üåÆüéß</a></li>
    <li class="nav-recursos" role="menuitem"><a href="http://boletin.tacosdedatos.com/">el bolet√≠n</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/tacosdedatos" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/tacosdedatos" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscr√≠bete</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-blog ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="11 February 2020">11 February 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/blog/'>BLOG</a>,
                            
                        
                            
                               <a href='/tag/spotify/'>SPOTIFY</a>,
                            
                        
                            
                               <a href='/tag/seaborn/'>SEABORN</a>,
                            
                        
                            
                               <a href='/tag/matplotlib/'>MATPLOTLIB</a>,
                            
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">M√°s visualizaci√≥n con tus datos de Spotify con Python</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/blogposts/012.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>Inspirado por <a href="https://tacosdedatos.com/dueno-de-mis-datos-spotify">el post de Nerudista en Tacos de datos</a> fui a pedirles mi informaci√≥n a Spotify con el fin de hacer unas cuantas gr√°ficas con ella.</p>

<p>Si tu quieres hacer lo mismo, puedes ir a pedirlos en <a href="https://www.spotify.com/es/account/privacy/">esta p√°gina</a>, una vez que la solicites, tomar√° un par de d√≠as para que la puedas descargar. Por lo mientras puedes usar <a href="https://colab.research.google.com/drive/1dnjCKGllq5v1iEUuoQxbROMG0IXfgoiG">este Colab</a> con unos cuantos de mis datos para que puedas practicar lo que ves en este post.</p>

<p>Pero en fin, entre toda la informaci√≥n que recibir√°s, habr√°n algunos archivos que se llaman <code class="language-plaintext highlighter-rouge">StreamingHistoryXX.json</code>, estos son con los que estaremos trabajando en el resto del post.</p>

<h2 id="los-datos">Los datos</h2>

<p>Los archivos dentro de los archivos <em>json</em> mencionados anteriormente se ven m√°s o menos as√≠:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-04 17:14"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"artistName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MGMT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trackName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Time to Pretend"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msPlayed"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">261000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-04 17:18"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"artistName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MGMT"</span><span class="p">,</span><span class="w">
</span><span class="s2">"..."</span><span class="w"> 
</span></code></pre></div></div>

<p>En donde estos son los valores:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">endTime</code>: D√≠a y hora en los que finaliz√≥ la reproducci√≥n, en formato UTC (Tiempo Universal Coordinado).</li>
  <li><code class="language-plaintext highlighter-rouge">artistName</code>: Nombre del ‚Äúcreador‚Äù de cada elemento reproducido (por ejemplo, el nombre del artista de una canci√≥n).</li>
  <li><code class="language-plaintext highlighter-rouge">trackName</code>: Nombre de los elementos reproducidos o vistos (por ejemplo, t√≠tulo de una canci√≥n o nombre de un video).</li>
  <li><code class="language-plaintext highlighter-rouge">msPlayed</code>: significa cu√°ntos milisegundos se reprodujo una canci√≥n.</li>
</ul>

<p>Para leer estos datos en un DataFrame (que es como los vamos a ocupar m√°s adelante) vamos a hacer uso de esta peque√±a funci√≥n:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="k">def</span> <span class="nf">read_history</span><span class="p">():</span>
    <span class="n">history</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="s">"StreamingHistory*.json"</span><span class="p">)):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">readable</span><span class="p">:</span>
            <span class="n">history</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">readable</span><span class="p">))</span>
    <span class="n">history</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">history</span><span class="p">)</span>
    <span class="n">history</span><span class="p">[</span><span class="s">"endTime"</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">history</span><span class="p">[</span><span class="s">"endTime"</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">history</span>

<span class="n">streaming_history</span> <span class="o">=</span> <span class="n">read_history</span><span class="p">()</span>
<span class="n">streaming_history</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>El cual nos dejar√° algo como esto cuando lo ejecutemos:</p>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>endTime</th>
      <th>artistName</th>
      <th>trackName</th>
      <th>msPlayed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-02-04 17:14:00</td>
      <td>MGMT</td>
      <td>Time to Pretend</td>
      <td>261000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-02-04 17:18:00</td>
      <td>MGMT</td>
      <td>When You Die</td>
      <td>263880</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-02-04 17:23:00</td>
      <td>Mr Dooves</td>
      <td>Super Smash Bros. Brawl Main Theme (From "Super Smash Bros. Brawl") [A Cappella]</td>
      <td>201518</td>
    </tr>
  </tbody>
</table>

<h2 id="histograma">Histograma</h2>

<p>Siempre he sido fan de la forma en la que GitHub presenta las contribuciones que cada desarrollador hace en el sitio, y me parece que los datos obtenidos de Spotify, pero antes vamos a tener que modificar los datos un poco.</p>

<p>Como no nos interesa la hora en que cada canci√≥n termin√≥, primero vamos a deshacernos de la parte temporal de <code class="language-plaintext highlighter-rouge">endTime</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">streaming_history</span><span class="p">[</span><span class="s">"date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">streaming_history</span><span class="p">[</span><span class="s">"endTime"</span><span class="p">].</span><span class="n">dt</span><span class="p">.</span><span class="n">floor</span><span class="p">(</span><span class="s">'d'</span><span class="p">)</span>
</code></pre></div></div>

<p>Luego vamos a obtener un conteo de canciones por d√≠a con <code class="language-plaintext highlighter-rouge">groupby</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">by_date</span> <span class="o">=</span> <span class="n">streaming_history</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">"date"</span><span class="p">)[[</span><span class="s">"trackName"</span><span class="p">]].</span><span class="n">count</span><span class="p">()</span>
<span class="n">by_date</span> <span class="o">=</span> <span class="n">by_date</span><span class="p">.</span><span class="n">sort_index</span><span class="p">()</span>
</code></pre></div></div>

<p>Para nuestra gr√°fica, necesitamos tambi√©n saber a qu√© d√≠a de la semana y qu√© n√∫mero de semana corresponde cada fecha, esto lo obtenemos con las propiedades <code class="language-plaintext highlighter-rouge">week</code> y <code class="language-plaintext highlighter-rouge">weekday</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">by_date</span><span class="p">[</span><span class="s">"weekday"</span><span class="p">]</span> <span class="o">=</span> <span class="n">by_date</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="n">weekday</span>
<span class="n">by_date</span><span class="p">[</span><span class="s">"week"</span><span class="p">]</span> <span class="o">=</span> <span class="n">by_date</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="n">week</span>
</code></pre></div></div>

<p>Y que al final dejar√° nuestro DataFrame vi√©ndose as√≠:</p>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trackName</th>
      <th>weekday</th>
      <th>week</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-02-04</th>
      <td>5</td>
      <td>0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2019-02-05</th>
      <td>8</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2019-02-07</th>
      <td>60</td>
      <td>3</td>
      <td>6</td>
    </tr>
  </tbody>
</table>

<p>Hasta el momento ya tenemos casi todo, lo que falta es obtener n√∫meros continuos para la semana, es decir, en el frame de arriba la semana 6 de 2019 debe ser la semana 0, la semana 7 debe ser la semana 1‚Ä¶ a mi no se me ocurre otra manera de hacerlo m√°s que con un ciclo <code class="language-plaintext highlighter-rouge">for</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">week</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">prev_week</span> <span class="o">=</span> <span class="n">by_date</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">"week"</span><span class="p">]</span>
<span class="n">continuous_week</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">by_date</span><span class="p">)).</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">sunday_dates</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">by_date</span><span class="p">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s">"week"</span><span class="p">]</span> <span class="o">!=</span> <span class="n">prev_week</span><span class="p">:</span>
        <span class="n">week</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">prev_week</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s">"week"</span><span class="p">]</span>
    <span class="n">continuous_week</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">week</span>
<span class="n">by_date</span><span class="p">[</span><span class="s">"continuous_week"</span><span class="p">]</span> <span class="o">=</span> <span class="n">continuous_week</span> 
<span class="n">by_date</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trackName</th>
      <th>weekday</th>
      <th>week</th>
      <th>continuous_week</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-02-04</th>
      <td>5</td>
      <td>0</td>
      <td>6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2019-02-05</th>
      <td>8</td>
      <td>1</td>
      <td>6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2019-02-07</th>
      <td>60</td>
      <td>3</td>
      <td>6</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<p>El siguiente paso es preparar, con NumPy, una matriz de tama√±o <code class="language-plaintext highlighter-rouge">d√≠as ‚úï semanas</code> en donde cada una de las entradas ser√° la cantidad de canciones que escuchamos en ese d√≠a, de esa semana:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">songs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">full</span><span class="p">((</span><span class="mi">7</span><span class="p">,</span> <span class="n">continuous_week</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span><span class="p">)</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">by_date</span><span class="p">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">songs</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s">"weekday"</span><span class="p">]][</span><span class="n">row</span><span class="p">[</span><span class="s">"continuous_week"</span><span class="p">]]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s">"trackName"</span><span class="p">]</span>
</code></pre></div></div>

<p>Ahora, simplemente podr√≠amos graficar el la matriz <code class="language-plaintext highlighter-rouge">songs</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">songs</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">songs</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">)</span>
</code></pre></div></div>

<p>Sin embargo el resultado no es tan agradable:</p>

<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/kq4hxl4yddbzsfqt0yl5.png" alt="Histograma horrible" /></p>

<p>Lo que podemos hacer para mejorarlo requiere de un poco m√°s de c√≥digo. Lo primero es limpiar un poco las etiquetas de los ejes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">min_date</span> <span class="o">=</span> <span class="n">streaming_history</span><span class="p">[</span><span class="s">"endTime"</span><span class="p">].</span><span class="nb">min</span><span class="p">()</span>
<span class="n">first_monday</span> <span class="o">=</span> <span class="n">min_date</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">min_date</span><span class="p">.</span><span class="n">weekday</span><span class="p">())</span>
<span class="n">mons</span> <span class="o">=</span> <span class="p">[</span><span class="n">first_monday</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="n">wk</span><span class="p">)</span> <span class="k">for</span> <span class="n">wk</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">continuous_week</span><span class="p">.</span><span class="nb">max</span><span class="p">())]</span>
<span class="n">x_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">calendar</span><span class="p">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="n">mons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">month</span><span class="p">]]</span>
<span class="n">x_labels</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span>
    <span class="n">calendar</span><span class="p">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="n">mons</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">month</span><span class="p">]</span> <span class="k">if</span> <span class="n">mons</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">month</span> <span class="o">!=</span> <span class="n">mons</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">month</span> <span class="k">else</span> <span class="s">""</span> 
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">mons</span><span class="p">))])</span>

<span class="n">y_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Mon"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"Wed"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"Fri"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"Sun"</span><span class="p">]</span>
</code></pre></div></div>

<p>Definitivamente las etiquetas del eje de las X son mucho m√°s complicado que las de Y, ya que no son continuas ni fijas, deben ser calculadas de acuerdo a los datos (si quieres un poco m√°s de explicaci√≥n sobre el c√≥digo, dime en los comentarios o en <a href="https://twitter.com/io_exception">@io_exception</a>).</p>

<p>Despu√©s vamos a hacer un poco de <em>grafimagia</em> con el tama√±o de la gr√°fica, colores y los ejes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">()</span>

<span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"My year on Spotify"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">xaxis</span><span class="p">.</span><span class="n">tick_top</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span><span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s">"#ebedf0"</span><span class="p">)</span> 
<span class="n">fig</span><span class="p">.</span><span class="n">patch</span><span class="p">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s">'white'</span><span class="p">)</span>
</code></pre></div></div>

<p>Y ya por √∫ltimo, usaremos el <code class="language-plaintext highlighter-rouge">heatmap</code> de <em>seaborn</em> con algunos cuantos argumentos que explicar√© m√°s adelante y desde luego, no olvides que hay que poner las etiquetas que tanto nos cost√≥ conseguir:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">songs</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s">'white'</span><span class="p">,</span> <span class="n">square</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">mask</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">songs</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s">"Greens"</span><span class="p">,</span>
            <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">y_labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">x_labels</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">"left"</span><span class="p">)</span>
</code></pre></div></div>

<p>Los argumentos:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">songs</code>: nuestra matriz de <code class="language-plaintext highlighter-rouge">d√≠as ‚úï semanas</code> con la cuenta de canciones por d√≠a,</li>
  <li><code class="language-plaintext highlighter-rouge">linewidths</code>: el tama√±o de la separaci√≥n entre cada recuadro,</li>
  <li><code class="language-plaintext highlighter-rouge">linecolor</code>: el color de la separaci√≥n entre cada recuadro,</li>
  <li><code class="language-plaintext highlighter-rouge">square</code>: le indica a la funci√≥n que queremos que se respete la relaci√≥n <code class="language-plaintext highlighter-rouge">1:1</code> en el tama√±o de cada recuadro,</li>
  <li><code class="language-plaintext highlighter-rouge">mask</code>: este es un argumento bastante interesante, ya que nos va a ayudar a ‚Äúenmascarar‚Äù llos recuadros para los que no tenemos informaci√≥n. Lo establecemos a una matriz de valores booleanos (de tama√±o <code class="language-plaintext highlighter-rouge">d√≠as ‚úï semanas</code>), en donde cada <code class="language-plaintext highlighter-rouge">True</code> significa que no hay informaci√≥n para dicho d√≠a/semana</li>
  <li><code class="language-plaintext highlighter-rouge">cmap</code>: el <em>colormap</em> que se debe aplicar, curiosamente ‚ÄúGreens‚Äù coincide bastante con la coloraci√≥n que usa GitHub,</li>
  <li><code class="language-plaintext highlighter-rouge">vmin</code>: el valor que consideramos como el m√≠nimo de entre todos nuestros valores,</li>
  <li><code class="language-plaintext highlighter-rouge">vmax</code>: el valor que consideramos m√°ximo de entre todos nuestros valores, en mi caso considero que 100 canciones es el m√°ximo, ¬°a pesar de que mi r√©cord es de 190 en un d√≠a!</li>
  <li><code class="language-plaintext highlighter-rouge">cbar</code>: valor <em>booleano</em> para indicar si queremos o no mostrar la barra de color que usualmente acompa√±a a el <em>heatmap</em>,</li>
  <li><code class="language-plaintext highlighter-rouge">ax</code>: el <em>axes</em> sobre el que se debe dibujar la gr√°fica.</li>
</ul>

<p>Y <em>voil√†</em>, nuestra gr√°fica est√° lista:</p>

<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/jdxkpdasrfc5arj3rnlw.png" alt="Histograma bonito" /></p>

<p>Ya quedar√° en ti modificar algunos aspectos de la gr√°fica, tal vez ponerle informaci√≥n acerca de la cantidad de canciones, habilitar la barra de color‚Ä¶ otra gran idea ser√≠a hacer lo mismo pero en un <em>framework</em> como D3.js, pero eso ya queda para otro post. Por lo mientras, te invito a jugar con los datos en <a href="https://colab.research.google.com/drive/1dnjCKGllq5v1iEUuoQxbROMG0IXfgoiG">este Google Colab Notebook</a> y a que me contactes <a href="https://twitter.com/io_exception">v√≠a twitter en @io_exception</a>.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscr√≠bete a üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</h3>
                    <p>Recibe las mejores publicaciones directamente a tu caja de entrada</p>
                    <div id="revue-embed">
  <form
    action="http://boletin.tacosdedatos.com/add_subscriber"
    method="post"
    id="revue-form"
    name="revue-form"
    target="_blank"
  >
    <div class="revue-form-group">
      <div>
        <label for="member_email">Correo electr√≥nico</label>
        <input
          class="revue-form-field"
          placeholder="Tu correo electr√≥nico"
          type="email"
          name="member[email]"
          id="member_email"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_first_name"
          >Nombre <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Nombre (opcional)"
          type="text"
          name="member[first_name]"
          id="member_first_name"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_last_name"
          >Apellidos <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Apellidos (opcional)"
          type="text"
          name="member[last_name]"
          id="member_last_name"
        />
      </div>
      <div class="revue-form-actions">
        <input
          type="submit"
          value="Subscribe"
          name="member[subscribe]"
          id="member_submit"
        />
      </div>
    </div>
    <div class="revue-form-footer">
      Al registrarte declaras aceptar los
      <a target="_blank" href="https://www.getrevue.co/terms"
        >t√©rminos y condiciones de uso</a
      >
      y la
      <a target="_blank" href="https://www.getrevue.co/privacy"
        >pol√≠tica de privacidad</a
      >
      de Revue.
    </div>
  </form>
</div>

                </section>
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/yo_io_exception.jpg" alt="io_exception" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/io_exception">Antonio Feregrino Bola√±os</a></h4>
                                
                                    <p>Soy cient√≠fico de datos pero crec√≠ siendo desarrollador de software.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/io_exception">Lee M√°s</a>
                        </div>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://old.tacosdedatos.com/mas-data-viz-con-spotify-python';
                            this.page.identifier = 'M√°s visualizaci√≥n con tus datos de Spotify con Python';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://tacosdedatos.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol. &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/blog/">Blog</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sidetable-el-beffo-de-pandas">Sidetable, el beffo de pandas</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Dueno-de-mis-Datos-Facebook-Parte-III">Due√±o de mis datos - Cap√≠tulo Facebook - Parte III</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Dueno-de-mis-Datos-Facebook-Parte-II">Due√±o de mis datos - Cap√≠tulo Facebook - Parte II</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/blog/">
                                
                                    See all 22 posts  ‚Üí
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/visualizando-temblores-joyplots">
                <div class="post-card-image" style="background-image: url(/assets/blogposts/013.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/visualizando-temblores-joyplots">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Blog</span>
                            
                        
                            
                               <span class="post-card-tags">Sismos</span>
                            
                        
                            
                               <span class="post-card-tags">Ridgeline plots</span>
                            
                        
                            
                               <span class="post-card-tags">Matplotlib</span>
                            
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Visualizando temblores con ridgeline plots</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/yo_io_exception.jpg" alt="Antonio Feregrino Bola√±os" />
                        
                        <span class="post-card-author">
                            <a href="/author/io_exception/">Antonio Feregrino Bola√±os</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Dueno-de-mis-Datos-Spotify">
                <div class="post-card-image" style="background-image: url(/assets/blogposts/blog-011.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Dueno-de-mis-Datos-Spotify">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Blog</span>
                            
                        
                            
                               <span class="post-card-tags">Spotify</span>
                            
                        
                            
                               <span class="post-card-tags">Ggplot2</span>
                            
                        
                            
                                <span class="post-card-tags">R</span>
                            
                        
                    

                    <h2 class="post-card-title">Due√±o de mis datos - Cap√≠tulo Spotify</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/yo_nerudista.jpg" alt="Pablo Quetzalc√≥atl V√°zquez" />
                        
                        <span class="post-card-author">
                            <a href="/author/nerudista/">Pablo Quetzalc√≥atl V√°zquez</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://old.tacosdedatos.com/">
            
                <img src="/assets/icons/favicon.ico" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol. icon" />
            
            <span>üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">M√°s visualizaci√≥n con tus datos de Spotify con Python</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">comparte esto <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=M%C3%A1s+visualizaci%C3%B3n+con+tus+datos+de+Spotify+con+Python&amp;url=https://old.tacosdedatos.com/mas-data-viz-con-spotify-python"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://old.tacosdedatos.com/mas-data-viz-con-spotify-python"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://old.tacosdedatos.com/">üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</a> &copy; 2021</section>
                <section class="poweredby">Publicado con <a href="https://jekyllrb.com/">Jekyll</a>, c√≥digo abierto en 
                    <a href="https://github.com/tacosdedatos/website" target="_blank" rel="noopener">GitHub</a> usando
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">lo <b>+</b> nuevo</a>
                    <a href="https://tacosdedatos.com/etiquetas" target="_blank" rel="noopener">etiquetas</a>
                    <!-- <a href="https://facebook.com/tacosdedatos" target="_blank" rel="noopener">Facebook</a> -->
                    <!-- <a href="https://twitter.com/tacosdedatos" target="_blank" rel="noopener">Twitter</a> -->
                    <a href="https://instagram.com/chekos.visuals" target="_blank" rel="noopener">instagram</a>
                    
                    <a href="https://join.slack.com/t/tacosdedatos/shared_invite/enQtNTQyOTE3NzE5NDE1LTA2MWZhMGE3NzNhYTA0Yjc1Yjk0NTZjNzM4M2VjOGIzOTA4YTc2ZjlkYjIyODRmYjA0MjVlMjExNjRjYWQ0NDQ" target="_blank" rel="noopener">slack</a>
                    <a href="https://patreon.com/tacosdedatos/" target="_blank" rel="noopener">patreon</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                    <img class="subscribe-overlay-logo" src="/assets/images/alt-blog-icon.png" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
                
                <h1 class="subscribe-overlay-title">Subscr√≠bete a üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</h1>
                <p class="subscribe-overlay-description">¬°Mantente al tanto! Recibe las mejores publicaciones directamente a tu caja de entrada.</p>
                <div id="revue-embed">
  <form
    action="http://boletin.tacosdedatos.com/add_subscriber"
    method="post"
    id="revue-form"
    name="revue-form"
    target="_blank"
  >
    <div class="revue-form-group">
      <div>
        <label for="member_email">Correo electr√≥nico</label>
        <input
          class="revue-form-field"
          placeholder="Tu correo electr√≥nico"
          type="email"
          name="member[email]"
          id="member_email"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_first_name"
          >Nombre <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Nombre (opcional)"
          type="text"
          name="member[first_name]"
          id="member_first_name"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_last_name"
          >Apellidos <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Apellidos (opcional)"
          type="text"
          name="member[last_name]"
          id="member_last_name"
        />
      </div>
      <div class="revue-form-actions">
        <input
          type="submit"
          value="Subscribe"
          name="member[subscribe]"
          id="member_submit"
        />
      </div>
    </div>
    <div class="revue-form-footer">
      Al registrarte declaras aceptar los
      <a target="_blank" href="https://www.getrevue.co/terms"
        >t√©rminos y condiciones de uso</a
      >
      y la
      <a target="_blank" href="https://www.getrevue.co/privacy"
        >pol√≠tica de privacidad</a
      >
      de Revue.
    </div>
  </form>
</div>

            </div>
        </div>
    

    <!-- highlight.js -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script> -->
    <script src="/assets/js/highlight.pack.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
        });
    });
    </script>
    <!-- prism.js -->
    <!-- <script type="text/javascript" src="/assets/js/prism.js"></script> -->
    

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>

    <!-- <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script> -->


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-133541532-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
