<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Visualizando temblores con ridgeline plots</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- <link rel="stylesheet" type="text/css" href="/assets/built/prism.css" /> -->
    <!-- highlight.js -->
    <!-- <link rel="stylesheet" href="/assets/built/styles/default.css"> -->
    <style>.hljs { background: none; }</style>
    <!-- night owl style  -->
    <link rel="stylesheet" href="/assets/built/styles/night-owl.css" />
    <style type='text/css'>
        pre, code {
            white-space: pre-wrap;
            overflow-x: scroll;
        }
        .hljs {
            display: inline-block;
            overflow-x: scroll;
            min-width: 100%;
        }
        .highlight {
            min-width: 100%;
        }
        div[class^="language-"] {
            min-width: 100%;
        }
    </style>

    

    



    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Tu sitio para aprender de visualizaci√≥n y ciencia de datos en espa√±ol. Consejos, recursos y mejores pr√°cticas para tus proyectos de tecnolog√≠a, periodismo de datos y an√°lisis estad√≠sticos." />
    <link rel="shortcut icon" href="https://old.tacosdedatos.com/assets/icons/favicon.ico" type="image/png" />
    <link rel="canonical" href="https://old.tacosdedatos.com/visualizando-temblores-joyplots" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Visualizando temblores con ridgeline plots" />
    <meta property="og:description" content="Seguramente has visto todas esas gr√°ficas parecieran sacadas de portadas de √°lbums‚Ä¶ pues bien, en este post te voy a ense√±ar c√≥mo crearla usando matplotlib, python y los datos del sistema sismol√≥gico nacional mexicano. Lo primero que vamos a hacer es descargar la informaci√≥n de sobre los temblores de la" />
    <meta property="og:url" content="https://old.tacosdedatos.com/visualizando-temblores-joyplots" />
    <meta property="og:image" content="https://old.tacosdedatos.com/assets/blogposts/013.png" />
    <meta property="article:publisher" content="https://www.facebook.com/tacosdedatos" />
    <meta property="article:author" content="https://www.facebook.com/tacosdedatos" />
    <meta property="article:published_time" content="2020-02-18T10:00:00+00:00" />
    <meta property="article:modified_time" content="2020-02-18T10:00:00+00:00" />
    <meta property="article:tag" content="Blog" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Visualizando temblores con ridgeline plots" />
    <meta name="twitter:description" content="Seguramente has visto todas esas gr√°ficas parecieran sacadas de portadas de √°lbums‚Ä¶ pues bien, en este post te voy a ense√±ar c√≥mo crearla usando matplotlib, python y los datos del sistema sismol√≥gico nacional mexicano. Lo primero que vamos a hacer es descargar la informaci√≥n de sobre los temblores de la" />
    <meta name="twitter:url" content="https://old.tacosdedatos.com/" />
    <meta name="twitter:image" content="https://old.tacosdedatos.com/assets/blogposts/013.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Blog" />
    <meta name="twitter:site" content="@tacosdedatos" />
    <meta name="twitter:creator" content="@tacosdedatos" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.",
        "logo": "https://old.tacosdedatos.com/assets/images/alt-blog-icon.png"
    },
    "url": "https://old.tacosdedatos.com/visualizando-temblores-joyplots",
    "image": {
        "@type": "ImageObject",
        "url": "https://old.tacosdedatos.com/assets/blogposts/013.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://old.tacosdedatos.com/visualizando-temblores-joyplots"
    },
    "description": "Seguramente has visto todas esas gr√°ficas parecieran sacadas de portadas de √°lbums‚Ä¶ pues bien, en este post te voy a ense√±ar c√≥mo crearla usando matplotlib, python y los datos del sistema sismol√≥gico nacional mexicano. Lo primero que vamos a hacer es descargar la informaci√≥n de sobre los temblores de la"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Visualizando temblores con ridgeline plots" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://old.tacosdedatos.com/"><img src="/assets/images/alt-blog-icon.png" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">inicio</a></li>
    <li class="nav-home" role="menuitem"><a href="https://medium.com/tacosdedatos/">la publiqueishon (Medium)</a></li>
    <li class="nav-about" role="menuitem"><a href="/sobre/">sobre üåÆ</a></li>
    <li class="nav-podcast" role="menuitem"><a href="https://tacosdedatos.fm">podcast üåÆüéß</a></li>
    <li class="nav-recursos" role="menuitem"><a href="http://boletin.tacosdedatos.com/">el bolet√≠n</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/tacosdedatos" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/tacosdedatos" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscr√≠bete</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-blog ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="18 February 2020">18 February 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/blog/'>BLOG</a>,
                            
                        
                            
                               <a href='/tag/sismos/'>SISMOS</a>,
                            
                        
                            
                               <a href='/tag/ridgeline-plots/'>RIDGELINE PLOTS</a>,
                            
                        
                            
                               <a href='/tag/matplotlib/'>MATPLOTLIB</a>,
                            
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Visualizando temblores con ridgeline plots</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/blogposts/013.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>Seguramente has visto todas esas gr√°ficas parecieran sacadas de portadas de √°lbums‚Ä¶ pues bien, en este post te voy a ense√±ar c√≥mo crearla usando matplotlib, python y los datos del sistema sismol√≥gico nacional mexicano.</p>

<p>Lo primero que vamos a hacer es descargar la informaci√≥n de sobre los temblores de la <a href="http://www2.ssn.unam.mx:8080/catalogo/">p√°gina del Sistema Sismol√≥gico Nacional</a>, en este caso yo eleg√≠ los datos del 1 de enero de 2017 al 1 de enero de 2018, pero tu puedes elegir otros. Despu√©s vamos a descargar un archivo con las siluetas de los estados de M√©xico, por ejemplo el <a href="https://tapiquen-sig.jimdofree.com/descargas-gratuitas/m%C3%A9xico/">sitio de Carlos Efra√≠n Porto Tapiqu√©n</a>.</p>

<p>Una vez hecho esto, vamos a instalar unos cuantos paquetes que nos van a ayudar con la visualizaci√≥n:</p>
<ul>
  <li>matplotlib</li>
  <li>numpy</li>
  <li>pandas</li>
  <li>geopandas</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="n">gpd</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="n">dt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
</code></pre></div></div>

<p>Leemos los datos de los temblores, tenemos que saltarnos las primeras cuatro filas porque el Sismol√≥gico Nacional decidi√≥ que tener un archivo CSV normal no val√≠a la pena.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">earthquakes</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"SSNMX_catalogo_20170101_20180101.csv"</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">earthquakes</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Fecha</th>
      <th>Hora</th>
      <th>Magnitud</th>
      <th>Latitud</th>
      <th>Longitud</th>
      <th>Profundidad</th>
      <th>Referencia de localizacion</th>
      <th>Fecha UTC</th>
      <th>Hora UTC</th>
      <th>Estatus</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2017-01-01</td>
      <td>00:15:59</td>
      <td>3.5</td>
      <td>15.2218</td>
      <td>-93.1245</td>
      <td>81.5</td>
      <td>35 km al SUROESTE de MAPASTEPEC, CHIS</td>
      <td>2017-01-01</td>
      <td>06:15:59</td>
      <td>revisado</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2017-01-01</td>
      <td>00:16:06</td>
      <td>3.2</td>
      <td>16.9610</td>
      <td>-99.5348</td>
      <td>36.7</td>
      <td>24 km al NOROESTE de SAN MARCOS, GRO</td>
      <td>2017-01-01</td>
      <td>06:16:06</td>
      <td>revisado</td>
    </tr>
  </tbody>
</table>

<p>Leemos tambi√©n los datos del archivo <code class="language-plaintext highlighter-rouge">.shp</code>, que son los datos que podemos usar para dibujar el mapa de M√©xico:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">map_df</span> <span class="o">=</span> <span class="n">gpd</span><span class="p">.</span><span class="n">read_file</span><span class="p">(</span><span class="s">"M√©xico_Estados.shp"</span><span class="p">)</span>
<span class="n">map_df</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CODIGO</th>
      <th>ESTADO</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>MX02</td>
      <td>Baja California</td>
      <td>MULTIPOLYGON (((-113.13972 29.01778, -113.51195 29.30305, -113.60028 29.43916, -113.57390 29.50583, -113.58862 29.58361, -113.40529 29.482 (...)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>MX03</td>
      <td>Baja California Sur</td>
      <td>MULTIPOLYGON (((-111.20612 25.80278, -111.23029 25.83416, -111.19139 26.03889,  (...)</td>
    </tr>
  </tbody>
</table>

<h2 id="histograma-2d">Histograma 2D</h2>

<p>La columna vertebral de nuestra visualizaci√≥n es un histograma en dos dimensiones, muy parecido al que realic√© hace unos d√≠as con mis datos de Spotify. En este caso vamos a hacer uso de NumPy para generar dicho histograma, para nosotros el eje de las <em>x</em> ser√° la <em>longitud</em> y el de las <em>y</em> es la <em>latitud</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="o">-</span><span class="mf">105.68</span><span class="p">,</span> <span class="o">-</span><span class="mf">92.04</span><span class="p">,</span> <span class="mf">20.14</span><span class="p">,</span> <span class="mf">13.79</span>
<span class="n">coordinates_range</span> <span class="o">=</span> <span class="p">[[</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">],</span> <span class="p">[</span><span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">]]</span>
<span class="n">values</span><span class="p">,</span> <span class="n">xedges</span><span class="p">,</span> <span class="n">yedges</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">histogram2d</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">earthquakes</span><span class="p">[</span><span class="s">"Longitud"</span><span class="p">].</span><span class="n">values</span><span class="p">,</span> 
                                        <span class="n">y</span><span class="o">=</span><span class="n">earthquakes</span><span class="p">[</span><span class="s">"Latitud"</span><span class="p">].</span><span class="n">values</span><span class="p">,</span>
                                        <span class="nb">range</span><span class="o">=</span><span class="n">coordinates_range</span><span class="p">,</span>
                                        <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">100</span><span class="p">])</span>
</code></pre></div></div>

<p>Los par√°metros que le pasamos a la funci√≥n <code class="language-plaintext highlighter-rouge">histogram2d</code> son:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">x</code>: las coordenadas en el eje X a tomar en cuenta</li>
  <li><code class="language-plaintext highlighter-rouge">y</code>: las coordenadas en el eje Y a tomar en cuenta</li>
  <li><code class="language-plaintext highlighter-rouge">range</code>: los l√≠mites que debe cubrir nuestro histograma, en este caso, como estamos tratando con las coordenadas del sur de M√©xico, -105.68 a la izquierda, -92.04 a la derecha, 20.14 arriba, 13.79 abajo.</li>
  <li><code class="language-plaintext highlighter-rouge">bins</code>: el n√∫mero de <em>‚Äúcubetas‚Äù</em> a crear, en nuestro caso, se crear√°n 600 cubetas horizontalmente y 100 verticales</li>
</ul>

<p>El resultado del m√©todo es una tripleta de valores:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">values</code>: un arreglo bidimensional con los valores de la cubeta, con nuestros valores anteriores las dimensiones de la cubeta son (600, 100)</li>
  <li><code class="language-plaintext highlighter-rouge">xedges</code>: los l√≠mites de las cubetas en el eje de las X, un arreglo de 601 entradas</li>
  <li><code class="language-plaintext highlighter-rouge">yedges</code>: los l√≠mites de las cubetas en el eje de las y, un arreglo de 101 entradas</li>
</ul>

<p>Si te est√°s preguntando por qu√© tanto <code class="language-plaintext highlighter-rouge">xedges</code> como <code class="language-plaintext highlighter-rouge">yedges</code> tienen tan peculiar n√∫mero de entradas es por que los valores de la cubeta incluyen ambos bordes (derecha-izquierda, arriba-abajo), en el caso de <code class="language-plaintext highlighter-rouge">xedges</code> tenemos algo como esto:</p>

<p><img src="https://i.imgur.com/Gk1iWLf.png" alt="visualizando xedges" /></p>

<p>Mientras que tener acceso a los bordes es √∫til para la mayor√≠a de los casos, para nuestro caso no lo es tanto, lo que vamos a hacer es promediar los bordes de las cubetas para obtener un par √∫nico para cada una de ellas, dej√°ndonos un arreglo de 600 entradas para el eje <code class="language-plaintext highlighter-rouge">x</code> y 100 para <code class="language-plaintext highlighter-rouge">y</code>:</p>

<p><img src="https://i.imgur.com/NVF9ixW.png" alt="visualizando xavg" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">xavg</span> <span class="o">=</span> <span class="p">(</span><span class="n">xedges</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">xedges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">yavg</span> <span class="o">=</span> <span class="p">(</span><span class="n">yedges</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">yedges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></div></div>

<p>Ya que casi tenemos todo, toca hacer un peque√±o truco para escalar los valores, y es que si usamos los valores <code class="language-plaintext highlighter-rouge">values</code> como est√°n, nuestra gr√°fica terminar√≠a saturada:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">scale_values</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">values</span> <span class="o">/</span> <span class="n">values</span><span class="p">.</span><span class="nb">max</span><span class="p">()</span>

<span class="n">scaled</span> <span class="o">=</span> <span class="n">scale_values</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</code></pre></div></div>

<p>Ahora s√≠, a graficar:</p>

<p>Creamos una nueva figura, de dimensiones considerables:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="n">gca</span><span class="p">()</span>
</code></pre></div></div>

<p>Graficamos el las siluetas de los estados mexicanos usando el dataframe obtenido de leer los datos con <em>geopandas</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">map_df</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'#eeeeee'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s">'#B3B3B3'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</code></pre></div></div>

<p>El siguiente paso es graficar cada una de las l√≠neas horizontales que representan los valores percibidos (contenidos dentro de <code class="language-plaintext highlighter-rouge">scaled</code>), si te das cuenta, estamos sumando <code class="language-plaintext highlighter-rouge">yavg[i]</code> a cada iteraci√≥n, esto es para mover nuestras gr√°ficas a lo largo del eje vertical.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">yavg</span><span class="p">)):</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xavg</span><span class="p">,</span> <span class="n">scaled</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">yavg</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>Como solamente estamos interesados en una porci√≥n de los datos, debemos establecer los l√≠mites de la informaci√≥n que queremos mostrar:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ax</span><span class="p">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">coordinates_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">coordinates_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div>

<p>Y con eso bastar√≠a para poder ver resultados de nuestra gr√°fica, sin embargo, podemos mejorarla un poco m√°s removiendo las marcas de los ejes, poni√©ndole un t√≠tulo y por √∫ltimo a√±adi√©ndole la informaci√≥n del autor y la fuente de los datos:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Earthquakes in Mexico (2017/01/01 - 2018/01/01)"</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">AnchoredText</span><span class="p">(</span><span class="s">"@io_exception - Data: SSN M√©xico"</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                    <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://i.imgur.com/MHLosn4.png" alt="visualizando xavg" /></p>

<p>Ya quedar√° en ti modificar algunos aspectos de la gr√°fica, tal vez ponerle un poco m√°s de color, mejorar la escala de los datos, incluyendo m√°s factores, o hacer una gr√°fica similar pero con otros datos. Por lo mientras, te invito a jugar con los datos en <a href="https://colab.research.google.com/drive/1fwVd2QMEMXgrJD-XNDv5EGayjZYAX7IB">este Google Colab Notebook</a> y a que me contactes <a href="https://twitter.com/io_exception">v√≠a twitter en @io_exception</a>.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscr√≠bete a üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</h3>
                    <p>Recibe las mejores publicaciones directamente a tu caja de entrada</p>
                    <div id="revue-embed">
  <form
    action="http://boletin.tacosdedatos.com/add_subscriber"
    method="post"
    id="revue-form"
    name="revue-form"
    target="_blank"
  >
    <div class="revue-form-group">
      <div>
        <label for="member_email">Correo electr√≥nico</label>
        <input
          class="revue-form-field"
          placeholder="Tu correo electr√≥nico"
          type="email"
          name="member[email]"
          id="member_email"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_first_name"
          >Nombre <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Nombre (opcional)"
          type="text"
          name="member[first_name]"
          id="member_first_name"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_last_name"
          >Apellidos <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Apellidos (opcional)"
          type="text"
          name="member[last_name]"
          id="member_last_name"
        />
      </div>
      <div class="revue-form-actions">
        <input
          type="submit"
          value="Subscribe"
          name="member[subscribe]"
          id="member_submit"
        />
      </div>
    </div>
    <div class="revue-form-footer">
      Al registrarte declaras aceptar los
      <a target="_blank" href="https://www.getrevue.co/terms"
        >t√©rminos y condiciones de uso</a
      >
      y la
      <a target="_blank" href="https://www.getrevue.co/privacy"
        >pol√≠tica de privacidad</a
      >
      de Revue.
    </div>
  </form>
</div>

                </section>
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/yo_io_exception.jpg" alt="io_exception" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/io_exception">Antonio Feregrino Bola√±os</a></h4>
                                
                                    <p>Soy cient√≠fico de datos pero crec√≠ siendo desarrollador de software.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/io_exception">Lee M√°s</a>
                        </div>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://old.tacosdedatos.com/visualizando-temblores-joyplots';
                            this.page.identifier = 'Visualizando temblores con ridgeline plots';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://tacosdedatos.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol. &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/blog/">Blog</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/sidetable-el-beffo-de-pandas">Sidetable, el beffo de pandas</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Dueno-de-mis-Datos-Facebook-Parte-III">Due√±o de mis datos - Cap√≠tulo Facebook - Parte III</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Dueno-de-mis-Datos-Facebook-Parte-II">Due√±o de mis datos - Cap√≠tulo Facebook - Parte II</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/blog/">
                                
                                    See all 22 posts  ‚Üí
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/paginas-perdidas-parte-1">
                <div class="post-card-image" style="background-image: url(/assets/blogposts/014.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/paginas-perdidas-parte-1">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Blog</span>
                            
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Las P√°ginas Perdidas Parte 1</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/yo_lewiserick.jpeg" alt="Luis Erick Zul Rabasa" />
                        
                        <span class="post-card-author">
                            <a href="/author/lewiserick/">Luis Erick Zul Rabasa</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/mas-data-viz-con-spotify-python">
                <div class="post-card-image" style="background-image: url(/assets/blogposts/012.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/mas-data-viz-con-spotify-python">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Blog</span>
                            
                        
                            
                               <span class="post-card-tags">Spotify</span>
                            
                        
                            
                               <span class="post-card-tags">Seaborn</span>
                            
                        
                            
                               <span class="post-card-tags">Matplotlib</span>
                            
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">M√°s visualizaci√≥n con tus datos de Spotify con Python</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/yo_io_exception.jpg" alt="Antonio Feregrino Bola√±os" />
                        
                        <span class="post-card-author">
                            <a href="/author/io_exception/">Antonio Feregrino Bola√±os</a>
                        </span>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://old.tacosdedatos.com/">
            
                <img src="/assets/icons/favicon.ico" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol. icon" />
            
            <span>üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Visualizando temblores con ridgeline plots</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">comparte esto <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Visualizando+temblores+con+ridgeline+plots&amp;url=https://old.tacosdedatos.com/visualizando-temblores-joyplots"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://old.tacosdedatos.com/visualizando-temblores-joyplots"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://old.tacosdedatos.com/">üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</a> &copy; 2021</section>
                <section class="poweredby">Publicado con <a href="https://jekyllrb.com/">Jekyll</a>, c√≥digo abierto en 
                    <a href="https://github.com/tacosdedatos/website" target="_blank" rel="noopener">GitHub</a> usando
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">lo <b>+</b> nuevo</a>
                    <a href="https://tacosdedatos.com/etiquetas" target="_blank" rel="noopener">etiquetas</a>
                    <!-- <a href="https://facebook.com/tacosdedatos" target="_blank" rel="noopener">Facebook</a> -->
                    <!-- <a href="https://twitter.com/tacosdedatos" target="_blank" rel="noopener">Twitter</a> -->
                    <a href="https://instagram.com/chekos.visuals" target="_blank" rel="noopener">instagram</a>
                    
                    <a href="https://join.slack.com/t/tacosdedatos/shared_invite/enQtNTQyOTE3NzE5NDE1LTA2MWZhMGE3NzNhYTA0Yjc1Yjk0NTZjNzM4M2VjOGIzOTA4YTc2ZjlkYjIyODRmYjA0MjVlMjExNjRjYWQ0NDQ" target="_blank" rel="noopener">slack</a>
                    <a href="https://patreon.com/tacosdedatos/" target="_blank" rel="noopener">patreon</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                    <img class="subscribe-overlay-logo" src="/assets/images/alt-blog-icon.png" alt="üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol." />
                
                <h1 class="subscribe-overlay-title">Subscr√≠bete a üåÆ tacos de datos | Aprende visualizaci√≥n de datos en espa√±ol.</h1>
                <p class="subscribe-overlay-description">¬°Mantente al tanto! Recibe las mejores publicaciones directamente a tu caja de entrada.</p>
                <div id="revue-embed">
  <form
    action="http://boletin.tacosdedatos.com/add_subscriber"
    method="post"
    id="revue-form"
    name="revue-form"
    target="_blank"
  >
    <div class="revue-form-group">
      <div>
        <label for="member_email">Correo electr√≥nico</label>
        <input
          class="revue-form-field"
          placeholder="Tu correo electr√≥nico"
          type="email"
          name="member[email]"
          id="member_email"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_first_name"
          >Nombre <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Nombre (opcional)"
          type="text"
          name="member[first_name]"
          id="member_first_name"
        />
      </div>
      <div class="revue-form-group">
        <label for="member_last_name"
          >Apellidos <span class="optional">(Opcional)</span></label
        >
        <input
          class="revue-form-field"
          placeholder="Apellidos (opcional)"
          type="text"
          name="member[last_name]"
          id="member_last_name"
        />
      </div>
      <div class="revue-form-actions">
        <input
          type="submit"
          value="Subscribe"
          name="member[subscribe]"
          id="member_submit"
        />
      </div>
    </div>
    <div class="revue-form-footer">
      Al registrarte declaras aceptar los
      <a target="_blank" href="https://www.getrevue.co/terms"
        >t√©rminos y condiciones de uso</a
      >
      y la
      <a target="_blank" href="https://www.getrevue.co/privacy"
        >pol√≠tica de privacidad</a
      >
      de Revue.
    </div>
  </form>
</div>

            </div>
        </div>
    

    <!-- highlight.js -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script> -->
    <script src="/assets/js/highlight.pack.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
        });
    });
    </script>
    <!-- prism.js -->
    <!-- <script type="text/javascript" src="/assets/js/prism.js"></script> -->
    

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>

    <!-- <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script> -->


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-133541532-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
