<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator>
  <link href="https://old.tacosdedatos.com/tag/blog/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://old.tacosdedatos.com/" rel="alternate" type="text/html" />
  <updated>2021-08-01T20:46:16+00:00</updated>
  <id>https://old.tacosdedatos.com/tag/blog/feed.xml</id>

  
  
  

  
    <title type="html">🌮 tacos de datos | Aprende visualización de datos en español. | </title>
  

  
    <subtitle>Tu sitio para aprender de visualización y ciencia de datos en español. Consejos, recursos y mejores prácticas para tus proyectos de tecnología, periodismo de datos y análisis estadísticos.</subtitle>
  

  

  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
  

  
    <entry>
      <title type="html">Sidetable, el beffo de pandas</title>
      <link href="https://old.tacosdedatos.com/sidetable-el-beffo-de-pandas" rel="alternate" type="text/html" title="Sidetable, el beffo de pandas" />
      <published>2020-07-01T10:00:00+00:00</published>
      <updated>2020-07-01T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/sidetable-el-beffo-de-pandas</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/sidetable-el-beffo-de-pandas">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-06-30-sidetable-el-beffo-de-pandas.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;&lt;code&gt;Sidetable&lt;/code&gt; es una biblioteca de python que agrega métodos a los DataFrames de pandas para facilitar la exploración de datos. Según Chris Moffit (el creador de &lt;code&gt;sidetable&lt;/code&gt;), en el repositorio de GitHub del proyecto, &lt;code&gt;sidetables&lt;/code&gt; es como una versión más chida de &lt;code&gt;.value_counts()&lt;/code&gt; y &lt;code&gt;.crosstab()&lt;/code&gt; juntos para facilitar la creación de tablas resumen (? &lt;em&gt;summary tables&lt;/em&gt;). &lt;a href=&quot;https://github.com/chris1610/sidetable#usage&quot;&gt;Repositorio de &lt;code&gt;sidetable&lt;/code&gt; en GitHub&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Este tutorial va a ser una rápida introducción a &lt;code&gt;sidetable&lt;/code&gt; para demostrar sus habilidades. Estaremos utilizando el conjunto de datos &lt;code&gt;palmerpenguins&lt;/code&gt; que tiene datos sobre 💖PINGÜINOS💖 que es una gran alternativa al dataset &lt;code&gt;iris&lt;/code&gt; que es comúnmente usado en estos tutoriales por que 1) los datos vienen de un estadístico racista que los publicó en una publicación sobre eugenesia🤮&lt;/p&gt;
&lt;p&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;me: using the iris dataset is fine. not everything Fisher did was about eugenics!&lt;br /&gt;&lt;br /&gt;me: *looks up the iris dataset citation* 😮 &lt;a href=&quot;https://t.co/GWymD6IG7I&quot;&gt;pic.twitter.com/GWymD6IG7I&lt;/a&gt;&lt;/p&gt;&amp;mdash; 🔥Kareem Carr🔥 (@kareem_carr) &lt;a href=&quot;https://twitter.com/kareem_carr/status/1271096239103369224?ref_src=twsrc%5Etfw&quot;&gt;June 11, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Para más información de los datos visita su página oficial &lt;a href=&quot;https://allisonhorst.github.io/palmerpenguins/&quot;&gt;allisonhorst.github.io/palmerpenguis/&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Para nuestra suerte la biblioteca &lt;code&gt;seaborn&lt;/code&gt; y su complemento &lt;code&gt;seaborn-data&lt;/code&gt; nos ayudan a obtener los datos rápidamente.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Prepareishon&quot;&gt;Prepareishon&lt;a class=&quot;anchor-link&quot; href=&quot;#Prepareishon&quot;&gt; &lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Obvis microbis tines que tener instalado &lt;code&gt;pandas&lt;/code&gt; y &lt;code&gt;sidetable&lt;/code&gt;. en este tutorial vamos a usar &lt;code&gt;seaborn&lt;/code&gt; para acceder los datos entonces también necesitarás instalarlo.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install -U pandas sidetable seaborn
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;la &lt;code&gt;U&lt;/code&gt; es de &lt;code&gt;--upgrade&lt;/code&gt;, significa que actualiza las bibliotecas si ya las tienes instaladas.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;seaborn&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sns&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sidetable&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Versión de seaborn: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__version__&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Versión de pandas: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__version__&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Versión de sidetable: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sidetable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__version__&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;

&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Versión de seaborn: 0.9.0
Versión de pandas: 1.0.5
Versión de sidetable: 0.5.0
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;load_dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;penguins&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
      &lt;th&gt;culmen_depth_mm&lt;/th&gt;
      &lt;th&gt;flipper_length_mm&lt;/th&gt;
      &lt;th&gt;body_mass_g&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;39.1&lt;/td&gt;
      &lt;td&gt;18.7&lt;/td&gt;
      &lt;td&gt;181.0&lt;/td&gt;
      &lt;td&gt;3750.0&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;39.5&lt;/td&gt;
      &lt;td&gt;17.4&lt;/td&gt;
      &lt;td&gt;186.0&lt;/td&gt;
      &lt;td&gt;3800.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;40.3&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;195.0&lt;/td&gt;
      &lt;td&gt;3250.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;36.7&lt;/td&gt;
      &lt;td&gt;19.3&lt;/td&gt;
      &lt;td&gt;193.0&lt;/td&gt;
      &lt;td&gt;3450.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Exploreishon&quot;&gt;Exploreishon&lt;a class=&quot;anchor-link&quot; href=&quot;#Exploreishon&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Dos métodos para explorar un DataFrame rápidamente son &lt;code&gt;.info()&lt;/code&gt; y &lt;code&gt;.describe()&lt;/code&gt; los cuales te muestran lo siguiente&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;

&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;&amp;lt;class &amp;#39;pandas.core.frame.DataFrame&amp;#39;&amp;gt;
RangeIndex: 344 entries, 0 to 343
Data columns (total 7 columns):
 #   Column             Non-Null Count  Dtype  
---  ------             --------------  -----  
 0   species            344 non-null    object 
 1   island             344 non-null    object 
 2   culmen_length_mm   342 non-null    float64
 3   culmen_depth_mm    342 non-null    float64
 4   flipper_length_mm  342 non-null    float64
 5   body_mass_g        342 non-null    float64
 6   sex                333 non-null    object 
dtypes: float64(4), object(3)
memory usage: 18.9+ KB
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
      &lt;th&gt;culmen_depth_mm&lt;/th&gt;
      &lt;th&gt;flipper_length_mm&lt;/th&gt;
      &lt;th&gt;body_mass_g&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;count&lt;/th&gt;
      &lt;td&gt;342.000000&lt;/td&gt;
      &lt;td&gt;342.000000&lt;/td&gt;
      &lt;td&gt;342.000000&lt;/td&gt;
      &lt;td&gt;342.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;mean&lt;/th&gt;
      &lt;td&gt;43.921930&lt;/td&gt;
      &lt;td&gt;17.151170&lt;/td&gt;
      &lt;td&gt;200.915205&lt;/td&gt;
      &lt;td&gt;4201.754386&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;std&lt;/th&gt;
      &lt;td&gt;5.459584&lt;/td&gt;
      &lt;td&gt;1.974793&lt;/td&gt;
      &lt;td&gt;14.061714&lt;/td&gt;
      &lt;td&gt;801.954536&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;min&lt;/th&gt;
      &lt;td&gt;32.100000&lt;/td&gt;
      &lt;td&gt;13.100000&lt;/td&gt;
      &lt;td&gt;172.000000&lt;/td&gt;
      &lt;td&gt;2700.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;25%&lt;/th&gt;
      &lt;td&gt;39.225000&lt;/td&gt;
      &lt;td&gt;15.600000&lt;/td&gt;
      &lt;td&gt;190.000000&lt;/td&gt;
      &lt;td&gt;3550.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;50%&lt;/th&gt;
      &lt;td&gt;44.450000&lt;/td&gt;
      &lt;td&gt;17.300000&lt;/td&gt;
      &lt;td&gt;197.000000&lt;/td&gt;
      &lt;td&gt;4050.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;75%&lt;/th&gt;
      &lt;td&gt;48.500000&lt;/td&gt;
      &lt;td&gt;18.700000&lt;/td&gt;
      &lt;td&gt;213.000000&lt;/td&gt;
      &lt;td&gt;4750.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;max&lt;/th&gt;
      &lt;td&gt;59.600000&lt;/td&gt;
      &lt;td&gt;21.500000&lt;/td&gt;
      &lt;td&gt;231.000000&lt;/td&gt;
      &lt;td&gt;6300.000000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;&lt;code&gt;.info()&lt;/code&gt; te muestra una tabla con las columnas de tu DataFrame, la cuenta de valores &lt;em&gt;no nulos&lt;/em&gt; y el &lt;em&gt;dtype&lt;/em&gt; o &lt;em&gt;data type&lt;/em&gt; de los datos de la columna. Mientras que &lt;code&gt;describe()&lt;/code&gt; te muestra estadísticas de tus columnas numéricas. La cuenta, el promedio, la deviación estandar, el mínimo y máximo y los percentiles 25, 50 (la mediana) y 75.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Valores-nulos&quot;&gt;Valores nulos&lt;a class=&quot;anchor-link&quot; href=&quot;#Valores-nulos&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Lo que yo hacía antes era utilizar el método &lt;code&gt;.isna()&lt;/code&gt; o &lt;code&gt;.isnull()&lt;/code&gt; en el DataFrame &lt;em&gt;encadenado&lt;/em&gt; a &lt;code&gt;.sum()&lt;/code&gt; para ver cuantos valores nulos tenía cada columna&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isna&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;



&lt;div class=&quot;output_text output_subarea output_execute_result&quot;&gt;
&lt;pre&gt;species               0
island                0
culmen_length_mm      2
culmen_depth_mm       2
flipper_length_mm     2
body_mass_g           2
sex                  11
dtype: int64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Y luego si quería saber que porcentage es del total era hacer algo así&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isna&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;



&lt;div class=&quot;output_text output_subarea output_execute_result&quot;&gt;
&lt;pre&gt;species              0.000000
island               0.000000
culmen_length_mm     0.005814
culmen_depth_mm      0.005814
flipper_length_mm    0.005814
body_mass_g          0.005814
sex                  0.031977
dtype: float64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;ya que &lt;code&gt;len(datos)&lt;/code&gt; te da el &quot;largo&quot; del DataFrame, osea el número de filas.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;&lt;code&gt;sidetable&lt;/code&gt; simplifica esto de la siguiente manera&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;missing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Missing&lt;/th&gt;
      &lt;th&gt;Total&lt;/th&gt;
      &lt;th&gt;Percent&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;sex&lt;/th&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.031977&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.005814&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;culmen_depth_mm&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.005814&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;flipper_length_mm&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.005814&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;body_mass_g&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.005814&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.000000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;island&lt;/th&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;0.000000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;y hasta lo enchula&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;missing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;Missing&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;Total&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;sex&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;11&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;3.20%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;culmen_length_mm&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;0.58%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;culmen_depth_mm&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;0.58%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;flipper_length_mm&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;0.58%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;body_mass_g&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;0.58%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row5&quot; class=&quot;row_heading level0 row5&quot;&gt;species&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row5_col0&quot; class=&quot;data row5 col0&quot;&gt;0&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row5_col1&quot; class=&quot;data row5 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row5_col2&quot; class=&quot;data row5 col2&quot;&gt;0.00%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122level0_row6&quot; class=&quot;row_heading level0 row6&quot;&gt;island&lt;/th&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row6_col0&quot; class=&quot;data row6 col0&quot;&gt;0&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row6_col1&quot; class=&quot;data row6 col1&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_bbb65e7e_bb0e_11ea_8f75_acde48001122row6_col2&quot; class=&quot;data row6 col2&quot;&gt;0.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;La mágia de &lt;code&gt;sidetable&lt;/code&gt; es que agrega un &lt;em&gt;accessor&lt;/em&gt; a los DataFrames de pandas. Al hacer &lt;code&gt;import sidetable&lt;/code&gt; estás habilitando el &lt;em&gt;accessor&lt;/em&gt; &lt;code&gt;.stb&lt;/code&gt;. Así es como se integra a tu flujo de trabajo.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Frecuencias&quot;&gt;Frecuencias&lt;a class=&quot;anchor-link&quot; href=&quot;#Frecuencias&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;El siguiente método incluido en &lt;code&gt;sidetable&lt;/code&gt; es &lt;code&gt;.freq()&lt;/code&gt; que es como un &lt;code&gt;.value_counts()&lt;/code&gt; súper poderoso.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value_counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;



&lt;div class=&quot;output_text output_subarea output_execute_result&quot;&gt;
&lt;pre&gt;Biscoe       168
Dream        124
Torgersen     52
Name: island, dtype: int64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value_counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normalize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;



&lt;div class=&quot;output_text output_subarea output_execute_result&quot;&gt;
&lt;pre&gt;Biscoe       0.488372
Dream        0.360465
Torgersen    0.151163
Name: island, dtype: float64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
      &lt;th&gt;Count&lt;/th&gt;
      &lt;th&gt;Percent&lt;/th&gt;
      &lt;th&gt;Cumulative Count&lt;/th&gt;
      &lt;th&gt;Cumulative Percent&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;168&lt;/td&gt;
      &lt;td&gt;0.488372&lt;/td&gt;
      &lt;td&gt;168&lt;/td&gt;
      &lt;td&gt;0.488372&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Dream&lt;/td&gt;
      &lt;td&gt;124&lt;/td&gt;
      &lt;td&gt;0.360465&lt;/td&gt;
      &lt;td&gt;292&lt;/td&gt;
      &lt;td&gt;0.848837&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;52&lt;/td&gt;
      &lt;td&gt;0.151163&lt;/td&gt;
      &lt;td&gt;344&lt;/td&gt;
      &lt;td&gt;1.000000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Este método también tiene el parametro &lt;code&gt;style&lt;/code&gt; para limpiar la columna de porcentages.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;island&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Cumulative Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;168&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;48.84%&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;168&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;48.84%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;36.05%&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;292&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;84.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Torgersen&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;52&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;15.12%&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_53c609fc_bb10_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Algo que me encantó de esta biblioteca es que crea también estos porcentages y cuentas cumulativas. En este caso no agrega mucho contexto pero cuando trabajo con datos censales se me hace muy útil.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Habrás notado que le pasamos una lista de columnas (aunque haya sido una lista de 1. De hecho, el parámetro de la función &lt;code&gt;.freq()&lt;/code&gt; se llama &lt;code&gt;cols&lt;/code&gt; en plural. Veamos que sucede si le pasamos más de una columna.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;island&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;species&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;sex&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col6&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;Gentoo&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;MALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;61&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;18.32%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;61&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row0_col6&quot; class=&quot;data row0 col6&quot;&gt;18.32%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;Gentoo&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;FEMALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;58&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;17.42%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;119&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row1_col6&quot; class=&quot;data row1 col6&quot;&gt;35.74%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;Chinstrap&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;MALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;34&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;10.21%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;153&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row2_col6&quot; class=&quot;data row2 col6&quot;&gt;45.95%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;3&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;Chinstrap&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;FEMALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col3&quot; class=&quot;data row3 col3&quot;&gt;34&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col4&quot; class=&quot;data row3 col4&quot;&gt;10.21%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col5&quot; class=&quot;data row3 col5&quot;&gt;187&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row3_col6&quot; class=&quot;data row3 col6&quot;&gt;56.16%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;4&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;MALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col3&quot; class=&quot;data row4 col3&quot;&gt;28&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col4&quot; class=&quot;data row4 col4&quot;&gt;8.41%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col5&quot; class=&quot;data row4 col5&quot;&gt;215&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row4_col6&quot; class=&quot;data row4 col6&quot;&gt;64.56%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row5&quot; class=&quot;row_heading level0 row5&quot;&gt;5&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col0&quot; class=&quot;data row5 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col1&quot; class=&quot;data row5 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col2&quot; class=&quot;data row5 col2&quot;&gt;FEMALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col3&quot; class=&quot;data row5 col3&quot;&gt;27&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col4&quot; class=&quot;data row5 col4&quot;&gt;8.11%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col5&quot; class=&quot;data row5 col5&quot;&gt;242&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row5_col6&quot; class=&quot;data row5 col6&quot;&gt;72.67%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row6&quot; class=&quot;row_heading level0 row6&quot;&gt;6&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col0&quot; class=&quot;data row6 col0&quot;&gt;Torgersen&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col1&quot; class=&quot;data row6 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col2&quot; class=&quot;data row6 col2&quot;&gt;FEMALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col3&quot; class=&quot;data row6 col3&quot;&gt;24&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col4&quot; class=&quot;data row6 col4&quot;&gt;7.21%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col5&quot; class=&quot;data row6 col5&quot;&gt;266&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row6_col6&quot; class=&quot;data row6 col6&quot;&gt;79.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row7&quot; class=&quot;row_heading level0 row7&quot;&gt;7&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col0&quot; class=&quot;data row7 col0&quot;&gt;Torgersen&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col1&quot; class=&quot;data row7 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col2&quot; class=&quot;data row7 col2&quot;&gt;MALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col3&quot; class=&quot;data row7 col3&quot;&gt;23&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col4&quot; class=&quot;data row7 col4&quot;&gt;6.91%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col5&quot; class=&quot;data row7 col5&quot;&gt;289&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row7_col6&quot; class=&quot;data row7 col6&quot;&gt;86.79%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row8&quot; class=&quot;row_heading level0 row8&quot;&gt;8&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col0&quot; class=&quot;data row8 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col1&quot; class=&quot;data row8 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col2&quot; class=&quot;data row8 col2&quot;&gt;MALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col3&quot; class=&quot;data row8 col3&quot;&gt;22&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col4&quot; class=&quot;data row8 col4&quot;&gt;6.61%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col5&quot; class=&quot;data row8 col5&quot;&gt;311&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row8_col6&quot; class=&quot;data row8 col6&quot;&gt;93.39%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122level0_row9&quot; class=&quot;row_heading level0 row9&quot;&gt;9&lt;/th&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col0&quot; class=&quot;data row9 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col1&quot; class=&quot;data row9 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col2&quot; class=&quot;data row9 col2&quot;&gt;FEMALE&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col3&quot; class=&quot;data row9 col3&quot;&gt;22&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col4&quot; class=&quot;data row9 col4&quot;&gt;6.61%&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col5&quot; class=&quot;data row9 col5&quot;&gt;333&lt;/td&gt;
                        &lt;td id=&quot;T_861ca582_bb10_11ea_8f75_acde48001122row9_col6&quot; class=&quot;data row9 col6&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;para lograr algo similar puro pandas tendría que hacer algo como&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;groupby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;culmen_length_mm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reset_index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
      &lt;td&gt;58&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
      &lt;td&gt;61&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;Dream&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;td&gt;Dream&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;td&gt;Dream&lt;/td&gt;
      &lt;td&gt;Chinstrap&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;td&gt;Dream&lt;/td&gt;
      &lt;td&gt;Chinstrap&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;9&lt;/th&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;guardar este DataFrame con un nombre nuevo y crearle nuevas columnas. Con &lt;code&gt;sidetable&lt;/code&gt; logro esto con un sólo comando.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Esa es la mágia de &lt;code&gt;sidetable&lt;/code&gt; en mi opinión. No es que este ofreciendote funcionalidades que no existían en pandas. Lo que hace es hacerlas más accesibles 💖&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Este método &lt;code&gt;.freq()&lt;/code&gt; también tiene el parámetro &lt;code&gt;thresh&lt;/code&gt; que sirve para agrupar valores hasta cierto valor cumulativo.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;island&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;species&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;Gentoo&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;36.05%&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;36.05%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;Chinstrap&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;68&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;19.77%&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;192&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;55.81%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;56&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;16.28%&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;248&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;72.09%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;3&lt;/th&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;Torgersen&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;52&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col3&quot; class=&quot;data row3 col3&quot;&gt;15.12%&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col4&quot; class=&quot;data row3 col4&quot;&gt;300&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row3_col5&quot; class=&quot;data row3 col5&quot;&gt;87.21%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;4&lt;/th&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;Adelie&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;44&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col3&quot; class=&quot;data row4 col3&quot;&gt;12.79%&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col4&quot; class=&quot;data row4 col4&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_1ccec7f8_bb16_11ea_8f75_acde48001122row4_col5&quot; class=&quot;data row4 col5&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thresh&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;island&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;species&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;Gentoo&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;36.05%&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;36.05%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;Chinstrap&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;68&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;19.77%&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;192&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;55.81%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Others&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;Others&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;152&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;44.19%&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_311d7fc4_bb16_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Lo que &lt;code&gt;sidetable&lt;/code&gt; esta haciendo es mostrar tus valores hasta que llegan a tu &lt;code&gt;thresh&lt;/code&gt; o límite. En este caso, muestra todos los valores que van sumando hasta llegar a un valor cumulativo de 60% y los demás valores se agrupan bajo la etiqueta &lt;code&gt;Others&lt;/code&gt; (la cual también puedes modificar).&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thresh&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other_label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;baia baia tacubaya&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;island&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;species&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative Count&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Biscoe&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;Gentoo&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;36.05%&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;124&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;36.05%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Dream&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;Chinstrap&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;68&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;19.77%&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;192&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;55.81%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;baia baia tacubaya&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;baia baia tacubaya&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;152&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;44.19%&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;344&lt;/td&gt;
                        &lt;td id=&quot;T_f0d3d67e_bb16_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Subtotal&quot;&gt;Subtotal&lt;a class=&quot;anchor-link&quot; href=&quot;#Subtotal&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;El tercer método que &lt;code&gt;sidetable&lt;/code&gt; ofrece es &lt;code&gt;.subtotal()&lt;/code&gt; que te permite, como su nombre lo indica, crear subtotales de tus datos agrupados.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
      &lt;th&gt;culmen_depth_mm&lt;/th&gt;
      &lt;th&gt;flipper_length_mm&lt;/th&gt;
      &lt;th&gt;body_mass_g&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;39.1&lt;/td&gt;
      &lt;td&gt;18.7&lt;/td&gt;
      &lt;td&gt;181.0&lt;/td&gt;
      &lt;td&gt;3750.0&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;39.5&lt;/td&gt;
      &lt;td&gt;17.4&lt;/td&gt;
      &lt;td&gt;186.0&lt;/td&gt;
      &lt;td&gt;3800.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;40.3&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;195.0&lt;/td&gt;
      &lt;td&gt;3250.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;Adelie&lt;/td&gt;
      &lt;td&gt;Torgersen&lt;/td&gt;
      &lt;td&gt;36.7&lt;/td&gt;
      &lt;td&gt;19.3&lt;/td&gt;
      &lt;td&gt;193.0&lt;/td&gt;
      &lt;td&gt;3450.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;340&lt;/th&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;46.8&lt;/td&gt;
      &lt;td&gt;14.3&lt;/td&gt;
      &lt;td&gt;215.0&lt;/td&gt;
      &lt;td&gt;4850.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;341&lt;/th&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;50.4&lt;/td&gt;
      &lt;td&gt;15.7&lt;/td&gt;
      &lt;td&gt;222.0&lt;/td&gt;
      &lt;td&gt;5750.0&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;342&lt;/th&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;45.2&lt;/td&gt;
      &lt;td&gt;14.8&lt;/td&gt;
      &lt;td&gt;212.0&lt;/td&gt;
      &lt;td&gt;5200.0&lt;/td&gt;
      &lt;td&gt;FEMALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;343&lt;/th&gt;
      &lt;td&gt;Gentoo&lt;/td&gt;
      &lt;td&gt;Biscoe&lt;/td&gt;
      &lt;td&gt;49.9&lt;/td&gt;
      &lt;td&gt;16.1&lt;/td&gt;
      &lt;td&gt;213.0&lt;/td&gt;
      &lt;td&gt;5400.0&lt;/td&gt;
      &lt;td&gt;MALE&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Grand Total&lt;/th&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
      &lt;td&gt;15021.3&lt;/td&gt;
      &lt;td&gt;5865.7&lt;/td&gt;
      &lt;td&gt;68713.0&lt;/td&gt;
      &lt;td&gt;1437000.0&lt;/td&gt;
      &lt;td&gt;NaN&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;345 rows × 7 columns&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Puedes ver como agrega la fila &lt;strong&gt;Grand total&lt;/strong&gt; a tu DataFrame. No es como que digas hijole que bruto que útil agregar un total a esta tabla pero lo más interesante aparece cuando aplicas &lt;code&gt;.subtotal()&lt;/code&gt; a un objeto &lt;code&gt;.groupby()&lt;/code&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;groupby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Adelie&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Chinstrap&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Gentoo&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;58&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;61&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;groupby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;island&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtotal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;island&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;3&quot; valign=&quot;top&quot;&gt;Adelie&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Adelie - subtotal&lt;/th&gt;
      &lt;td&gt;146&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;3&quot; valign=&quot;top&quot;&gt;Chinstrap&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Chinstrap - subtotal&lt;/th&gt;
      &lt;td&gt;68&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;3&quot; valign=&quot;top&quot;&gt;Gentoo&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;58&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;61&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Gentoo - subtotal&lt;/th&gt;
      &lt;td&gt;119&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Grand Total&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;td&gt;333&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Para hacer algo así en pandas tendrías que hacer algo como&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pivot_table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;species&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;culmen_length_mm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aggfunc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;margins&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;culmen_length_mm&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;species&lt;/th&gt;
      &lt;th&gt;sex&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Adelie&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;73&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Chinstrap&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;34&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th rowspan=&quot;2&quot; valign=&quot;top&quot;&gt;Gentoo&lt;/th&gt;
      &lt;th&gt;FEMALE&lt;/th&gt;
      &lt;td&gt;58&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MALE&lt;/th&gt;
      &lt;td&gt;61&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;All&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;td&gt;333&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;hr /&gt;
&lt;p&gt;Esas son las 3 funcionalidades que &lt;code&gt;sidetable&lt;/code&gt; agrega a pandas: &lt;code&gt;.missing()&lt;/code&gt;, &lt;code&gt;.freq()&lt;/code&gt; y &lt;code&gt;.subtotal()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Personalmente, voy a utilizar &lt;code&gt;sidetable&lt;/code&gt; en todos los cursos y talleres que imparta de ahora en adelante. Ofrece el poder de pandas pero más accesible.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;Bonus&quot;&gt;Bonus&lt;a class=&quot;anchor-link&quot; href=&quot;#Bonus&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Aunque me encanten los pingüinos la verdad es que yo no uso ese tipo de datos en mi día a día así que aquí hay un ejemplo de una tabla que produciría en el trabajo.&lt;/p&gt;
&lt;p&gt;Para este ejercicio voy a utilizar &lt;code&gt;pypums&lt;/code&gt; una biblioteca mia que te permite descargar datos del censo de estados unidos de manera automatizable con python.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sidetable&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pypums&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ACS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;california&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ACS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;california&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2017&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;california&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as_dataframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;RT&lt;/th&gt;
      &lt;th&gt;SERIALNO&lt;/th&gt;
      &lt;th&gt;DIVISION&lt;/th&gt;
      &lt;th&gt;SPORDER&lt;/th&gt;
      &lt;th&gt;PUMA&lt;/th&gt;
      &lt;th&gt;REGION&lt;/th&gt;
      &lt;th&gt;ST&lt;/th&gt;
      &lt;th&gt;ADJINC&lt;/th&gt;
      &lt;th&gt;PWGTP&lt;/th&gt;
      &lt;th&gt;AGEP&lt;/th&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;th&gt;PWGTP71&lt;/th&gt;
      &lt;th&gt;PWGTP72&lt;/th&gt;
      &lt;th&gt;PWGTP73&lt;/th&gt;
      &lt;th&gt;PWGTP74&lt;/th&gt;
      &lt;th&gt;PWGTP75&lt;/th&gt;
      &lt;th&gt;PWGTP76&lt;/th&gt;
      &lt;th&gt;PWGTP77&lt;/th&gt;
      &lt;th&gt;PWGTP78&lt;/th&gt;
      &lt;th&gt;PWGTP79&lt;/th&gt;
      &lt;th&gt;PWGTP80&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;P&lt;/td&gt;
      &lt;td&gt;2017000000014&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;6703&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;1011189&lt;/td&gt;
      &lt;td&gt;59&lt;/td&gt;
      &lt;td&gt;45&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;64&lt;/td&gt;
      &lt;td&gt;63&lt;/td&gt;
      &lt;td&gt;55&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;65&lt;/td&gt;
      &lt;td&gt;62&lt;/td&gt;
      &lt;td&gt;68&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;101&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;P&lt;/td&gt;
      &lt;td&gt;2017000000014&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;6703&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;1011189&lt;/td&gt;
      &lt;td&gt;57&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;51&lt;/td&gt;
      &lt;td&gt;54&lt;/td&gt;
      &lt;td&gt;59&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;95&lt;/td&gt;
      &lt;td&gt;53&lt;/td&gt;
      &lt;td&gt;56&lt;/td&gt;
      &lt;td&gt;62&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;97&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;P&lt;/td&gt;
      &lt;td&gt;2017000000014&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;6703&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;1011189&lt;/td&gt;
      &lt;td&gt;54&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;50&lt;/td&gt;
      &lt;td&gt;62&lt;/td&gt;
      &lt;td&gt;52&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;99&lt;/td&gt;
      &lt;td&gt;53&lt;/td&gt;
      &lt;td&gt;60&lt;/td&gt;
      &lt;td&gt;60&lt;/td&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;90&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;P&lt;/td&gt;
      &lt;td&gt;2017000000017&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;110&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;1011189&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;140&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
      &lt;td&gt;67&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;117&lt;/td&gt;
      &lt;td&gt;65&lt;/td&gt;
      &lt;td&gt;113&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;P&lt;/td&gt;
      &lt;td&gt;2017000000017&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;110&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;1011189&lt;/td&gt;
      &lt;td&gt;71&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;116&lt;/td&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;79&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;110&lt;/td&gt;
      &lt;td&gt;72&lt;/td&gt;
      &lt;td&gt;123&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;5 rows × 286 columns&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Usando &lt;code&gt;sidetable&lt;/code&gt; puedo encontrar estadísticas sobre la población de California rápidamente. Algo que me gusta mucho de &lt;code&gt;sidetable&lt;/code&gt; es que puedo agregar el parámetro &lt;code&gt;value&lt;/code&gt; para pasarle una columna que va a utilizar para la agregación de mis datos. En este caso, uso &lt;code&gt;PWGTP&lt;/code&gt; (&lt;em&gt;person weight&lt;/em&gt;) o factor de expansión. Esto es &quot;lo que vale&quot; cada observación en mis datos ya que estos datos son una muestra de la población total de estados unidos (es la American Community Survey que encuesta más o menos 1% de la población anualmente).&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;SEX&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Cumulative PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;19,891,993&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;50.31%&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;19,891,993&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;50.31%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;19,644,660&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;49.69%&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;39,536,653&lt;/td&gt;
                        &lt;td id=&quot;T_c6f05600_bbb3_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Algo que yo he hecho muchas veces en mi trabajo anterior era investigar cuantas personas en California de X edad son inmigrantes, por ejemplo. Este número serviría de denominador en otras estadísticas.&lt;/p&gt;
&lt;p&gt;Ya que tenemos los datos, agrupo la columna &lt;code&gt;AGEP&lt;/code&gt; que tiene los valores de las edades.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_17&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;0 - 17&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 18 - 25&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_25&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_25&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;18 - 25&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 26 - 35&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_35&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;26 - 35&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 36 - 45&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_45&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;36 - 45&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 46 - 55&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_55&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;46 - 55&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 56 - 65&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_65&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_65&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;56 - 65&amp;#39;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 65+&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mask_65plus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGEP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_65plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;65+&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;age_bins&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;0 - 17&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;18 - 25&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;26 - 35&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;36 - 45&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;46 - 55&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;56 - 65&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;65+&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Categorical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;categories&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age_bins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ordered&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Y ya podemos ver por ejemplo, cuantos hombres y mujeres (abajo con el binarismo 👎) hay en cada grupo.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;SEX&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;AGE_BIN&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Cumulative PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;4,631,530&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;11.71%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;4,631,530&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;11.71%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;4,418,806&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;11.18%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;9,050,336&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;22.89%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;3,059,406&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;7.74%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;12,109,742&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;30.63%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;3&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;2,893,143&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col3&quot; class=&quot;data row3 col3&quot;&gt;7.32%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col4&quot; class=&quot;data row3 col4&quot;&gt;15,002,885&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row3_col5&quot; class=&quot;data row3 col5&quot;&gt;37.95%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;4&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;2,840,857&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col3&quot; class=&quot;data row4 col3&quot;&gt;7.19%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col4&quot; class=&quot;data row4 col4&quot;&gt;17,843,742&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row4_col5&quot; class=&quot;data row4 col5&quot;&gt;45.13%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row5&quot; class=&quot;row_heading level0 row5&quot;&gt;5&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col0&quot; class=&quot;data row5 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col1&quot; class=&quot;data row5 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col2&quot; class=&quot;data row5 col2&quot;&gt;2,607,669&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col3&quot; class=&quot;data row5 col3&quot;&gt;6.60%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col4&quot; class=&quot;data row5 col4&quot;&gt;20,451,411&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row5_col5&quot; class=&quot;data row5 col5&quot;&gt;51.73%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row6&quot; class=&quot;row_heading level0 row6&quot;&gt;6&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col0&quot; class=&quot;data row6 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col1&quot; class=&quot;data row6 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col2&quot; class=&quot;data row6 col2&quot;&gt;2,600,194&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col3&quot; class=&quot;data row6 col3&quot;&gt;6.58%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col4&quot; class=&quot;data row6 col4&quot;&gt;23,051,605&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row6_col5&quot; class=&quot;data row6 col5&quot;&gt;58.30%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row7&quot; class=&quot;row_heading level0 row7&quot;&gt;7&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col0&quot; class=&quot;data row7 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col1&quot; class=&quot;data row7 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col2&quot; class=&quot;data row7 col2&quot;&gt;2,566,590&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col3&quot; class=&quot;data row7 col3&quot;&gt;6.49%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col4&quot; class=&quot;data row7 col4&quot;&gt;25,618,195&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row7_col5&quot; class=&quot;data row7 col5&quot;&gt;64.80%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row8&quot; class=&quot;row_heading level0 row8&quot;&gt;8&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col0&quot; class=&quot;data row8 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col1&quot; class=&quot;data row8 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col2&quot; class=&quot;data row8 col2&quot;&gt;2,563,516&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col3&quot; class=&quot;data row8 col3&quot;&gt;6.48%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col4&quot; class=&quot;data row8 col4&quot;&gt;28,181,711&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row8_col5&quot; class=&quot;data row8 col5&quot;&gt;71.28%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row9&quot; class=&quot;row_heading level0 row9&quot;&gt;9&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col0&quot; class=&quot;data row9 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col1&quot; class=&quot;data row9 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col2&quot; class=&quot;data row9 col2&quot;&gt;2,409,415&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col3&quot; class=&quot;data row9 col3&quot;&gt;6.09%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col4&quot; class=&quot;data row9 col4&quot;&gt;30,591,126&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row9_col5&quot; class=&quot;data row9 col5&quot;&gt;77.37%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row10&quot; class=&quot;row_heading level0 row10&quot;&gt;10&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col0&quot; class=&quot;data row10 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col1&quot; class=&quot;data row10 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col2&quot; class=&quot;data row10 col2&quot;&gt;2,293,020&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col3&quot; class=&quot;data row10 col3&quot;&gt;5.80%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col4&quot; class=&quot;data row10 col4&quot;&gt;32,884,146&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row10_col5&quot; class=&quot;data row10 col5&quot;&gt;83.17%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row11&quot; class=&quot;row_heading level0 row11&quot;&gt;11&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col0&quot; class=&quot;data row11 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col1&quot; class=&quot;data row11 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col2&quot; class=&quot;data row11 col2&quot;&gt;2,252,083&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col3&quot; class=&quot;data row11 col3&quot;&gt;5.70%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col4&quot; class=&quot;data row11 col4&quot;&gt;35,136,229&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row11_col5&quot; class=&quot;data row11 col5&quot;&gt;88.87%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row12&quot; class=&quot;row_heading level0 row12&quot;&gt;12&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col0&quot; class=&quot;data row12 col0&quot;&gt;1&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col1&quot; class=&quot;data row12 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col2&quot; class=&quot;data row12 col2&quot;&gt;2,237,436&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col3&quot; class=&quot;data row12 col3&quot;&gt;5.66%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col4&quot; class=&quot;data row12 col4&quot;&gt;37,373,665&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row12_col5&quot; class=&quot;data row12 col5&quot;&gt;94.53%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122level0_row13&quot; class=&quot;row_heading level0 row13&quot;&gt;13&lt;/th&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col0&quot; class=&quot;data row13 col0&quot;&gt;2&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col1&quot; class=&quot;data row13 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col2&quot; class=&quot;data row13 col2&quot;&gt;2,162,988&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col3&quot; class=&quot;data row13 col3&quot;&gt;5.47%&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col4&quot; class=&quot;data row13 col4&quot;&gt;39,536,653&lt;/td&gt;
                        &lt;td id=&quot;T_c8bd16f8_bbb3_11ea_8f75_acde48001122row13_col5&quot; class=&quot;data row13 col5&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Para limpiar los datos un poco (para presentarlos en alguna junta o algo) puedo cambiar los valores (que obtuve del diccionario de datos: &lt;a href=&quot;https://www2.census.gov/programs-surveys/acs/tech_docs/pums/data_dict/PUMS_Data_Dictionary_2018.pdf?#&quot;&gt;https://www2.census.gov/programs-surveys/acs/tech_docs/pums/data_dict/PUMS_Data_Dictionary_2018.pdf?#&lt;/a&gt;)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_dict_sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Male&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Female&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;data_dict_cit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Born in the U.S.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Born abroad of American parent(s)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;U.S. citizen by naturalization&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Not a citizen of the U.S.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_dict_sex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_dict_cit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Categorical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;categories&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data_dict_cit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ordered&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;¡Y listo!&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort_cols&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;CIT&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;AGE_BIN&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;SEX&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col6&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;0&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;4,157,924&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;10.52%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;4,157,924&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row0_col6&quot; class=&quot;data row0 col6&quot;&gt;10.52%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;1&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;4,346,506&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;10.99%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;8,504,430&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row1_col6&quot; class=&quot;data row1 col6&quot;&gt;21.51%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;2&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;1,813,692&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;4.59%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;10,318,122&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row2_col6&quot; class=&quot;data row2 col6&quot;&gt;26.10%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;3&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col3&quot; class=&quot;data row3 col3&quot;&gt;1,923,610&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col4&quot; class=&quot;data row3 col4&quot;&gt;4.87%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col5&quot; class=&quot;data row3 col5&quot;&gt;12,241,732&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row3_col6&quot; class=&quot;data row3 col6&quot;&gt;30.96%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;4&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col3&quot; class=&quot;data row4 col3&quot;&gt;2,004,228&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col4&quot; class=&quot;data row4 col4&quot;&gt;5.07%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col5&quot; class=&quot;data row4 col5&quot;&gt;14,245,960&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row4_col6&quot; class=&quot;data row4 col6&quot;&gt;36.03%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row5&quot; class=&quot;row_heading level0 row5&quot;&gt;5&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col0&quot; class=&quot;data row5 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col1&quot; class=&quot;data row5 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col2&quot; class=&quot;data row5 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col3&quot; class=&quot;data row5 col3&quot;&gt;2,166,221&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col4&quot; class=&quot;data row5 col4&quot;&gt;5.48%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col5&quot; class=&quot;data row5 col5&quot;&gt;16,412,181&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row5_col6&quot; class=&quot;data row5 col6&quot;&gt;41.51%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row6&quot; class=&quot;row_heading level0 row6&quot;&gt;6&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col0&quot; class=&quot;data row6 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col1&quot; class=&quot;data row6 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col2&quot; class=&quot;data row6 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col3&quot; class=&quot;data row6 col3&quot;&gt;1,395,617&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col4&quot; class=&quot;data row6 col4&quot;&gt;3.53%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col5&quot; class=&quot;data row6 col5&quot;&gt;17,807,798&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row6_col6&quot; class=&quot;data row6 col6&quot;&gt;45.04%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row7&quot; class=&quot;row_heading level0 row7&quot;&gt;7&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col0&quot; class=&quot;data row7 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col1&quot; class=&quot;data row7 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col2&quot; class=&quot;data row7 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col3&quot; class=&quot;data row7 col3&quot;&gt;1,499,406&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col4&quot; class=&quot;data row7 col4&quot;&gt;3.79%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col5&quot; class=&quot;data row7 col5&quot;&gt;19,307,204&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row7_col6&quot; class=&quot;data row7 col6&quot;&gt;48.83%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row8&quot; class=&quot;row_heading level0 row8&quot;&gt;8&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col0&quot; class=&quot;data row8 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col1&quot; class=&quot;data row8 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col2&quot; class=&quot;data row8 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col3&quot; class=&quot;data row8 col3&quot;&gt;1,428,899&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col4&quot; class=&quot;data row8 col4&quot;&gt;3.61%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col5&quot; class=&quot;data row8 col5&quot;&gt;20,736,103&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row8_col6&quot; class=&quot;data row8 col6&quot;&gt;52.45%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row9&quot; class=&quot;row_heading level0 row9&quot;&gt;9&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col0&quot; class=&quot;data row9 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col1&quot; class=&quot;data row9 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col2&quot; class=&quot;data row9 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col3&quot; class=&quot;data row9 col3&quot;&gt;1,436,241&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col4&quot; class=&quot;data row9 col4&quot;&gt;3.63%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col5&quot; class=&quot;data row9 col5&quot;&gt;22,172,344&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row9_col6&quot; class=&quot;data row9 col6&quot;&gt;56.08%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row10&quot; class=&quot;row_heading level0 row10&quot;&gt;10&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col0&quot; class=&quot;data row10 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col1&quot; class=&quot;data row10 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col2&quot; class=&quot;data row10 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col3&quot; class=&quot;data row10 col3&quot;&gt;1,476,071&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col4&quot; class=&quot;data row10 col4&quot;&gt;3.73%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col5&quot; class=&quot;data row10 col5&quot;&gt;23,648,415&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row10_col6&quot; class=&quot;data row10 col6&quot;&gt;59.81%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row11&quot; class=&quot;row_heading level0 row11&quot;&gt;11&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col0&quot; class=&quot;data row11 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col1&quot; class=&quot;data row11 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col2&quot; class=&quot;data row11 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col3&quot; class=&quot;data row11 col3&quot;&gt;1,405,794&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col4&quot; class=&quot;data row11 col4&quot;&gt;3.56%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col5&quot; class=&quot;data row11 col5&quot;&gt;25,054,209&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row11_col6&quot; class=&quot;data row11 col6&quot;&gt;63.37%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row12&quot; class=&quot;row_heading level0 row12&quot;&gt;12&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col0&quot; class=&quot;data row12 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col1&quot; class=&quot;data row12 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col2&quot; class=&quot;data row12 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col3&quot; class=&quot;data row12 col3&quot;&gt;1,810,015&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col4&quot; class=&quot;data row12 col4&quot;&gt;4.58%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col5&quot; class=&quot;data row12 col5&quot;&gt;26,864,224&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row12_col6&quot; class=&quot;data row12 col6&quot;&gt;67.95%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row13&quot; class=&quot;row_heading level0 row13&quot;&gt;13&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col0&quot; class=&quot;data row13 col0&quot;&gt;Born in the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col1&quot; class=&quot;data row13 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col2&quot; class=&quot;data row13 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col3&quot; class=&quot;data row13 col3&quot;&gt;1,498,853&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col4&quot; class=&quot;data row13 col4&quot;&gt;3.79%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col5&quot; class=&quot;data row13 col5&quot;&gt;28,363,077&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row13_col6&quot; class=&quot;data row13 col6&quot;&gt;71.74%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row14&quot; class=&quot;row_heading level0 row14&quot;&gt;14&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col0&quot; class=&quot;data row14 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col1&quot; class=&quot;data row14 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col2&quot; class=&quot;data row14 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col3&quot; class=&quot;data row14 col3&quot;&gt;1,654&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col4&quot; class=&quot;data row14 col4&quot;&gt;0.00%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col5&quot; class=&quot;data row14 col5&quot;&gt;28,364,731&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row14_col6&quot; class=&quot;data row14 col6&quot;&gt;71.74%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row15&quot; class=&quot;row_heading level0 row15&quot;&gt;15&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col0&quot; class=&quot;data row15 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col1&quot; class=&quot;data row15 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col2&quot; class=&quot;data row15 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col3&quot; class=&quot;data row15 col3&quot;&gt;1,822&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col4&quot; class=&quot;data row15 col4&quot;&gt;0.00%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col5&quot; class=&quot;data row15 col5&quot;&gt;28,366,553&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row15_col6&quot; class=&quot;data row15 col6&quot;&gt;71.75%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row16&quot; class=&quot;row_heading level0 row16&quot;&gt;16&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col0&quot; class=&quot;data row16 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col1&quot; class=&quot;data row16 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col2&quot; class=&quot;data row16 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col3&quot; class=&quot;data row16 col3&quot;&gt;3,145&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col4&quot; class=&quot;data row16 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col5&quot; class=&quot;data row16 col5&quot;&gt;28,369,698&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row16_col6&quot; class=&quot;data row16 col6&quot;&gt;71.76%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row17&quot; class=&quot;row_heading level0 row17&quot;&gt;17&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col0&quot; class=&quot;data row17 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col1&quot; class=&quot;data row17 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col2&quot; class=&quot;data row17 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col3&quot; class=&quot;data row17 col3&quot;&gt;3,309&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col4&quot; class=&quot;data row17 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col5&quot; class=&quot;data row17 col5&quot;&gt;28,373,007&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row17_col6&quot; class=&quot;data row17 col6&quot;&gt;71.76%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row18&quot; class=&quot;row_heading level0 row18&quot;&gt;18&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col0&quot; class=&quot;data row18 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col1&quot; class=&quot;data row18 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col2&quot; class=&quot;data row18 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col3&quot; class=&quot;data row18 col3&quot;&gt;4,663&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col4&quot; class=&quot;data row18 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col5&quot; class=&quot;data row18 col5&quot;&gt;28,377,670&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row18_col6&quot; class=&quot;data row18 col6&quot;&gt;71.78%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row19&quot; class=&quot;row_heading level0 row19&quot;&gt;19&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col0&quot; class=&quot;data row19 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col1&quot; class=&quot;data row19 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col2&quot; class=&quot;data row19 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col3&quot; class=&quot;data row19 col3&quot;&gt;4,756&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col4&quot; class=&quot;data row19 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col5&quot; class=&quot;data row19 col5&quot;&gt;28,382,426&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row19_col6&quot; class=&quot;data row19 col6&quot;&gt;71.79%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row20&quot; class=&quot;row_heading level0 row20&quot;&gt;20&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col0&quot; class=&quot;data row20 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col1&quot; class=&quot;data row20 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col2&quot; class=&quot;data row20 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col3&quot; class=&quot;data row20 col3&quot;&gt;5,279&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col4&quot; class=&quot;data row20 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col5&quot; class=&quot;data row20 col5&quot;&gt;28,387,705&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row20_col6&quot; class=&quot;data row20 col6&quot;&gt;71.80%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row21&quot; class=&quot;row_heading level0 row21&quot;&gt;21&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col0&quot; class=&quot;data row21 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col1&quot; class=&quot;data row21 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col2&quot; class=&quot;data row21 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col3&quot; class=&quot;data row21 col3&quot;&gt;7,223&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col4&quot; class=&quot;data row21 col4&quot;&gt;0.02%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col5&quot; class=&quot;data row21 col5&quot;&gt;28,394,928&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row21_col6&quot; class=&quot;data row21 col6&quot;&gt;71.82%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row22&quot; class=&quot;row_heading level0 row22&quot;&gt;22&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col0&quot; class=&quot;data row22 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col1&quot; class=&quot;data row22 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col2&quot; class=&quot;data row22 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col3&quot; class=&quot;data row22 col3&quot;&gt;6,145&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col4&quot; class=&quot;data row22 col4&quot;&gt;0.02%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col5&quot; class=&quot;data row22 col5&quot;&gt;28,401,073&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row22_col6&quot; class=&quot;data row22 col6&quot;&gt;71.83%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row23&quot; class=&quot;row_heading level0 row23&quot;&gt;23&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col0&quot; class=&quot;data row23 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col1&quot; class=&quot;data row23 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col2&quot; class=&quot;data row23 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col3&quot; class=&quot;data row23 col3&quot;&gt;5,440&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col4&quot; class=&quot;data row23 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col5&quot; class=&quot;data row23 col5&quot;&gt;28,406,513&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row23_col6&quot; class=&quot;data row23 col6&quot;&gt;71.85%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row24&quot; class=&quot;row_heading level0 row24&quot;&gt;24&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col0&quot; class=&quot;data row24 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col1&quot; class=&quot;data row24 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col2&quot; class=&quot;data row24 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col3&quot; class=&quot;data row24 col3&quot;&gt;7,705&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col4&quot; class=&quot;data row24 col4&quot;&gt;0.02%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col5&quot; class=&quot;data row24 col5&quot;&gt;28,414,218&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row24_col6&quot; class=&quot;data row24 col6&quot;&gt;71.87%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row25&quot; class=&quot;row_heading level0 row25&quot;&gt;25&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col0&quot; class=&quot;data row25 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col1&quot; class=&quot;data row25 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col2&quot; class=&quot;data row25 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col3&quot; class=&quot;data row25 col3&quot;&gt;5,716&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col4&quot; class=&quot;data row25 col4&quot;&gt;0.01%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col5&quot; class=&quot;data row25 col5&quot;&gt;28,419,934&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row25_col6&quot; class=&quot;data row25 col6&quot;&gt;71.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row26&quot; class=&quot;row_heading level0 row26&quot;&gt;26&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col0&quot; class=&quot;data row26 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col1&quot; class=&quot;data row26 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col2&quot; class=&quot;data row26 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col3&quot; class=&quot;data row26 col3&quot;&gt;8,043&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col4&quot; class=&quot;data row26 col4&quot;&gt;0.02%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col5&quot; class=&quot;data row26 col5&quot;&gt;28,427,977&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row26_col6&quot; class=&quot;data row26 col6&quot;&gt;71.90%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row27&quot; class=&quot;row_heading level0 row27&quot;&gt;27&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col0&quot; class=&quot;data row27 col0&quot;&gt;Born in Puerto Rico, Guam, the U.S. Virgin Islands, or the Northern Marianas&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col1&quot; class=&quot;data row27 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col2&quot; class=&quot;data row27 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col3&quot; class=&quot;data row27 col3&quot;&gt;8,856&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col4&quot; class=&quot;data row27 col4&quot;&gt;0.02%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col5&quot; class=&quot;data row27 col5&quot;&gt;28,436,833&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row27_col6&quot; class=&quot;data row27 col6&quot;&gt;71.93%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row28&quot; class=&quot;row_heading level0 row28&quot;&gt;28&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col0&quot; class=&quot;data row28 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col1&quot; class=&quot;data row28 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col2&quot; class=&quot;data row28 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col3&quot; class=&quot;data row28 col3&quot;&gt;53,850&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col4&quot; class=&quot;data row28 col4&quot;&gt;0.14%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col5&quot; class=&quot;data row28 col5&quot;&gt;28,490,683&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row28_col6&quot; class=&quot;data row28 col6&quot;&gt;72.06%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row29&quot; class=&quot;row_heading level0 row29&quot;&gt;29&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col0&quot; class=&quot;data row29 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col1&quot; class=&quot;data row29 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col2&quot; class=&quot;data row29 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col3&quot; class=&quot;data row29 col3&quot;&gt;60,278&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col4&quot; class=&quot;data row29 col4&quot;&gt;0.15%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col5&quot; class=&quot;data row29 col5&quot;&gt;28,550,961&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row29_col6&quot; class=&quot;data row29 col6&quot;&gt;72.21%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row30&quot; class=&quot;row_heading level0 row30&quot;&gt;30&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col0&quot; class=&quot;data row30 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col1&quot; class=&quot;data row30 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col2&quot; class=&quot;data row30 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col3&quot; class=&quot;data row30 col3&quot;&gt;25,854&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col4&quot; class=&quot;data row30 col4&quot;&gt;0.07%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col5&quot; class=&quot;data row30 col5&quot;&gt;28,576,815&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row30_col6&quot; class=&quot;data row30 col6&quot;&gt;72.28%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row31&quot; class=&quot;row_heading level0 row31&quot;&gt;31&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col0&quot; class=&quot;data row31 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col1&quot; class=&quot;data row31 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col2&quot; class=&quot;data row31 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col3&quot; class=&quot;data row31 col3&quot;&gt;27,952&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col4&quot; class=&quot;data row31 col4&quot;&gt;0.07%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col5&quot; class=&quot;data row31 col5&quot;&gt;28,604,767&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row31_col6&quot; class=&quot;data row31 col6&quot;&gt;72.35%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row32&quot; class=&quot;row_heading level0 row32&quot;&gt;32&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col0&quot; class=&quot;data row32 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col1&quot; class=&quot;data row32 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col2&quot; class=&quot;data row32 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col3&quot; class=&quot;data row32 col3&quot;&gt;36,908&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col4&quot; class=&quot;data row32 col4&quot;&gt;0.09%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col5&quot; class=&quot;data row32 col5&quot;&gt;28,641,675&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row32_col6&quot; class=&quot;data row32 col6&quot;&gt;72.44%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row33&quot; class=&quot;row_heading level0 row33&quot;&gt;33&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col0&quot; class=&quot;data row33 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col1&quot; class=&quot;data row33 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col2&quot; class=&quot;data row33 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col3&quot; class=&quot;data row33 col3&quot;&gt;39,146&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col4&quot; class=&quot;data row33 col4&quot;&gt;0.10%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col5&quot; class=&quot;data row33 col5&quot;&gt;28,680,821&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row33_col6&quot; class=&quot;data row33 col6&quot;&gt;72.54%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row34&quot; class=&quot;row_heading level0 row34&quot;&gt;34&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col0&quot; class=&quot;data row34 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col1&quot; class=&quot;data row34 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col2&quot; class=&quot;data row34 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col3&quot; class=&quot;data row34 col3&quot;&gt;30,688&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col4&quot; class=&quot;data row34 col4&quot;&gt;0.08%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col5&quot; class=&quot;data row34 col5&quot;&gt;28,711,509&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row34_col6&quot; class=&quot;data row34 col6&quot;&gt;72.62%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row35&quot; class=&quot;row_heading level0 row35&quot;&gt;35&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col0&quot; class=&quot;data row35 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col1&quot; class=&quot;data row35 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col2&quot; class=&quot;data row35 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col3&quot; class=&quot;data row35 col3&quot;&gt;35,648&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col4&quot; class=&quot;data row35 col4&quot;&gt;0.09%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col5&quot; class=&quot;data row35 col5&quot;&gt;28,747,157&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row35_col6&quot; class=&quot;data row35 col6&quot;&gt;72.71%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row36&quot; class=&quot;row_heading level0 row36&quot;&gt;36&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col0&quot; class=&quot;data row36 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col1&quot; class=&quot;data row36 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col2&quot; class=&quot;data row36 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col3&quot; class=&quot;data row36 col3&quot;&gt;35,190&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col4&quot; class=&quot;data row36 col4&quot;&gt;0.09%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col5&quot; class=&quot;data row36 col5&quot;&gt;28,782,347&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row36_col6&quot; class=&quot;data row36 col6&quot;&gt;72.80%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row37&quot; class=&quot;row_heading level0 row37&quot;&gt;37&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col0&quot; class=&quot;data row37 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col1&quot; class=&quot;data row37 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col2&quot; class=&quot;data row37 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col3&quot; class=&quot;data row37 col3&quot;&gt;32,041&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col4&quot; class=&quot;data row37 col4&quot;&gt;0.08%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col5&quot; class=&quot;data row37 col5&quot;&gt;28,814,388&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row37_col6&quot; class=&quot;data row37 col6&quot;&gt;72.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row38&quot; class=&quot;row_heading level0 row38&quot;&gt;38&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col0&quot; class=&quot;data row38 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col1&quot; class=&quot;data row38 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col2&quot; class=&quot;data row38 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col3&quot; class=&quot;data row38 col3&quot;&gt;29,824&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col4&quot; class=&quot;data row38 col4&quot;&gt;0.08%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col5&quot; class=&quot;data row38 col5&quot;&gt;28,844,212&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row38_col6&quot; class=&quot;data row38 col6&quot;&gt;72.96%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row39&quot; class=&quot;row_heading level0 row39&quot;&gt;39&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col0&quot; class=&quot;data row39 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col1&quot; class=&quot;data row39 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col2&quot; class=&quot;data row39 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col3&quot; class=&quot;data row39 col3&quot;&gt;31,443&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col4&quot; class=&quot;data row39 col4&quot;&gt;0.08%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col5&quot; class=&quot;data row39 col5&quot;&gt;28,875,655&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row39_col6&quot; class=&quot;data row39 col6&quot;&gt;73.04%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row40&quot; class=&quot;row_heading level0 row40&quot;&gt;40&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col0&quot; class=&quot;data row40 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col1&quot; class=&quot;data row40 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col2&quot; class=&quot;data row40 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col3&quot; class=&quot;data row40 col3&quot;&gt;21,979&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col4&quot; class=&quot;data row40 col4&quot;&gt;0.06%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col5&quot; class=&quot;data row40 col5&quot;&gt;28,897,634&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row40_col6&quot; class=&quot;data row40 col6&quot;&gt;73.09%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row41&quot; class=&quot;row_heading level0 row41&quot;&gt;41&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col0&quot; class=&quot;data row41 col0&quot;&gt;Born abroad of American parent(s)&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col1&quot; class=&quot;data row41 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col2&quot; class=&quot;data row41 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col3&quot; class=&quot;data row41 col3&quot;&gt;18,037&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col4&quot; class=&quot;data row41 col4&quot;&gt;0.05%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col5&quot; class=&quot;data row41 col5&quot;&gt;28,915,671&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row41_col6&quot; class=&quot;data row41 col6&quot;&gt;73.14%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row42&quot; class=&quot;row_heading level0 row42&quot;&gt;42&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col0&quot; class=&quot;data row42 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col1&quot; class=&quot;data row42 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col2&quot; class=&quot;data row42 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col3&quot; class=&quot;data row42 col3&quot;&gt;47,493&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col4&quot; class=&quot;data row42 col4&quot;&gt;0.12%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col5&quot; class=&quot;data row42 col5&quot;&gt;28,963,164&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row42_col6&quot; class=&quot;data row42 col6&quot;&gt;73.26%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row43&quot; class=&quot;row_heading level0 row43&quot;&gt;43&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col0&quot; class=&quot;data row43 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col1&quot; class=&quot;data row43 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col2&quot; class=&quot;data row43 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col3&quot; class=&quot;data row43 col3&quot;&gt;51,748&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col4&quot; class=&quot;data row43 col4&quot;&gt;0.13%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col5&quot; class=&quot;data row43 col5&quot;&gt;29,014,912&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row43_col6&quot; class=&quot;data row43 col6&quot;&gt;73.39%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row44&quot; class=&quot;row_heading level0 row44&quot;&gt;44&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col0&quot; class=&quot;data row44 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col1&quot; class=&quot;data row44 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col2&quot; class=&quot;data row44 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col3&quot; class=&quot;data row44 col3&quot;&gt;94,172&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col4&quot; class=&quot;data row44 col4&quot;&gt;0.24%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col5&quot; class=&quot;data row44 col5&quot;&gt;29,109,084&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row44_col6&quot; class=&quot;data row44 col6&quot;&gt;73.63%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row45&quot; class=&quot;row_heading level0 row45&quot;&gt;45&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col0&quot; class=&quot;data row45 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col1&quot; class=&quot;data row45 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col2&quot; class=&quot;data row45 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col3&quot; class=&quot;data row45 col3&quot;&gt;94,438&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col4&quot; class=&quot;data row45 col4&quot;&gt;0.24%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col5&quot; class=&quot;data row45 col5&quot;&gt;29,203,522&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row45_col6&quot; class=&quot;data row45 col6&quot;&gt;73.86%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row46&quot; class=&quot;row_heading level0 row46&quot;&gt;46&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col0&quot; class=&quot;data row46 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col1&quot; class=&quot;data row46 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col2&quot; class=&quot;data row46 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col3&quot; class=&quot;data row46 col3&quot;&gt;297,486&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col4&quot; class=&quot;data row46 col4&quot;&gt;0.75%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col5&quot; class=&quot;data row46 col5&quot;&gt;29,501,008&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row46_col6&quot; class=&quot;data row46 col6&quot;&gt;74.62%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row47&quot; class=&quot;row_heading level0 row47&quot;&gt;47&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col0&quot; class=&quot;data row47 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col1&quot; class=&quot;data row47 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col2&quot; class=&quot;data row47 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col3&quot; class=&quot;data row47 col3&quot;&gt;264,160&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col4&quot; class=&quot;data row47 col4&quot;&gt;0.67%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col5&quot; class=&quot;data row47 col5&quot;&gt;29,765,168&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row47_col6&quot; class=&quot;data row47 col6&quot;&gt;75.28%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row48&quot; class=&quot;row_heading level0 row48&quot;&gt;48&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col0&quot; class=&quot;data row48 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col1&quot; class=&quot;data row48 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col2&quot; class=&quot;data row48 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col3&quot; class=&quot;data row48 col3&quot;&gt;525,620&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col4&quot; class=&quot;data row48 col4&quot;&gt;1.33%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col5&quot; class=&quot;data row48 col5&quot;&gt;30,290,788&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row48_col6&quot; class=&quot;data row48 col6&quot;&gt;76.61%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row49&quot; class=&quot;row_heading level0 row49&quot;&gt;49&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col0&quot; class=&quot;data row49 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col1&quot; class=&quot;data row49 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col2&quot; class=&quot;data row49 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col3&quot; class=&quot;data row49 col3&quot;&gt;429,011&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col4&quot; class=&quot;data row49 col4&quot;&gt;1.09%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col5&quot; class=&quot;data row49 col5&quot;&gt;30,719,799&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row49_col6&quot; class=&quot;data row49 col6&quot;&gt;77.70%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row50&quot; class=&quot;row_heading level0 row50&quot;&gt;50&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col0&quot; class=&quot;data row50 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col1&quot; class=&quot;data row50 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col2&quot; class=&quot;data row50 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col3&quot; class=&quot;data row50 col3&quot;&gt;653,027&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col4&quot; class=&quot;data row50 col4&quot;&gt;1.65%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col5&quot; class=&quot;data row50 col5&quot;&gt;31,372,826&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row50_col6&quot; class=&quot;data row50 col6&quot;&gt;79.35%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row51&quot; class=&quot;row_heading level0 row51&quot;&gt;51&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col0&quot; class=&quot;data row51 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col1&quot; class=&quot;data row51 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col2&quot; class=&quot;data row51 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col3&quot; class=&quot;data row51 col3&quot;&gt;603,019&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col4&quot; class=&quot;data row51 col4&quot;&gt;1.53%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col5&quot; class=&quot;data row51 col5&quot;&gt;31,975,845&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row51_col6&quot; class=&quot;data row51 col6&quot;&gt;80.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row52&quot; class=&quot;row_heading level0 row52&quot;&gt;52&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col0&quot; class=&quot;data row52 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col1&quot; class=&quot;data row52 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col2&quot; class=&quot;data row52 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col3&quot; class=&quot;data row52 col3&quot;&gt;604,946&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col4&quot; class=&quot;data row52 col4&quot;&gt;1.53%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col5&quot; class=&quot;data row52 col5&quot;&gt;32,580,791&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row52_col6&quot; class=&quot;data row52 col6&quot;&gt;82.41%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row53&quot; class=&quot;row_heading level0 row53&quot;&gt;53&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col0&quot; class=&quot;data row53 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col1&quot; class=&quot;data row53 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col2&quot; class=&quot;data row53 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col3&quot; class=&quot;data row53 col3&quot;&gt;530,672&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col4&quot; class=&quot;data row53 col4&quot;&gt;1.34%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col5&quot; class=&quot;data row53 col5&quot;&gt;33,111,463&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row53_col6&quot; class=&quot;data row53 col6&quot;&gt;83.75%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row54&quot; class=&quot;row_heading level0 row54&quot;&gt;54&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col0&quot; class=&quot;data row54 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col1&quot; class=&quot;data row54 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col2&quot; class=&quot;data row54 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col3&quot; class=&quot;data row54 col3&quot;&gt;756,574&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col4&quot; class=&quot;data row54 col4&quot;&gt;1.91%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col5&quot; class=&quot;data row54 col5&quot;&gt;33,868,037&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row54_col6&quot; class=&quot;data row54 col6&quot;&gt;85.66%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row55&quot; class=&quot;row_heading level0 row55&quot;&gt;55&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col0&quot; class=&quot;data row55 col0&quot;&gt;U.S. citizen by naturalization&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col1&quot; class=&quot;data row55 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col2&quot; class=&quot;data row55 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col3&quot; class=&quot;data row55 col3&quot;&gt;547,137&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col4&quot; class=&quot;data row55 col4&quot;&gt;1.38%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col5&quot; class=&quot;data row55 col5&quot;&gt;34,415,174&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row55_col6&quot; class=&quot;data row55 col6&quot;&gt;87.05%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row56&quot; class=&quot;row_heading level0 row56&quot;&gt;56&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col0&quot; class=&quot;data row56 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col1&quot; class=&quot;data row56 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col2&quot; class=&quot;data row56 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col3&quot; class=&quot;data row56 col3&quot;&gt;157,885&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col4&quot; class=&quot;data row56 col4&quot;&gt;0.40%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col5&quot; class=&quot;data row56 col5&quot;&gt;34,573,059&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row56_col6&quot; class=&quot;data row56 col6&quot;&gt;87.45%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row57&quot; class=&quot;row_heading level0 row57&quot;&gt;57&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col0&quot; class=&quot;data row57 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col1&quot; class=&quot;data row57 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col2&quot; class=&quot;data row57 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col3&quot; class=&quot;data row57 col3&quot;&gt;171,176&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col4&quot; class=&quot;data row57 col4&quot;&gt;0.43%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col5&quot; class=&quot;data row57 col5&quot;&gt;34,744,235&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row57_col6&quot; class=&quot;data row57 col6&quot;&gt;87.88%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row58&quot; class=&quot;row_heading level0 row58&quot;&gt;58&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col0&quot; class=&quot;data row58 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col1&quot; class=&quot;data row58 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col2&quot; class=&quot;data row58 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col3&quot; class=&quot;data row58 col3&quot;&gt;226,125&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col4&quot; class=&quot;data row58 col4&quot;&gt;0.57%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col5&quot; class=&quot;data row58 col5&quot;&gt;34,970,360&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row58_col6&quot; class=&quot;data row58 col6&quot;&gt;88.45%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row59&quot; class=&quot;row_heading level0 row59&quot;&gt;59&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col0&quot; class=&quot;data row59 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col1&quot; class=&quot;data row59 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col2&quot; class=&quot;data row59 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col3&quot; class=&quot;data row59 col3&quot;&gt;243,711&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col4&quot; class=&quot;data row59 col4&quot;&gt;0.62%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col5&quot; class=&quot;data row59 col5&quot;&gt;35,214,071&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row59_col6&quot; class=&quot;data row59 col6&quot;&gt;89.07%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row60&quot; class=&quot;row_heading level0 row60&quot;&gt;60&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col0&quot; class=&quot;data row60 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col1&quot; class=&quot;data row60 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col2&quot; class=&quot;data row60 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col3&quot; class=&quot;data row60 col3&quot;&gt;549,858&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col4&quot; class=&quot;data row60 col4&quot;&gt;1.39%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col5&quot; class=&quot;data row60 col5&quot;&gt;35,763,929&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row60_col6&quot; class=&quot;data row60 col6&quot;&gt;90.46%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row61&quot; class=&quot;row_heading level0 row61&quot;&gt;61&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col0&quot; class=&quot;data row61 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col1&quot; class=&quot;data row61 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col2&quot; class=&quot;data row61 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col3&quot; class=&quot;data row61 col3&quot;&gt;585,123&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col4&quot; class=&quot;data row61 col4&quot;&gt;1.48%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col5&quot; class=&quot;data row61 col5&quot;&gt;36,349,052&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row61_col6&quot; class=&quot;data row61 col6&quot;&gt;91.94%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row62&quot; class=&quot;row_heading level0 row62&quot;&gt;62&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col0&quot; class=&quot;data row62 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col1&quot; class=&quot;data row62 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col2&quot; class=&quot;data row62 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col3&quot; class=&quot;data row62 col3&quot;&gt;609,386&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col4&quot; class=&quot;data row62 col4&quot;&gt;1.54%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col5&quot; class=&quot;data row62 col5&quot;&gt;36,958,438&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row62_col6&quot; class=&quot;data row62 col6&quot;&gt;93.48%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row63&quot; class=&quot;row_heading level0 row63&quot;&gt;63&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col0&quot; class=&quot;data row63 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col1&quot; class=&quot;data row63 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col2&quot; class=&quot;data row63 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col3&quot; class=&quot;data row63 col3&quot;&gt;636,381&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col4&quot; class=&quot;data row63 col4&quot;&gt;1.61%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col5&quot; class=&quot;data row63 col5&quot;&gt;37,594,819&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row63_col6&quot; class=&quot;data row63 col6&quot;&gt;95.09%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row64&quot; class=&quot;row_heading level0 row64&quot;&gt;64&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col0&quot; class=&quot;data row64 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col1&quot; class=&quot;data row64 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col2&quot; class=&quot;data row64 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col3&quot; class=&quot;data row64 col3&quot;&gt;476,933&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col4&quot; class=&quot;data row64 col4&quot;&gt;1.21%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col5&quot; class=&quot;data row64 col5&quot;&gt;38,071,752&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row64_col6&quot; class=&quot;data row64 col6&quot;&gt;96.29%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row65&quot; class=&quot;row_heading level0 row65&quot;&gt;65&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col0&quot; class=&quot;data row65 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col1&quot; class=&quot;data row65 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col2&quot; class=&quot;data row65 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col3&quot; class=&quot;data row65 col3&quot;&gt;486,775&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col4&quot; class=&quot;data row65 col4&quot;&gt;1.23%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col5&quot; class=&quot;data row65 col5&quot;&gt;38,558,527&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row65_col6&quot; class=&quot;data row65 col6&quot;&gt;97.53%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row66&quot; class=&quot;row_heading level0 row66&quot;&gt;66&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col0&quot; class=&quot;data row66 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col1&quot; class=&quot;data row66 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col2&quot; class=&quot;data row66 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col3&quot; class=&quot;data row66 col3&quot;&gt;290,869&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col4&quot; class=&quot;data row66 col4&quot;&gt;0.74%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col5&quot; class=&quot;data row66 col5&quot;&gt;38,849,396&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row66_col6&quot; class=&quot;data row66 col6&quot;&gt;98.26%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row67&quot; class=&quot;row_heading level0 row67&quot;&gt;67&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col0&quot; class=&quot;data row67 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col1&quot; class=&quot;data row67 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col2&quot; class=&quot;data row67 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col3&quot; class=&quot;data row67 col3&quot;&gt;263,811&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col4&quot; class=&quot;data row67 col4&quot;&gt;0.67%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col5&quot; class=&quot;data row67 col5&quot;&gt;39,113,207&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row67_col6&quot; class=&quot;data row67 col6&quot;&gt;98.93%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row68&quot; class=&quot;row_heading level0 row68&quot;&gt;68&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col0&quot; class=&quot;data row68 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col1&quot; class=&quot;data row68 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col2&quot; class=&quot;data row68 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col3&quot; class=&quot;data row68 col3&quot;&gt;244,246&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col4&quot; class=&quot;data row68 col4&quot;&gt;0.62%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col5&quot; class=&quot;data row68 col5&quot;&gt;39,357,453&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row68_col6&quot; class=&quot;data row68 col6&quot;&gt;99.55%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122level0_row69&quot; class=&quot;row_heading level0 row69&quot;&gt;69&lt;/th&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col0&quot; class=&quot;data row69 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col1&quot; class=&quot;data row69 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col2&quot; class=&quot;data row69 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col3&quot; class=&quot;data row69 col3&quot;&gt;179,200&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col4&quot; class=&quot;data row69 col4&quot;&gt;0.45%&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col5&quot; class=&quot;data row69 col5&quot;&gt;39,536,653&lt;/td&gt;
                        &lt;td id=&quot;T_cbe4175a_bbb3_11ea_8f75_acde48001122row69_col6&quot; class=&quot;data row69 col6&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;O si quiero solamente aquellas personas que no nacieron en estados unidos&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_noncitizen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Not a citizen of the U.S.&amp;#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_noncitizen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort_cols&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/style&gt;&lt;table id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122&quot;&gt;&lt;thead&gt;    &lt;tr&gt;        &lt;th class=&quot;blank level0&quot;&gt;&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col0&quot;&gt;CIT&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col1&quot;&gt;AGE_BIN&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col2&quot;&gt;SEX&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col3&quot;&gt;PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col4&quot;&gt;Percent&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col5&quot;&gt;Cumulative PWGTP&lt;/th&gt;        &lt;th class=&quot;col_heading level0 col6&quot;&gt;Cumulative Percent&lt;/th&gt;    &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row0&quot; class=&quot;row_heading level0 row0&quot;&gt;56&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col0&quot; class=&quot;data row0 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col1&quot; class=&quot;data row0 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col2&quot; class=&quot;data row0 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col3&quot; class=&quot;data row0 col3&quot;&gt;157,885&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col4&quot; class=&quot;data row0 col4&quot;&gt;3.08%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col5&quot; class=&quot;data row0 col5&quot;&gt;157,885&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row0_col6&quot; class=&quot;data row0 col6&quot;&gt;3.08%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row1&quot; class=&quot;row_heading level0 row1&quot;&gt;57&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col0&quot; class=&quot;data row1 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col1&quot; class=&quot;data row1 col1&quot;&gt;0 - 17&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col2&quot; class=&quot;data row1 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col3&quot; class=&quot;data row1 col3&quot;&gt;171,176&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col4&quot; class=&quot;data row1 col4&quot;&gt;3.34%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col5&quot; class=&quot;data row1 col5&quot;&gt;329,061&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row1_col6&quot; class=&quot;data row1 col6&quot;&gt;6.43%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row2&quot; class=&quot;row_heading level0 row2&quot;&gt;58&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col0&quot; class=&quot;data row2 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col1&quot; class=&quot;data row2 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col2&quot; class=&quot;data row2 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col3&quot; class=&quot;data row2 col3&quot;&gt;226,125&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col4&quot; class=&quot;data row2 col4&quot;&gt;4.42%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col5&quot; class=&quot;data row2 col5&quot;&gt;555,186&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row2_col6&quot; class=&quot;data row2 col6&quot;&gt;10.84%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row3&quot; class=&quot;row_heading level0 row3&quot;&gt;59&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col0&quot; class=&quot;data row3 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col1&quot; class=&quot;data row3 col1&quot;&gt;18 - 25&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col2&quot; class=&quot;data row3 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col3&quot; class=&quot;data row3 col3&quot;&gt;243,711&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col4&quot; class=&quot;data row3 col4&quot;&gt;4.76%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col5&quot; class=&quot;data row3 col5&quot;&gt;798,897&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row3_col6&quot; class=&quot;data row3 col6&quot;&gt;15.60%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row4&quot; class=&quot;row_heading level0 row4&quot;&gt;60&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col0&quot; class=&quot;data row4 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col1&quot; class=&quot;data row4 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col2&quot; class=&quot;data row4 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col3&quot; class=&quot;data row4 col3&quot;&gt;549,858&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col4&quot; class=&quot;data row4 col4&quot;&gt;10.74%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col5&quot; class=&quot;data row4 col5&quot;&gt;1,348,755&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row4_col6&quot; class=&quot;data row4 col6&quot;&gt;26.34%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row5&quot; class=&quot;row_heading level0 row5&quot;&gt;61&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col0&quot; class=&quot;data row5 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col1&quot; class=&quot;data row5 col1&quot;&gt;26 - 35&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col2&quot; class=&quot;data row5 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col3&quot; class=&quot;data row5 col3&quot;&gt;585,123&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col4&quot; class=&quot;data row5 col4&quot;&gt;11.42%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col5&quot; class=&quot;data row5 col5&quot;&gt;1,933,878&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row5_col6&quot; class=&quot;data row5 col6&quot;&gt;37.76%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row6&quot; class=&quot;row_heading level0 row6&quot;&gt;62&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col0&quot; class=&quot;data row6 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col1&quot; class=&quot;data row6 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col2&quot; class=&quot;data row6 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col3&quot; class=&quot;data row6 col3&quot;&gt;609,386&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col4&quot; class=&quot;data row6 col4&quot;&gt;11.90%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col5&quot; class=&quot;data row6 col5&quot;&gt;2,543,264&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row6_col6&quot; class=&quot;data row6 col6&quot;&gt;49.66%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row7&quot; class=&quot;row_heading level0 row7&quot;&gt;63&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col0&quot; class=&quot;data row7 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col1&quot; class=&quot;data row7 col1&quot;&gt;36 - 45&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col2&quot; class=&quot;data row7 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col3&quot; class=&quot;data row7 col3&quot;&gt;636,381&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col4&quot; class=&quot;data row7 col4&quot;&gt;12.43%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col5&quot; class=&quot;data row7 col5&quot;&gt;3,179,645&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row7_col6&quot; class=&quot;data row7 col6&quot;&gt;62.08%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row8&quot; class=&quot;row_heading level0 row8&quot;&gt;64&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col0&quot; class=&quot;data row8 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col1&quot; class=&quot;data row8 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col2&quot; class=&quot;data row8 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col3&quot; class=&quot;data row8 col3&quot;&gt;476,933&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col4&quot; class=&quot;data row8 col4&quot;&gt;9.31%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col5&quot; class=&quot;data row8 col5&quot;&gt;3,656,578&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row8_col6&quot; class=&quot;data row8 col6&quot;&gt;71.40%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row9&quot; class=&quot;row_heading level0 row9&quot;&gt;65&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col0&quot; class=&quot;data row9 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col1&quot; class=&quot;data row9 col1&quot;&gt;46 - 55&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col2&quot; class=&quot;data row9 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col3&quot; class=&quot;data row9 col3&quot;&gt;486,775&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col4&quot; class=&quot;data row9 col4&quot;&gt;9.50%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col5&quot; class=&quot;data row9 col5&quot;&gt;4,143,353&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row9_col6&quot; class=&quot;data row9 col6&quot;&gt;80.90%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row10&quot; class=&quot;row_heading level0 row10&quot;&gt;66&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col0&quot; class=&quot;data row10 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col1&quot; class=&quot;data row10 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col2&quot; class=&quot;data row10 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col3&quot; class=&quot;data row10 col3&quot;&gt;290,869&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col4&quot; class=&quot;data row10 col4&quot;&gt;5.68%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col5&quot; class=&quot;data row10 col5&quot;&gt;4,434,222&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row10_col6&quot; class=&quot;data row10 col6&quot;&gt;86.58%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row11&quot; class=&quot;row_heading level0 row11&quot;&gt;67&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col0&quot; class=&quot;data row11 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col1&quot; class=&quot;data row11 col1&quot;&gt;56 - 65&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col2&quot; class=&quot;data row11 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col3&quot; class=&quot;data row11 col3&quot;&gt;263,811&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col4&quot; class=&quot;data row11 col4&quot;&gt;5.15%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col5&quot; class=&quot;data row11 col5&quot;&gt;4,698,033&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row11_col6&quot; class=&quot;data row11 col6&quot;&gt;91.73%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row12&quot; class=&quot;row_heading level0 row12&quot;&gt;68&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col0&quot; class=&quot;data row12 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col1&quot; class=&quot;data row12 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col2&quot; class=&quot;data row12 col2&quot;&gt;Female&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col3&quot; class=&quot;data row12 col3&quot;&gt;244,246&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col4&quot; class=&quot;data row12 col4&quot;&gt;4.77%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col5&quot; class=&quot;data row12 col5&quot;&gt;4,942,279&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row12_col6&quot; class=&quot;data row12 col6&quot;&gt;96.50%&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                        &lt;th id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122level0_row13&quot; class=&quot;row_heading level0 row13&quot;&gt;69&lt;/th&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col0&quot; class=&quot;data row13 col0&quot;&gt;Not a citizen of the U.S.&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col1&quot; class=&quot;data row13 col1&quot;&gt;65+&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col2&quot; class=&quot;data row13 col2&quot;&gt;Male&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col3&quot; class=&quot;data row13 col3&quot;&gt;179,200&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col4&quot; class=&quot;data row13 col4&quot;&gt;3.50%&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col5&quot; class=&quot;data row13 col5&quot;&gt;5,121,479&lt;/td&gt;
                        &lt;td id=&quot;T_82916b04_bbb6_11ea_8f75_acde48001122row13_col6&quot; class=&quot;data row13 col6&quot;&gt;100.00%&lt;/td&gt;
            &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;¡Una visualización rapidín!&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;altair&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;alt&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# nota que le no estoy usando style = True&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vis_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask_noncitizen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;freq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CIT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort_cols&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vis_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;PWGTP:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX:O&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;SEX:N&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AGE_BIN:O&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;No. de personas no nacidas en EEUU en California (ACS 2017)&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-9e88869af90244f3b16f24288950c142&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-9e88869af90244f3b16f24288950c142&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-9e88869af90244f3b16f24288950c142&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;data&quot;: {&quot;name&quot;: &quot;data-e01cd95eca122ee88343730bfd61ca60&quot;}, &quot;mark&quot;: &quot;bar&quot;, &quot;encoding&quot;: {&quot;color&quot;: {&quot;type&quot;: &quot;nominal&quot;, &quot;field&quot;: &quot;SEX&quot;}, &quot;row&quot;: {&quot;type&quot;: &quot;ordinal&quot;, &quot;field&quot;: &quot;AGE_BIN&quot;}, &quot;x&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;PWGTP&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;ordinal&quot;, &quot;field&quot;: &quot;SEX&quot;}}, &quot;title&quot;: &quot;No. de personas no nacidas en EEUU en California (ACS 2017)&quot;, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-e01cd95eca122ee88343730bfd61ca60&quot;: [{&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;0 - 17&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 157885.0, &quot;Percent&quot;: 0.030828008862283728, &quot;Cumulative PWGTP&quot;: 157885.0, &quot;Cumulative Percent&quot;: 0.030828008862283728}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;0 - 17&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 171176.0, &quot;Percent&quot;: 0.0334231576464533, &quot;Cumulative PWGTP&quot;: 329061.0, &quot;Cumulative Percent&quot;: 0.06425116650873702}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;18 - 25&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 226125.0, &quot;Percent&quot;: 0.04415228491613458, &quot;Cumulative PWGTP&quot;: 555186.0, &quot;Cumulative Percent&quot;: 0.10840345142487161}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;18 - 25&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 243711.0, &quot;Percent&quot;: 0.047586058636577444, &quot;Cumulative PWGTP&quot;: 798897.0, &quot;Cumulative Percent&quot;: 0.15598951006144904}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;26 - 35&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 549858.0, &quot;Percent&quot;: 0.1073631269404795, &quot;Cumulative PWGTP&quot;: 1348755.0, &quot;Cumulative Percent&quot;: 0.26335263700192857}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;26 - 35&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 585123.0, &quot;Percent&quot;: 0.11424883319837882, &quot;Cumulative PWGTP&quot;: 1933878.0, &quot;Cumulative Percent&quot;: 0.3776014702003074}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;36 - 45&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 609386.0, &quot;Percent&quot;: 0.11898633187795947, &quot;Cumulative PWGTP&quot;: 2543264.0, &quot;Cumulative Percent&quot;: 0.49658780207826686}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;36 - 45&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 636381.0, &quot;Percent&quot;: 0.12425727021432675, &quot;Cumulative PWGTP&quot;: 3179645.0, &quot;Cumulative Percent&quot;: 0.6208450722925936}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;46 - 55&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 476933.0, &quot;Percent&quot;: 0.09312407607255639, &quot;Cumulative PWGTP&quot;: 3656578.0, &quot;Cumulative Percent&quot;: 0.71396914836515}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;46 - 55&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 486775.0, &quot;Percent&quot;: 0.09504578657844735, &quot;Cumulative PWGTP&quot;: 4143353.0, &quot;Cumulative Percent&quot;: 0.8090149349435973}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;56 - 65&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 290869.0, &quot;Percent&quot;: 0.05679394565515157, &quot;Cumulative PWGTP&quot;: 4434222.0, &quot;Cumulative Percent&quot;: 0.8658088805987489}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;56 - 65&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 263811.0, &quot;Percent&quot;: 0.05151070618467829, &quot;Cumulative PWGTP&quot;: 4698033.0, &quot;Cumulative Percent&quot;: 0.9173195867834272}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;65+&quot;, &quot;SEX&quot;: &quot;Female&quot;, &quot;PWGTP&quot;: 244246.0, &quot;Percent&quot;: 0.04769052064842988, &quot;Cumulative PWGTP&quot;: 4942279.0, &quot;Cumulative Percent&quot;: 0.9650101074318571}, {&quot;CIT&quot;: &quot;Not a citizen of the U.S.&quot;, &quot;AGE_BIN&quot;: &quot;65+&quot;, &quot;SEX&quot;: &quot;Male&quot;, &quot;PWGTP&quot;: 179200.0, &quot;Percent&quot;: 0.034989892568142916, &quot;Cumulative PWGTP&quot;: 5121479.0, &quot;Cumulative Percent&quot;: 1.0}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;En conclusión, &lt;code&gt;sidetable&lt;/code&gt; es una herramienta sencilla, fácil de usar y muy útil.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Créditos:&lt;/strong&gt;
Aprendí de &lt;code&gt;sidetable&lt;/code&gt; en el podcast &lt;em&gt;python bytes&lt;/em&gt; en el &lt;a href=&quot;https://pythonbytes.fm/episodes/show/186/the-treebeard-will-guard-your-notebook&quot;&gt;episodio #186&lt;/a&gt; pero mientras escribía esta nota encontré este blog en twitter que también esta explorando &lt;code&gt;sidetable&lt;/code&gt; pero en inglés: &lt;a href=&quot;https://beta.deepnote.com/article/sidetable-pandas-methods-you-didnt-know-you-needed&quot;&gt;https://beta.deepnote.com/article/sidetable-pandas-methods-you-didnt-know-you-needed&lt;/a&gt; así que gracias a ambos recursos 🤓&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;hr /&gt;
&lt;p&gt;¿Qué te pareció la nota? &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+%F0%9F%8C%AE&quot;&gt;Mandanos un tuit a @tacosdedatos&lt;/a&gt; o envianos un correo a &lt;a href=&quot;mailto:sugerencias@tacosdedatos.com?subject=Sugerencia&amp;amp;body=Hola-holaaa&quot;&gt;✉️ sugerencias@tacosdedatos.com&lt;/a&gt;. Y recuerda que puedes subscribirte a nuestro boletín semanal aquí debajo.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content>

      
      
      
      
      

      <author>
          <name>Sergio Sánchez Zavala</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="pandas" />
      
        <category term="python" />
      

      
        <summary type="html"></summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Dueño de mis datos - Capítulo Facebook - Parte III</title>
      <link href="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-III" rel="alternate" type="text/html" title="Dueño de mis datos - Capítulo Facebook - Parte III" />
      <published>2020-05-22T10:00:00+00:00</published>
      <updated>2020-05-22T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-III</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-III">&lt;p&gt;La última entrega de la serie de Text Mining con mis datos de Facebook&lt;/p&gt;

&lt;p&gt;Bienvenidos al último post de esta serie. Si quieren ver cómo &lt;a href=&quot;https://tacosdedatos.com/dueno-de-mis-datos-facebook&quot;&gt;obtuvimos los datos&lt;/a&gt; o &lt;a href=&quot;https://tacosdedatos.com/dueno-de-mis-datos-facebook-parte-ii&quot;&gt;cómo creamos los &lt;em&gt;corpus&lt;/em&gt; &lt;/a&gt;con los que vamos a trabajar hoy, denle click en los enlaces.&lt;/p&gt;

&lt;p&gt;Recordemos de qué se trata este guateque:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;… vamos a jugar con todos los posteos que hice en Facebook y todos los comentarios que puse a posteos de otras personas. Aprovechando el gran curso de Text Mining que &lt;a href=&quot;https://twitter.com/jmtoralc&quot;&gt;@jmtoral&lt;/a&gt; nos dio durante la cuarentena, vamos a analizar mis textos e intentar encontrar algunas cosas interesantes. Al final, y porque nos gusta mucho, haremos gráficas y más gráficas.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;una-wordcloud-más-usando-afinn&quot;&gt;Una &lt;em&gt;wordcloud&lt;/em&gt; más usando AFINN&lt;/h2&gt;

&lt;p&gt;El post pasado acabamos usando el diccionario AFINN para determinar que tan positivos o negativos, en lo general, eran mis posts y mis comments.&lt;/p&gt;

&lt;p&gt;Para acabar de usar este diccionario esta vez vamos a crear una nube de palabras donde pongamos de un color las palabras positivas y en otro color las negativas. Para esto vamos a tener que crear una nueva columna que nos podrá el sentimiento como positivo si la palabra tiene una puntuación de entre 1 y 5. Si está entre -1 y -5, la pondrá como negativa.&lt;/p&gt;

&lt;p&gt;Por último, usaremos la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comparison.cloud&lt;/code&gt; para crear la gráfica y asignar los colores:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;png&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;graficas/comparacion_cloud.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;affin.count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fb.affin.esp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;case_when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Puntuacion&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Negativo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Puntuacion&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Positivo&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;acast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value.var&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wordcloud&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comparison.cloud&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#db2b27&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#12719e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random.order&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title.size&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max.words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;


&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev.off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/comparacion_cloud.png?raw=true&quot; alt=&quot;cloud_comparison&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;usando-el--diccionario-nrc&quot;&gt;Usando el  Diccionario NRC&lt;/h2&gt;

&lt;p&gt;Otro diccionario muy usado en el diccionario &lt;strong&gt;NRC&lt;/strong&gt;. A diferencia del &lt;strong&gt;AFINN&lt;/strong&gt; donde cada palabra tenía una calificación numérica, en &lt;strong&gt;NRC&lt;/strong&gt; la palabra puede ser clasificada como positiva o negativa (sin escala númerica) pero además puede entrar dentro de alguna de estas emociones:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;anger - enojo&lt;/li&gt;
  &lt;li&gt;anticipation - expectación&lt;/li&gt;
  &lt;li&gt;disgust - disgusto&lt;/li&gt;
  &lt;li&gt;fear - miedo&lt;/li&gt;
  &lt;li&gt;joy - alegría&lt;/li&gt;
  &lt;li&gt;sadness - tristeza&lt;/li&gt;
  &lt;li&gt;surprise - sorpresa&lt;/li&gt;
  &lt;li&gt;trust - seguridad&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para usar este diccionario tenemos que usar la &lt;em&gt;#BibliotecaNoLibreria&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syuzhet&lt;/code&gt;. Empezemos utilizando nuestro data frame inicial (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data$Comment&lt;/code&gt;) y después agrupemos por sentimiento y emoción para tener los totales de cada una:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Sentiment analysis con syuzhet&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Aplico NRC a mis posts y comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fb_sentimientos_nrc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;syuzhet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_nrc_sentiment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;spanish&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_fb_sentimientos_nrc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fb_sentimientos_nrc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summarise_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;funs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rowid_to_column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pivot_longer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names_to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sentimiento&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values_to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya con el objeto &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;df_fb_sentimientos_nrc&lt;/code&gt; podemos empezar a crear visualizaciones. Mi primer acercamiento fue una de barras pero de esas ya hicimos. Así que me aventuré a hacer un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;treemap&lt;/code&gt; que no habíamos hecho en post anteriores. Como sólo la haremos por emociones filtraré los sentimientos (positivo, negativo):&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# treemap&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_fb_sentimientos_nrc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'positive'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'negative'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;treemap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sentimiento&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;count&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fontsize.labels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fontsize.title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;palette&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Blues&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Sentimientos en Post y Comments&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fontfamily.title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fontfamily.labels&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;border.col&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#191414&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/treemap_sentimientos.png?raw=true&quot; alt=&quot;treemap&quot; /&gt;&lt;/p&gt;

&lt;p&gt;La verdad no encontré muchas opciones para aplicar el theme a la gráfica ya que la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;treemap&lt;/code&gt; no es parte de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ggplot&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Lo que podemos ver de la gráfica es que en su mayoría mis palabras expresan confianza y alegría. El disgusto, la tristeza, el miedo y el enojo están presentes pero no en gran cantidad.&lt;/p&gt;

&lt;p&gt;Quiero destacar que esta gráfica no es la mejor para poder comparar. Nuestro cerebro es malo para diferenciar áreas. Solo la hice para usar la función y poder generar algo que no hayamos hecho antes.&lt;/p&gt;

&lt;p&gt;¿Qué se les ocurre para poder comparar mejor?&lt;/p&gt;

&lt;p&gt;Ya para terminar, hagamos una gráfica de barras con el número de palabras por sentimiento:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;## grafica con positivo y negativo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BarPositiveNegative&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_fb_sentimientos_nrc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'positive'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'negative'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentimiento&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Clasificación de Palabras Por Sentimiento &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Número de Palabras&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_fill_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#db2b27&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#12719e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_x_discrete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Negativas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Positivas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BarPositiveNegative&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/BarPositiveNegative.png?raw=true&quot; alt=&quot;nrc_sentiment&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Esta gráfica confirma lo que veíamos en el treemap. Solía usar muchas más palabras positivas que negativas. Casi el triple.&lt;/p&gt;

&lt;h2 id=&quot;tf-idf&quot;&gt;TF-IDF&lt;/h2&gt;

&lt;p&gt;Imagínense que tenemos un documento, por ejemplo, acerca de Michael Jordan (¿ya vieron “The Last Dance”?) y que nos ponemos a analizarlo. ¿Cómo podríamos saber si se trata acerca de ganar un campeonato, sobre sus apuestas, Space Jam o su paso por el beisbol? Ahí es cuando entra es el &lt;strong&gt;TF : &lt;em&gt;Term Frequency&lt;/em&gt;&lt;/strong&gt;. Si un término se repite mucho es muy probable que nos de una buena pista acerca del contenido. Por ejemplo, si la palabra “Murray” es top 10 en apariciones, es muy probable que hable de Space Jam, si la palabra que más aparece es “swing” es muy probable que hable de beisbol. Para poder obtener un buen &lt;strong&gt;TF&lt;/strong&gt; es importantísimo haber limpiado ya los datos, haberles quitado stopwords y otros términos que no nos sean de utilidad.&lt;/p&gt;

&lt;p&gt;¿Pero qué pasa si no tenemos sólo un documento sino más de cien? Ese &lt;em&gt;corpus&lt;/em&gt; puede tener diferentes temas y el &lt;strong&gt;TF&lt;/strong&gt; puede resultar no tan eficiente. Ahí es cuando entra el &lt;strong&gt;TF-IDF: &lt;em&gt;Term Frequency-Inverse Document Frequency&lt;/em&gt;&lt;/strong&gt;.
Antes de seguir, intentaré resumir la parte del &lt;strong&gt;IDF&lt;/strong&gt;. Básicamente es qué tanto aparece ese término en los demás documentos del &lt;em&gt;corpus&lt;/em&gt;. La fórmula tiene más chiste que eso, incluso usa logaritmos, pero no es mi intención entrar en la matemática. Ahora bien, el &lt;strong&gt;TF-IDF&lt;/strong&gt; usa las dos métricas que acabamos de ver y nos dice el peso de un término dentro de un documento.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/formula05_ponderacion-tf-idf.png?raw=true&quot; alt=&quot;tf-idf&quot; /&gt;
http://ccdoc-tecnicasrecuperacioninformacion.blogspot.com/2012/11/frecuencias-y-pesos-de-los-terminos-de.html&lt;/p&gt;

&lt;p&gt;Todo este show es para que tengamos una idea de lo que vamos  a intentar obtener y cómo lo vamos a interpretar. Tirar comandos es fácil pero tirarlos con sentido y saber interpretarlo es lo que cuenta.&lt;/p&gt;

&lt;p&gt;La biblioteca que usaremos es &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidytext&lt;/code&gt; y vamos a reutilizar uno de los objetos que creamos en el post anterior&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Necesito que ya esté tokenizado los post y los comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# voy a usar el tidy.tokens.word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#para que los DF no me de exponentes en en los resultados.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scipen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;99&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Calcular del tf_idf de un plumazo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tfidf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;final_stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidytext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bind_tf_idf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo que intento hacer al agregar el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tipo&lt;/code&gt; es encontrar las palabras con más peso dependiento el tipo de publicación: post o comment.&lt;/p&gt;

&lt;p&gt;Vamos a crear una gráfica de barras para averiguar de qué hablé más en cada caso:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#primero creo los labels para los titulos del facet_wrap&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Comentario&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Post&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tfidf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tf_idf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;top_n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#ungroup() %&amp;gt;% &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tf_idf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tf_idf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show.legend&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_fill_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0a4c6a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#cfe8f3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;free&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labeller&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labeller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Palabras más Representativas por Tipo de Publicación&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Ranking obtenido por TF_IDF&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_caption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/tf-idf.png?raw=true&quot; alt=&quot;tf-idf tipo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Intentemos sacar algunas inferencias:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;En los comentarios “pachas” y “pachis, los sobrenombres de una amiga, son muy relevantes.&lt;/li&gt;
  &lt;li&gt;Por otro lado, Es muy característico de mis posts las etiquetas “picoftheday”, “rcnocrop” y “amedemicorazon”. Lo cual me cuadra perfecto pues mi FB estaba ligado a mi Instagram dentro de la aplicación &lt;em&gt;rcnocrop&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;En los comentarios que hacía a otras personas era tan “ofensivo” como para poner “mms” pero no como para poner “mames”. Grosero, grosero pero no tanto.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lda-o-latient-dirichlet-allocation-para-los-cuates&quot;&gt;LDA o &lt;em&gt;Latient Dirichlet Allocation&lt;/em&gt; para los cuates.&lt;/h2&gt;

&lt;p&gt;Ya para terminar juguemos un poco con &lt;strong&gt;LDA&lt;/strong&gt;. Este es un método de &lt;em&gt;topic modelling&lt;/em&gt; que nos permite identificar tópicos dentro de una serie de documentos. Haciendo un símil muy burdo, es como encontrar clústeres dentro del &lt;em&gt;corpus&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Para echarlo andar necesitamos crear una &lt;strong&gt;DTM:_ Document Term Matrix_&lt;/strong&gt; que vamos a obtener con la biblioteca &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tm&lt;/code&gt;. Además, nosotros tenemos que definir cuántos clústers o grupos queremos que cree el algoritmo.&lt;/p&gt;

&lt;p&gt;Veamos el código:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Crear un corpus&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# lee el vector y lo convierte en un corpus&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Corpus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;VectorSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;removeWords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stopwords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;es&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;removePunctuation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  

  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;removeNumbers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dtm.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DocumentTermMatrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Aplicaré este truco porque sin él suelo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# tener errores por filas vacías.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rowTotals&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dtm.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dtm.fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dtm.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rowTotals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# ahora sí, el LDA para 4 clústeres&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bd.lda&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;topicmodels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LDA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dtm.fb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;control&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El objeto &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bd_lda&lt;/code&gt; es un vector que no puedo usar para gráficar. Tengo que pasarlo a un dataframe con el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidy&lt;/code&gt; de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidytext&lt;/code&gt;. Este tiene dos opciones para el argumento &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;matrix&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beta&lt;/code&gt; para obtener la probabilidad de tópicos por palabra&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gamma&lt;/code&gt; para obtener la probabilidad de tópicos por documento&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para nuestra gráfica utilizaremos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beta&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;bd.topics&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidytext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bd.lda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;beta&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Prob por topico por palabra&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Va la gráfica&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;top_terminos&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder_within&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;free&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_y_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;percent_format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_fill_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#1696d2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#ec008b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#fdbf11&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#5c5859&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_x_reordered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# necesita el mutate de arriba. Quita el __1, __2 que éste pone.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Probabilidad de palabras por tópico&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Porcentaje LDA &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Palabra&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#scale_fill_manual(values=c(&quot;#db2b27&quot;, &quot;#55b748&quot;,&quot;fdbf11&quot;,&quot;898F9C&quot;))+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/prob_topico.png?raw=true&quot; alt=&quot;lda&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lo que reconozco de la gráfica:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Los porcentajes más altos están en lso tópicos 3 y 4. No se dejen llevar por el 2%. Es un muy buen número considerando el número total de documentos.&lt;/li&gt;
  &lt;li&gt;En el tópico 3 están muchas felicitaciones y abrazos.&lt;/li&gt;
  &lt;li&gt;En el tópico 4 están las publicaciones que metí desde Instagram y donde mencionaba a amigos con los que intereactuaba mucho.&lt;/li&gt;
  &lt;li&gt;En el tópico dos hay risas y felicitaciones.&lt;/li&gt;
  &lt;li&gt;El tópico 1 me muestra que no hice una limpieza correcta de datos. Hay muchos stopword ahí que no limpié.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Esto último fue un poco intencional para que vean como el algoritmo puede traer basura si no lo alimentamos bien. Como dice el adagio: &lt;em&gt;garbage in, garbage out&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;y-qué-sigue&quot;&gt;¿Y qué sigue?&lt;/h2&gt;

&lt;p&gt;P’acabar pronto, que se vayan a este &lt;a href=&quot;https://github.com/nerudista/DataViz/tree/master/MyFacebook&quot;&gt;repo&lt;/a&gt; y que intenten replicar lo que hicimos pero con sus datos. Como hay datos sensibles sólo les dejé los archivos de post y comments con cuatro o cinco registros. La idea es que pidan sus datos y sigan el camino de esta serie para que puedan replicar. Si se atoran, estoy siempre atento a responder en &lt;a href=&quot;https://twitter.com/nerudista&quot;&gt;@nerudista&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Como lo he mencionado en los post previos: piérdanle el miedo a analizar datos y a graficarlos. Además, los datos de sus usuarios que andan en la red son valiosos. Sean responsables con ellos.&lt;/p&gt;

&lt;p&gt;Espero que esta serie les haya desportado la cosquilla de empezar a practicar algo nuevo. No tienen porqué dedicarse a esto. Yo no lo hago pero jugarle es enriquecedor. Además, en estos tiempos de crisis ninguna nueva habilidad está de sobra.&lt;/p&gt;

&lt;p&gt;Gracias por llegar hasta aquí. BTW, #QuédateEnCasa&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;¿Qué te pareció la nota? &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+%F0%9F%8C%AE&quot;&gt;Mandanos un tuit a @tacosdedatos&lt;/a&gt; o &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+y+%40nerudista+%F0%9F%8C%AE&quot;&gt;a @nerudista&lt;/a&gt; o envianos un correo a &lt;a href=&quot;mailto:sugerencias@tacosdedatos.com?subject=Sugerencia&amp;amp;body=Hola-holaaa&quot;&gt;✉️ sugerencias@tacosdedatos.com&lt;/a&gt;. Y recuerda que puedes subscribirte a nuestro boletín semanal aquí debajo.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Pablo Quetzalcóatl Vázquez</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="Facebook" />
      
        <category term="ggplot2" />
      
        <category term="r" />
      
        <category term="text-mining" />
      

      
        <summary type="html">La última entrega de la serie de Text Mining con mis datos de Facebook</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Dueño de mis datos - Capítulo Facebook - Parte II</title>
      <link href="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-II" rel="alternate" type="text/html" title="Dueño de mis datos - Capítulo Facebook - Parte II" />
      <published>2020-05-18T10:00:00+00:00</published>
      <updated>2020-05-18T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-II</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook-Parte-II">&lt;p&gt;¡Text Mining! Es hora de entrarle a la onda de los diccionarios de palabras, los análisis de sentimientos y las gráficas de nube de palabras.&lt;/p&gt;

&lt;p&gt;Si quieren ver como obtener los datos con los que vamos a trabajar pueden verlo &lt;a href=&quot;https://tacosdedatos.com/dueno-de-mis-datos-facebook&quot;&gt;en la primera parte&lt;/a&gt; de esta serie.&lt;/p&gt;

&lt;p&gt;Solo para recordar el objetivo de esta serie:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;… vamos a jugar con todos los posteos que hice en Facebook y todos los comentarios que puse a posteos de otras personas. Aprovechando el gran curso de Text Mining que &lt;a href=&quot;https://twitter.com/jmtoralc&quot;&gt;@jmtoral&lt;/a&gt; nos dio durante la cuarentena, vamos a analizar mis textos e intentar encontrar algunas cosas interesantes. Al final, y porque nos gusta mucho, haremos gráficas y más gráficas.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;un-poco-de-contexto-o-sea-mi-disclaimer&quot;&gt;Un poco de contexto. O sea, mi &lt;em&gt;Disclaimer&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;La cuarentena me ha pegado duro como a la mayoría de la gente. Si le suman que previo a ella ya tenía 4 meses encerrado por una lesión, se podrán imaginar lo desesperado que he llegado a estar.&lt;/p&gt;

&lt;p&gt;Una forma en que yo logro manejar la ansiedad es estudiando, aprendiendo cosas nuevas y pasando horas practicándolas. Entiendo que eso no es para todos pero se los comparto por si les es de ayuda.&lt;/p&gt;

&lt;p&gt;Cuando &lt;a href=&quot;https://twitter.com/jmtoralc&quot;&gt;@jmtoral&lt;/a&gt; avisó en Twitter que iba a dar un curso de Minería de Texto no dudé ni tantito en escribirme. Era un tema que desconocía por completo y que pensé que podría aplicar con los datos de Facebook que tenía parados desde hace unos meses.&lt;/p&gt;

&lt;p&gt;Dicho esto, por favor tengan en mente que lo que aqui haremos es una acercamiento al tema con las cosas que entendí y ,seguro también, con los errores de las cosas que aún no entiendo por completo. Lo importante es que se queden con una noción y empiecen a jugar.&lt;/p&gt;

&lt;h2 id=&quot;guidelines-para-la-visualización&quot;&gt;&lt;em&gt;Guidelines&lt;/em&gt; para la visualización&lt;/h2&gt;

&lt;p&gt;Esta vez no hay bocetos en papel pero vamos a tocar un tema nuevo: los &lt;em&gt;guidelines&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Para las visualizaciones de los &lt;a href=&quot;https://tacosdedatos.com/Primeros-pasos-con-ggplot-y-altair&quot;&gt;Pats&lt;/a&gt; y de &lt;a href=&quot;https://tacosdedatos.com/Dueno-de-mis-Datos-Spotify&quot;&gt;Spotify&lt;/a&gt; me tuve que crear un par de &lt;em&gt;themes&lt;/em&gt; para que las visualizaciones fueran consistentes. Eso son las &lt;em&gt;guidelines&lt;/em&gt;. Sin embargo, estas gúias de estilo no son enchiladas. En aquellas ocasiones tardé mucho en elegir colores, tamaños de fuentes, espacios entre márgenes, etc.&lt;/p&gt;

&lt;p&gt;Todos sabemos que usar Comic Sans no es profesional para una dataviz, pero ¿por qué? Si van a hacer una gráfica, ¿porqué usarían Calibri, Arial o Times New Roman? Si van a combinar fuentes, ¿cuál va mejor con cúal?&lt;/p&gt;

&lt;p&gt;Afortunadamente hay un montón de UX, VD, entre otras profesiones, que se dedican a crear estas guías para sus organizaciones y muchas de ellas con públicas. Hay una buena lista &lt;a href=&quot;https://docs.google.com/spreadsheets/d/1VhBBwSvIeiUL42eLQgoXb93Y1_LBUWTaW2OB-tXFYD0/edit#gid=1679646668&quot;&gt;aquí&lt;/a&gt; que tenemos a la mano gracias a la &lt;a href=&quot;https://www.datavisualizationsociety.com/&quot;&gt;Data Visualization Society&lt;/a&gt;. Para este ejercicio decidí tomar como referencia la guía del &lt;a href=&quot;https://urbaninstitute.github.io/graphics-styleguide/&quot;&gt;Urban Institute&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Les dejo unos pedacitos de lo que pueden encontrar ahí:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/layout_guideline.png?raw=true&quot; alt=&quot;layout&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/color_guideline.png?raw=true&quot; alt=&quot;color&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/categorical_guideline.png?raw=true&quot; alt=&quot;categorical&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/tips_guidelines.png?raw=true&quot; alt=&quot;tips&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/maps_guidelines.png?raw=true&quot; alt=&quot;maps&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tener definidos colores, fuentes y tamaños es una ayudadota. El theme sale de volada:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#Cargar la fuente desde mi Windows&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;windowsFonts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;`Lato`&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;windowsFont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Crear theme&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Inspirado en el styleguide del Urban Institute&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# https://urbaninstitute.github.io/graphics-styleguide/&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Esto pone blanco el titulo , los ejes, etc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.background&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'#FFFFFF'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'#FFFFFF'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Esto pone blanco el panel de la gráfica, es decir, sobre lo que van los bubbles&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#FFFFFF&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#FFFFFF&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major.y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#DEDDDD&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#color = &quot;#1db954&quot;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# limpiar la gráfica&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.line&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#FFFFFF&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#axis.title=element_blank(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.title.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0D1F2D&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.title.y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0D1F2D&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# ajustar titulos y notas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                            &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                            &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                            &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hjust&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#align left&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                            &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0D1F2D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hjust&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#align left&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0D1F2D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0D1F2D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hjust&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#align left&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#para los titulos del facet_wrap&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip.text.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;face&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bold&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;complete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#pequeño truco para crear el caption con negritas y que puedo reusar en las gráficas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;expression&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Fuente:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; Datos proporcionados por Facebook para el usuario &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;nerudista&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Los invito a intenten replicar alguna de las guías que vienen en la lista que está arriba y vean como sus visualizaciones empiezan a verse más profesionales. Después pueden crearse las propias que reflejen su estilo de visualización.&lt;/p&gt;

&lt;h2 id=&quot;preparando-los-datos&quot;&gt;Preparando los datos&lt;/h2&gt;

&lt;p&gt;Para poder trabajar con análisis de texto necesitamos crear un &lt;em&gt;corpus&lt;/em&gt;. Es decir, un conjunto de documentos a analizar. En nuestro caso no basta solo con pegar los dos documentos (posts y comments) sino que hay que preprocesarlos para:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Crear una columna que nos diga si es un post o un comment (se me olvidó hacerlo en el &lt;a href=&quot;https://tacosdedatos.com/Dueno-de-mis-Datos-Facebook&quot;&gt;Python&lt;/a&gt; pasado).&lt;/li&gt;
  &lt;li&gt;Quitar las &lt;em&gt;stopwords&lt;/em&gt;. Es decir, las palabras que se repiten mucho y no nos sirven en el análisis (articulos, pronombres, conjunciones, etc).&lt;/li&gt;
  &lt;li&gt;Quitar números y puntuaciones.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La primera parte es sencilla y podemos sacarla con este código:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# cargar archivos&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./Datos/misComentarios.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_posts&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./Datos/misPosts.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Crear columan &quot;tipo&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Comentario&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_posts&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_posts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Post&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# cargar stopwords en español&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stopwords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;es&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#cargar palabras que no eliminó el paquete tm::stopwords &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_stop_words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;si&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;así&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tan&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;¡&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;$&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;esposa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;de&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;que&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;with&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;made&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;nocroprc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Unir los dos vectores de stop words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;final_stop_words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tengan presente la variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;my_stop_words&lt;/code&gt;. Más adelante vamos a ver porqué tuve que crearla.&lt;/p&gt;

&lt;h2 id=&quot;creando-corpus-tokens-y-wordclouds&quot;&gt;Creando &lt;em&gt;corpus, tokens y wordclouds&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Quanteda&lt;/code&gt; es un paquete en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; que nos permite crear corpus, tokenizar y crear algunas gráficas. Otro paquete es &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tm&lt;/code&gt; pero ese lo vamos a utilizar más adelante.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota:
Una de las cosas que más se me complican es saber a qué #BibliotecaNoLibreria corresponde cada comando. Para intentar que no les pase, voy a usar cada comando mencionando previamente la biblioteca, por ejemplo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tm::stopwords&lt;/code&gt;. Si solo  pusiera &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stopwords&lt;/code&gt; también jalaría pero la idea es que sepan de donde viene cada comando.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Convertir el dataframe en un corpus es bastante sencillo. Basta con este comando:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;corp_comments &amp;lt;- quanteda::corpus(data$Comment)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Lo que sigue es tokenizar (convertir cada palabra en un objeto que puede analizarse) y después quitar las palabras que no nos sirven. La premisa es que las palabras que más se repiten como los artículos, pronombres, preposiciones; son las que menos aportan al análisis. Las palabras que se repiten menos son las más características de nuestros textos y las que más nos pueden ayudar al análisis. Por eso es importante quitar la paja desde el principio.&lt;/p&gt;

&lt;p&gt;En mi primera ejecución quité los stopwords que vienen por default en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tm::stopwords&lt;/code&gt; pero cuando vi los tokens me di cuenta que había muchas que no servían en para mi analisis en particular. A lo que voy es que deben entrar a ensuciarse con los datos antes de empezar a hacer cosas bonitas. Si conoces tus datos, les puedes sacar más jugo.&lt;/p&gt;

&lt;p&gt;Después de varias iteraciones saqué la lista de palabras que quería quitar y es entonces cuando creé la variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;my_stop_words&lt;/code&gt;. Esta la que acabé usando para crear la que usé al final: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;final_stop_words&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Quanteda&lt;/code&gt; podemos tokenizar y hacer limpieza en el mismo comando. Esto va a crear un objeto donde cada registro va a ser un token. Después necesitamos crear una &lt;em&gt;Document Feature Matrix (dfm)&lt;/em&gt; que es otro tipo de objeto donde cada token se convierte en una “columna” en vez de un registro.&lt;/p&gt;

&lt;p&gt;El código es muy simple:&lt;/p&gt;
&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#creo un corpus con QUANTEDA con los comentarios&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quanteda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corpus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# voy a tokenizar cada post&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tok_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quanteda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tokens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp_comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove_numbers&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                 &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove_punct&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tokens_remove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pattern&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;final_stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;valuetype&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'fixed'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# ahora voy a crear una matrix dfm&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dfmat_comments&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quanteda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dfm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tok_comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove_punct&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Con el &lt;em&gt;dfm&lt;/em&gt; podemos ya aplicar varios comandos para sacar las frecuencias de tokens, analisis de sentimientos o para crear nubes de palabras, entre otras cosas.&lt;/p&gt;

&lt;p&gt;Empecemos con una nube de palabras:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;set.seed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;132&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quanteda&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textplot_wordcloud&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dfmat_comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RColorBrewer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;brewer.pal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;RdBu&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_order&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/wordcloud_quanteda.png?raw=true&quot; alt=&quot;quanteda_wordcloud&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Y podemos ver que soy una persona muy agradecida y que mando muchos abrazos, jeje. Hay por ahí algunos hashtags que me recuerdan que use una app durante un tiempo para publicar fotos.&lt;/p&gt;

&lt;p&gt;Ahora vamos a repetir el proceso, con unas pequeñas variantes, pero ahora con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidytext&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;El principio es el mismo: vamos a leer el data frame, hacerle limpieza de dígitos y puntuaciones y después tokenizarlo.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;##### TIDYTEXT #####&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Voy a limpiar un poco la base para estandarizarla&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.limpia&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iconv&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ASCII//TRANSLIT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# QUITA ACENTOS Y CARAC. ESPECIALES&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_squish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_remove_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[[:punct:]]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_remove_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[[:digit:]]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para tokenizar &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidytext&lt;/code&gt; nos deja usar varias opciones:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;word , para tokenizar por palabra.&lt;/li&gt;
  &lt;li&gt;sencence , para tokenizar por frase.&lt;/li&gt;
  &lt;li&gt;ngram, para tokenizar por agrupaciones de n-gramas (un bigrama son  dos palabras juntas, 4-grama son 4 palabras y así sucesivamente).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para variar un poco voy a ocupar la opción de 2-gramas y crear una wordcloud con la biblioteca del mismo nombre:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#Ahora a tokenizar por palabra&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.limpia&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidytext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unnest_tokens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Ahora a tokenizar por oracion&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Da casi lo mismo que la data.limpia.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.sentence&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.limpia&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unnest_tokens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sentence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sentences&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Ahora por n-gramas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.ngram&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.limpia&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unnest_tokens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ngram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ngrams&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuenta.ngramas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.ngram&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ngram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#dplyr::filter(!ngram %in% tm::stopwords(kind=&quot;es&quot;)) %&amp;gt;% &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ngram&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;final_stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ngram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#Visualizar ngramas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuenta.ngramas&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wordcloud&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wordcloud&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ngram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max.words&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random.order&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;brewer.pal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Paired&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/wordcloud_tm.png?raw=true&quot; alt=&quot;wordcloud&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En el repo viene el código que tienen que agregar para que le den buen tamaño a la imagen y no se les corten palabras.&lt;/p&gt;

&lt;h2 id=&quot;analisis-de-sentimientos&quot;&gt;Analisis de sentimientos&lt;/h2&gt;

&lt;p&gt;Aprovechando que tenemos recién creado el objeto &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tidy.tokens.word&lt;/code&gt;, que contiene tokens por palabra, intentemos hacer algo de análisis de sentimientos. Para eso necesitamos usar un diccionario de palabras. Los más usadons son &lt;strong&gt;Affin, NRC y Bing&lt;/strong&gt;. Cada uno tiene sus caracteristicas especiales. Si los buscan en Google hay buenos artículos que mencionan sus diferencias.&lt;/p&gt;

&lt;p&gt;Vamos a ocupar el diccionario AFFIN en español que ronda por la internet para ligarlo con cada uno de los tokens que tenemos. El diccionario lo que tiene es algo así:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Palabra&lt;/th&gt;
      &lt;th&gt;Puntuacion&lt;/th&gt;
      &lt;th&gt;Word&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;abandona&lt;/td&gt;
      &lt;td&gt;-2&lt;/td&gt;
      &lt;td&gt;abandons&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;abandonado&lt;/td&gt;
      &lt;td&gt;-2&lt;/td&gt;
      &lt;td&gt;abandoned&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;abandonar&lt;/td&gt;
      &lt;td&gt;-2&lt;/td&gt;
      &lt;td&gt;abandon&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Las palabras están puntuadas del -5 al 5.&lt;/p&gt;

&lt;p&gt;Vamos a unir el diccionario para luego agrupar por tipo de publicacion (post o comment), sumar la puntuacion de cada agrupación y hacer una gráfica para estrenar el &lt;em&gt;theme&lt;/em&gt; que no hemos usado.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# ahora con afinn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;afinn.esp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./datos/lexico_afinn.en.es.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                        &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;LATIN1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fb.affin.esp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy.tokens.word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;final_stop_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inner_join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;afinn.esp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;by&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;word&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Palabra&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distinct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.keep_all&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#graficar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fb.affin.esp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;neto&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Puntuacion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;neto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tipo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;neto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;neto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nudge_y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Lato&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fontface&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bold&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4.5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
               &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Sentimiento por Tipo de Publicación&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Calificación Obtenida Usando AFFIN&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;caption&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;my_caption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale_fill_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#0a4c6a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#cfe8f3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_fb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/graficas/afinn.png?raw=true&quot; alt=&quot;affin_por_tipo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lo que se puede ver es que mis respuestas a posts de otros solían ser bastante positivos. Todo lo contrario a cuando hacá post propios. Tiene sentido para mí porque usualmente escribo para criticar algo o expresar mi rechazo hacia algo principalmente político (mi Twitter es un gran ejemplo de eso) mientras que solía responder a muchas publicaciones de cumpleaños de mis amigos. Si recordamos las salidas de ambas &lt;em&gt;wordclouds&lt;/em&gt; podemos ver que lo que más decía era “gracias”, “abrazo” y “felicidades”.&lt;/p&gt;

&lt;h2 id=&quot;en-serio-una-tercera-parte&quot;&gt;¿En serio una tercera parte?&lt;/h2&gt;

&lt;p&gt;Sí. Porque nos falta jugar con diccionarios NRC, calcular el TF-IDF y encontrar tópicos usando LDA.&lt;/p&gt;

&lt;p&gt;Espero este blog les hay aparecido interesante y les den ganas de ir a pedir sus datos y jugar con ellos. Siéntanse libres de contactarme en mi Twitter  &lt;a href=&quot;https://twitter.com/nerudista&quot;&gt;@nerudista&lt;/a&gt; si se les ofrece algo.&lt;/p&gt;

&lt;p&gt;Así que no se desesperen. La próxima semana se viene la última y nos vamos.
***&lt;/p&gt;

&lt;p&gt;¿Qué te pareció la nota? &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+%F0%9F%8C%AE&quot;&gt;Mandanos un tuit a @tacosdedatos&lt;/a&gt; o &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+y+%40nerudista+%F0%9F%8C%AE&quot;&gt;a @nerudista&lt;/a&gt; o envianos un correo a &lt;a href=&quot;mailto:sugerencias@tacosdedatos.com?subject=Sugerencia&amp;amp;body=Hola-holaaa&quot;&gt;✉️ sugerencias@tacosdedatos.com&lt;/a&gt;. Y recuerda que puedes subscribirte a nuestro boletín semanal aquí debajo.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Pablo Quetzalcóatl Vázquez</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="Facebook" />
      
        <category term="ggplot2" />
      
        <category term="r" />
      
        <category term="text-mining" />
      

      
        <summary type="html">¡Text Mining! Es hora de entrarle a la onda de los diccionarios de palabras, los análisis de sentimientos y las gráficas de nube de palabras.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Probando nuestro código con pytest</title>
      <link href="https://old.tacosdedatos.com/pruebas-unitarias-pytest" rel="alternate" type="text/html" title="Probando nuestro código con pytest" />
      <published>2020-05-12T10:00:00+00:00</published>
      <updated>2020-05-12T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/pruebas-unitarias-pytest</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/pruebas-unitarias-pytest">&lt;h4 id=&quot;aviso&quot;&gt;Aviso&lt;/h4&gt;
&lt;p&gt;A lo largo de este post estaré probando las funciones del código que escribí para el post sobre la &lt;a href=&quot;https://tacosdedatos.com/generacion-automatica-datasets&quot;&gt;generación automática de datasets&lt;/a&gt;; sin embargo no es necesario que leas ese post primero, pero seguramente te ayudará a ponerle más contexto al código que aquí se presenta.&lt;/p&gt;

&lt;h2 id=&quot;qué-es-pytest&quot;&gt;¿Qué es &lt;em&gt;pytest&lt;/em&gt;?&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;pytest&lt;/em&gt; es un &lt;em&gt;framework&lt;/em&gt; para Python que ofrece la recolección automática de los &lt;em&gt;tests&lt;/em&gt;, aserciones simples, soporte para &lt;em&gt;fixtures&lt;/em&gt;, &lt;em&gt;debugeo&lt;/em&gt; y mucho más… no te preocupes si algunas de estas palabras no te hacen mucho sentido; intentaré aclararlos más adelante a lo largo de este post.&lt;/p&gt;

&lt;p&gt;Por cierto, &lt;em&gt;pytest&lt;/em&gt; no es el único &lt;em&gt;framework&lt;/em&gt; disponible; también está &lt;em&gt;nose&lt;/em&gt;, &lt;em&gt;doctest&lt;/em&gt;, &lt;em&gt;testify&lt;/em&gt;… pero &lt;em&gt;pytest&lt;/em&gt; es el que uso y de el que conozco más.&lt;/p&gt;

&lt;p&gt;Para obtener &lt;em&gt;pytest&lt;/em&gt; lo puedes descargar desde PyPI con tu gestor de paquetes de elección:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;pytest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;escribiendo-nuestros-tests&quot;&gt;Escribiendo nuestros &lt;em&gt;tests&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;Para escribir las pruebas es necesario escribir funciones que comiencen con el prefijo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_&lt;/code&gt;. Es necesario que las llamemos así ya que al momento de ejecutar &lt;em&gt;pytest&lt;/em&gt; debemos especificar un directorio raíz, a partir de este directorio &lt;em&gt;pytest&lt;/em&gt; leerá todos los archivos buscando funciones que comiencen con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_&lt;/code&gt;. Por ejemplo, si miras el &lt;a href=&quot;https://github.com/fferegrino/medium-collector&quot;&gt;repositorio de &lt;em&gt;medium-collector&lt;/em&gt;&lt;/a&gt;, verás que todos los &lt;em&gt;tests&lt;/em&gt; están contenidos dentro de un folder apropiadamente llamado &lt;em&gt;tests&lt;/em&gt;. Para ejecutar todas las pruebas, lo que tenemos que hacer es ejecutar &lt;em&gt;pytest&lt;/em&gt; con esta carpeta como argumento:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pytest tests/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;parametrizando-nuestras-pruebas&quot;&gt;Parametrizando nuestras pruebas&lt;/h2&gt;
&lt;p&gt;Comencemos por escribir un test sencillo: una sola entrada, una sola salida. y sin llamadas a servicios externos. Me refiero a una función que toma una cadena codificada (como esta: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;=?UTF-8?B?VGhlcmXigJlz?= more to the story&lt;/code&gt;) y regresa otra cadena (como esta: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;There’s more to the story&lt;/code&gt;), en este caso estoy hablando sobre la función &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/medium_collector/download/parser.py#L12&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_subject&lt;/code&gt; method&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;subject_parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;subjects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;subjects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;subject_parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;utf8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;subject_parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subject_parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para escribir una prueba unitaria es tan “simple” como hacer esto:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;There's more to the story&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;actual&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;=?UTF-8?B?VGhlcmXigJlz?= more to the story&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;actual&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sin embargo, esta funcion necesita ser probada con el caso en donde toda la cadena está codificada, o el caso en donde no lo está. Para cubrir estos casos tendríamos que escribir métodos como &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_get_subject_all_encoded&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_get_subject_none_encoded&lt;/code&gt;, pero eso sería una duplicación absurda de código, para solucionar este problema de &lt;strong&gt;probar el mismo código con múltiples valores de entrada&lt;/strong&gt; podemos hacer uso de la &lt;strong&gt;parametrización&lt;/strong&gt; usando el decorador &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@pytest.mark.parametrize&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pytest&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pytest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parametrize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;input_subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;expected&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# Input 1
&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;&quot;=?UTF-8?B?V2hlbiBhICQxMDAsMDAwIFNhbGFyeSBJc27igJl0IEVub3VnaCB8IEFkYW0gUGFyc29ucyBpbiBNYWtpbmcgb2YgYSBNaWxsaW8=?= =?UTF-8?B?bmFpcmU=?=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;&quot;When a $100,000 Salary Isn’t Enough | Adam Parsons in Making of a Millionaire&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# Input 2
&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;&quot;=?UTF-8?B?VGhlcmXigJlz?= more to the story&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;s&quot;&gt;&quot;There’s more to the story&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# Input 3
&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;&quot;7 Things Rich People Advise But Never Do | David O. in The Startup&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;&quot;7 Things Rich People Advise But Never Do | David O. in The Startup&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;actual&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;actual&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El código anterior le indica a &lt;em&gt;pytest&lt;/em&gt; que ejecute la prueba &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_get_subject&lt;/code&gt; tres veces, cada una reemplazando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input_subject&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expected&lt;/code&gt; con sus valores correspondientes especificados en el segundo argumento de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parametrize&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;fixtures&quot;&gt;Fixtures&lt;/h2&gt;
&lt;p&gt;En algunas ocasiones tal vez tengamos &lt;strong&gt;pruebas que comiencen desde cierto estado&lt;/strong&gt;, este estado puede ser tener datos en una base de datos, tener archivos en alguna carpeta, o tal vez simplemente tener el objeto correcto como entrada a la función; es ahí donde las &lt;em&gt;fixtures&lt;/em&gt; son útiles.&lt;/p&gt;

&lt;p&gt;Por ejemplo, en el repositorio de &lt;em&gt;medium-colletor&lt;/em&gt; hay una función llamada &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse_mail&lt;/code&gt; que, como el nombre lo sugiere, podemos usar para extraer información de un objeto de la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;email.message.Message&lt;/code&gt;. Esta es una versión simplificada de la implementación del método:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Message-ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;To&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;From&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para probar esta función necesitamos un objeto de la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Message&lt;/code&gt;, pero en realidad no quiero tener que conectarme a nuestro servidor de email cada vez que ejecutemos la prueba; este es el escenario perfecto para usar una &lt;em&gt;fixture&lt;/em&gt;. Para definir una, tenemos que isar algo como el siguiente código:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pytest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fixture&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dummy_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MIMEMultipart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;alternative&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Link&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;From&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;you@this.com&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;To&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;me@that.com&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Message-ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;123&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strftime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%a, %d %b %Y %H:%M:%S +0000 (UTC)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hi!&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;br&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MIMEText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;plain&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MIMEText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo primero que hay que notar es que &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@pytest.fixture&lt;/code&gt; es usado como decorador de… ¿¡una función!? Sí, así es, una &lt;em&gt;fixture&lt;/em&gt; no es nada más que una función cuyo valor de retorno debe ser el valor que queremos que esa &lt;em&gt;fixture&lt;/em&gt; tenga. En este caso, el valor de nuestra &lt;em&gt;fixture&lt;/em&gt; será un objeto de la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MIMEMultipart&lt;/code&gt; que hereda de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Message&lt;/code&gt; que es justo lo que queremos.&lt;/p&gt;

&lt;p&gt;Ahora, para usar nuestra &lt;em&gt;fixture&lt;/em&gt; llamada &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dummy_mail&lt;/code&gt; en nuestra prueba es suficiente con pasarla como argumento en nuestra función de prueba:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dummy_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;expected_mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ad841b37bd4b9b5403b575432f67f5ed2d68ed40&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;a4747a50dad63531704f5ab32509bb0c60b7350f&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;you@this.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Link&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ANY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decoded&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dummy_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected_mail_info&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decoded&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;p&amp;gt;Hi!&amp;lt;br&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cuando ejecutamos &lt;em&gt;pytest&lt;/em&gt;, este tratará de resolverlas antes de que se ejecute cualquier prueba que las use, y una ves que estas estén listas, los métodos de prueba reciben los valores especificados en cada método asociado. Este mecanismo permite algunos otros usos interesantes de los que hablaré más adelante.&lt;/p&gt;

&lt;h3 id=&quot;una-característica-extra-de-las-fixtures&quot;&gt;Una característica extra de las &lt;em&gt;fixtures&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Las &lt;em&gt;fixtures&lt;/em&gt; de &lt;em&gt;pytest&lt;/em&gt; son geniales, y otro de sus usos es cuando queremos reutilizar el mismo fragmento de código en dos o más funciones de prueba. Imagina que necesitamos usar un objeto de la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Message&lt;/code&gt; para dos pruebas. Podríamos haber declarado una variable global, digamos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MESSAGE = MIMEMultipart(&quot;alternative&quot;)&lt;/code&gt; y después usarla en nuestros métodos así:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_parse_mail_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MESSAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;    
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_parse_mail_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MESSAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pero en este caso, ambos tests estarían usando la misma variable, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MESSAGE&lt;/code&gt; lo que significa que cualquier cambio hecho por &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_parse_mail_1&lt;/code&gt; afectaría el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MESSAGE&lt;/code&gt; que &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_parse_mail_2&lt;/code&gt; recibe, esto rompe el propósito de las pruebas unitarias, ya que nuestros &lt;em&gt;tests&lt;/em&gt; no estarían aislados. Sin embargo, cuando usamos &lt;em&gt;fixtures&lt;/em&gt;, cada función de prueba recibe una copia nueva de lo que sea que regrese nuestra función marcada con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@pytest.fixture&lt;/code&gt;, haciendo fácil y sencillo usarlas una y otra vez.&lt;/p&gt;

&lt;h2 id=&quot;patching&quot;&gt;Patching&lt;/h2&gt;
&lt;p&gt;Sin lugar a dudas, algunas partes de nuestro código dependerán de librerías de terceros o a servicios externos que no queremos ejecutar o contactar cuando ejecutamos nuestras pruebas. Ya sea porque la librería que estamos usando consume muchos recursos o es un sistema productivo que no debería ser tocado durante las pruebas, aquí es cuando el &lt;strong&gt;patching&lt;/strong&gt; brilla por su utilidad; este nos ayuda a &lt;strong&gt;reemplazar el comportamiento (o valores de retorno) de una llamada a una función&lt;/strong&gt; con lo que nosotros dispongamos.&lt;/p&gt;

&lt;p&gt;Imagina que la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_html&lt;/code&gt; contiene código que es muy &lt;em&gt;“costoso”&lt;/em&gt; ejecutar, y no lo queremos que este código se ejecute cada vez que llamamos al test &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_parse_mail&lt;/code&gt;, entonces podemos &lt;em&gt;parcharlo&lt;/em&gt; (tengo que decir que el &lt;em&gt;patching&lt;/em&gt; no es una funcionalidad de &lt;em&gt;pytest&lt;/em&gt; si no que viene con Python por default).&lt;/p&gt;

&lt;p&gt;Hay dos formas de &lt;em&gt;“parchar”&lt;/em&gt; nuestro código: una de ellas es haciendo uso de la instrucción &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;with&lt;/code&gt;, pasando el nombre completo de la función que queremos &lt;em&gt;“parchar”&lt;/em&gt;. Un test que aplica un &lt;em&gt;patch&lt;/em&gt; a la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_html&lt;/code&gt; dentro de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse_email&lt;/code&gt; se vería así:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;unittest.mock&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;patch&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dummy_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;expected_mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ad841b37bd4b9b5403b575432f67f5ed2d68ed40&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;patch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;medium_collector.download.parser.get_html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;return_value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;patched&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decoded&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parse_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dummy_mail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;patched&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assert_called_once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected_mail_info&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decoded&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En el fragmento anterior estamos &lt;em&gt;“parchando”&lt;/em&gt; la función y estableciendo el valor de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;Hello&quot;&lt;/code&gt; como su valor de retorno con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;return_value&lt;/code&gt;. Esto significa que &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;Hello&quot;&lt;/code&gt; será regresado cada vez que la función es ejecutada. Ahora que la función original no es realmente ejecutada, es importante que nos cercioremos que nuestro código está llamando a esta función, para esto podemos utilizar el método &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assert_called_once&lt;/code&gt; para verificar que lo hemos llamado.&lt;/p&gt;

&lt;h3 id=&quot;los-peligros-del-patching&quot;&gt;Los peligros del &lt;em&gt;patching&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;El &lt;em&gt;parcheo&lt;/em&gt; podría parecer una solución fácil para evitar conectarse con servicios externos o llamadas a funciones costosas. Pero debes tener en cuenta que cuando &lt;em&gt;parchamos&lt;/em&gt; algo, estamos asumiendo muchas cosas sobre el código que estamos &lt;em&gt;parchando&lt;/em&gt;, estas asunciones son:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Sabemos el comportamiento esperado del código que estamos &lt;em&gt;parchando&lt;/em&gt;, es decir, sabemos sus valores de retorno y bajo que circunstancias falla.&lt;/li&gt;
  &lt;li&gt;Puedes, con completa seguridad, regresar un objeto que se comporte como el valor que originalmente sería retornado por la función real.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Cuando aplicas un parche a una función, toma en cuenta que esta puede retornar un valor “complejo” que sea difícil de reproducir, y que &lt;em&gt;“parcharlo”&lt;/em&gt; mal resultaría en tu código siendo probado ante un escenario que nunca ocurrirá en la vida real. Para evitar esto, tal vez tengas que examinar muy a detalla cuales son los valores de retorno de lo que estás &lt;em&gt;“parchando”&lt;/em&gt; con el fin de hacerlo correctamente.&lt;/p&gt;

&lt;p&gt;Otro problema muy común con el &lt;em&gt;patching&lt;/em&gt; es que en nos podemos dejar llevar y terminar &lt;em&gt;“parchando”&lt;/em&gt; todo… lo que, a final de cuentas nos pone en la situación de estar probando nuestro código en escenarios poco realistas. Si en algún momento te encuentras haciendo esto, es mejor que te detengas y reconsideres si las pruebas unitarias son la mejor solución para probar tu código… tal vez las pruebas de integración sean una mejor solución para tu problema de &lt;em&gt;testing&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;fixtures-avanzadas&quot;&gt;&lt;em&gt;Fixtures&lt;/em&gt; avanzadas&lt;/h2&gt;
&lt;p&gt;Como lo mencioné anteriormente, la forma en la que &lt;em&gt;pytest&lt;/em&gt; resuelve las &lt;em&gt;fixtures&lt;/em&gt; puede ser usada para darle a nuestro código más flexibilidad. En el repositorio de &lt;em&gt;medium-collector&lt;/em&gt; hay una función que carga algunos archivos a un &lt;em&gt;bucket&lt;/em&gt; de S3 usando la librería &lt;em&gt;boto&lt;/em&gt;, esta es la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;upload_files&lt;/code&gt;, que se ve más o menos así:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;upload_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;s3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;aws_access_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ACCESS_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SECRET_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;eu-west-2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;upload_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Claro que no quero estar conectándome a AWS cada vez que ejecuto las pruebas; aquí es donde la librería &lt;em&gt;moto&lt;/em&gt; aparece para rescatarme. En palabras de sus creadores: &lt;em&gt;“Moto es una librería que permite que tus tests fácilmente finjan comunicarse con servicios de AWS”&lt;/em&gt;. La forma en la que ellos sugieren usarla es a través de un manejador de contexto:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_my_model_save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para probar nuestra función debemos cumplir dos condiciones antes de llamar a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;upload_files&lt;/code&gt;:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Imitar S3; no queremos estar conectándonos a AWS en nuestras pruebas unitarias,&lt;/li&gt;
  &lt;li&gt;Tener un &lt;em&gt;bucket&lt;/em&gt; que ya exista; nuestro código asume que uno ya existe&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Para lograr estas dos cosas con un &lt;em&gt;fixture&lt;/em&gt; podemos hacer algo como esto:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pytest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fixture&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;my_special_bucket&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pytest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fixture&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mock_storage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contextmanager&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_bucket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;s3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;eu-east-1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inner&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Esta &lt;em&gt;fixture&lt;/em&gt; es, en realidad, una función (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inner&lt;/code&gt;) que gracias al decorador &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;contextmanager&lt;/code&gt; podemos llamar con la instrucción &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;with&lt;/code&gt;. En términos de la implementación puedes ver que estamos usando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mock_s3&lt;/code&gt; como lo recomiendan los desarrolladores de &lt;em&gt;moto&lt;/em&gt;, dentro de este contexto creamos un cliente de &lt;em&gt;boto3&lt;/em&gt;, luego, dependiendo de un parámetro pasado a nuestra función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inner&lt;/code&gt; decidimos si creamos o no la &lt;em&gt;bucket&lt;/em&gt;; por último, y como este se trata de un manejador de contexto usamos la instrucción &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yield&lt;/code&gt; que le indicará a &lt;em&gt;pytest&lt;/em&gt; que nuestra &lt;em&gt;fixture&lt;/em&gt; está lista para ser usada.&lt;/p&gt;

&lt;p&gt;Ah, no sé si te diste cuenta, pero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mock_storage&lt;/code&gt; toma como argumento otra &lt;em&gt;fixture&lt;/em&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bucket&lt;/code&gt; en este caso). Esa es otra de las excelentes características de &lt;em&gt;pytest&lt;/em&gt;: permite crear ciertas dependencias entre nuestras &lt;em&gt;fixtures&lt;/em&gt;, y esta es resuleta antes de que se ejecuten nuestras pruebas.&lt;/p&gt;

&lt;p&gt;Ahora sí, estamos listos a probar nuestra función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;upload_files&lt;/code&gt; con esta función:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_upload_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_storage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_storage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_bucket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;upload_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;files_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;s3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;eu-east-1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;contents&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list_objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Contents&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;practica&quot;&gt;¡Practica!&lt;/h2&gt;
&lt;p&gt;Me hubiera encantado preparar un notebook o cualquier otra forma de entorno interactivo que pudieras usar para jugar y experimentar un poco con los &lt;em&gt;tests&lt;/em&gt;, pero creo que para este tema, es mejor que te ensucies las manos con un poco de código verdadero. Te invito a que descargues el código de la aplicación &lt;a href=&quot;https://github.com/fferegrino/medium-collector&quot;&gt;&lt;em&gt;medium-collector&lt;/em&gt; repo&lt;/a&gt; y ejecutes los test por ti mism@.&lt;/p&gt;

&lt;h2 id=&quot;más-allá-de-las-pruebas-unitarias&quot;&gt;Más allá de las pruebas unitarias&lt;/h2&gt;
&lt;p&gt;A pesar de que &lt;em&gt;pytest&lt;/em&gt; es fabuloso para realizar pruebas unitarias, nada nos detiene de usarlo para otras pruebas, aún más más complejas; hablo de pruebas de integración o tal vez hasta de &lt;em&gt;end-to-end&lt;/em&gt;. Con herramientas como &lt;em&gt;Docker&lt;/em&gt;, &lt;em&gt;localstack&lt;/em&gt; y otras más, es posible crear un poderos &lt;em&gt;framework&lt;/em&gt; de pruebas para todos tus proyectos de Python. En un post futuro voy a hablar de cómo es que se puede utilizar todo el poder de estas herramientas para crear un test de &lt;em&gt;end-to-end&lt;/em&gt;, así que asegúrate de seguir el blog y de seguirme en Twitter en &lt;a href=&quot;https://twitter.com/io_exception&quot;&gt;@io_exception&lt;/a&gt;.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Antonio Feregrino Bolaños</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="python" />
      
        <category term="pytest" />
      

      
        <summary type="html">Aviso A lo largo de este post estaré probando las funciones del código que escribí para el post sobre la generación automática de datasets; sin embargo no es necesario que leas ese post primero, pero seguramente te ayudará a ponerle más contexto al código que aquí se presenta.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Dueño de mis datos - Capítulo Facebook</title>
      <link href="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook" rel="alternate" type="text/html" title="Dueño de mis datos - Capítulo Facebook" />
      <published>2020-05-08T10:00:00+00:00</published>
      <updated>2020-05-08T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/Dueno-de-mis-Datos-Facebook">&lt;p&gt;En mi &lt;a href=&quot;https://tacosdedatos.com/dueno-de-mis-datos-spotify&quot;&gt;entrada anterior&lt;/a&gt; les platiqué acerca de cómo fui a pedir la información que tienen de mí las redes sociales que suelo, o solía, utilizar.&lt;/p&gt;

&lt;p&gt;Es esta nueva serie vamos a jugar con todos los posteos que hice en Facebook y todos los comentarios que puse a posteos de otras personas. Aprovechando el gran curso de Text Mining que &lt;a href=&quot;https://twitter.com/jmtoralc&quot;&gt;@jmtoral&lt;/a&gt; nos dio durante la cuarentena, vamos a analizar mis textos e intentar encontrar algunas cosas interesantes. Al final, y porque nos gusta mucho, haremos gráficas y más gráficas.&lt;/p&gt;

&lt;p&gt;¡A darle átomos!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/atomos.jpg?raw=true&quot; alt=&quot;atomos&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;consiguiendo-los-datos&quot;&gt;Consiguiendo los datos&lt;/h2&gt;

&lt;p&gt;Tus datos son precísamente eso: TUYOS. Así que cualquier servicio que uses te los debería dar cuando los pidas.&lt;/p&gt;

&lt;p&gt;Eso hice hace unos meses pero, por descuidado, no guardé las capturas de pantalla del proceso. Y es que, además, pedir mis datos fue la última cosa que hice antes de borrar definitivamente la cuenta que hice por allá en 2008.&lt;/p&gt;

&lt;p&gt;Pero no todo está perdido. En   &lt;a href=&quot;https://es-es.facebook.com/help/212802592074644&quot;&gt;esta página &lt;/a&gt; vienen los pasos a seguir.&lt;/p&gt;

&lt;p&gt;Para que se den una idea de cuánto guardan de nosotros les diré que recibí 26 folders donde en cada uno pueden venir uno o varios JSON.&lt;/p&gt;

&lt;p&gt;Aquí algunos de ellos:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/all_folders.png?raw=true&quot; alt=&quot;foldersim&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Para este análisis sólo usaremos los que vienen en los folders posts y comments:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/jsons.png?raw=true&quot; alt=&quot;jsons&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;preparando-los-datos&quot;&gt;Preparando los datos&lt;/h2&gt;

&lt;p&gt;Una ventaja de los JSON es que no tienen una estructura fija. Pueden contener tantos elementos como queramos. Son súper flexibles. Sin embargo, no son lo ideal para nuestro análisis.&lt;/p&gt;

&lt;p&gt;Dado que haremos análisis de textos sólo nos interesan las cosas que escribí. Para este pequeño análisis podemos descartar muchos de los campos que vienen ahí. Vamos a quedarnos con tres: la hora de la publicación, el título de la publicación y el texto que escribí.&lt;/p&gt;

&lt;p&gt;Empecemos con los más fáciles: los comentarios a otros posts. EL JSON viene de esta manera:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;comments&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1483030841&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;comment&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1483030841&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;comment&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Avisen!! Vivo a la vuelta :p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl coment\u00c3\u00b3 la publicaci\u00c3\u00b3n de Nata TP.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1476976208&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;comment&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1476976208&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;comment&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;\u00c2\u00bfC\u00c3\u00b3mo no lo pens\u00c3\u00a9 antes?&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl coment\u00c3\u00b3 la publicaci\u00c3\u00b3n de SuFa Rojbas.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo primero que vemos es que los caracteres latinos vienen con algún enconding que tenemos que arreglar. Spoiler alert: sufriremos por novatos.&lt;/p&gt;

&lt;p&gt;Si analizamos bien el archivo, podemos ver que el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comment&lt;/code&gt; que queremos está :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;En la llave &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comment&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Dentro del diccionario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;comment&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Dentro de la lista &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Dentro de la lista `comments&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/comment_example.png?raw=true&quot; alt=&quot;comment&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Con este código nos quedamos con los tres campos que queremos:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Creo una lista para quedarme la lista final de campos
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mis_comentarios&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# comments son diccionarios dentro de la lista data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comments&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'comments'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# itero sobre la lista para obtener los datos de cada post
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;    
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;#lista para un row
&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;#print(count)
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'comment'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;        
            &lt;span class=&quot;c1&quot;&gt;#print (element['title'])        
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'timestamp'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'latin1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'comment'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'latin1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;#print(&quot;error&quot;)
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'timestamp'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'latin1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;#print (comentario)
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;mis_comentarios&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comentario&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;#print (&quot;error in : &quot; + str(element))
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./datos/misComentarios.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;quoting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QUOTE_NONNUMERIC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writerow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Timestamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Comment&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writerows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mis_comentarios&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Siendo honestos exageré un poco. Yo sufrí mucho pero ustedes no tienen porqué hacerlo. La solución al encoding está en esta línea &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.encode('latin1').decode('utf8')&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Para mayor explicación pueden ver este &lt;a href=&quot;https://twitter.com/nerudista/status/1252084827404279810&quot;&gt;hilo de Twitter&lt;/a&gt; que hice cuando batallé con esto.&lt;/p&gt;

&lt;p&gt;Ahora vámonos con los posts:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1509378754&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;attachments&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;external_context&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;The Strokes - I Can't Win - Listen on Deezer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Deezer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://www.deezer.com/en/track/15591112&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl escuch\u00c3\u00b3 The Strokes - I Can't Win - Listen on Deezer de The Strokes - Listen on Deezer | Music Streaming en Deezer.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1499345371&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;attachments&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;external_context&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Cuentos Completos I&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Goodreads&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://www.goodreads.com/book/show/1058650.Cuentos_Completos_I&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl made progress with a book on Goodreads.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1476742550&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Que no se diga que los programadores, testers y BA's son solo unos gorditos buena onda.\nBusco alguien que est\u00c3\u00a9 interesado en que lo entrene para un triatl\u00c3\u00b3n. \nNo experience required. For free. \nAnybody?&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl public\u00c3\u00b3 en Globant MX Market &amp;amp;&amp;amp; Social.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1475510192&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Tarde pero seguro.\nFeliz cumplea\u00c3\u00b1os Sara.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Pablo Quetzalc\u00c3\u00b3atl escribi\u00c3\u00b3 en la biograf\u00c3\u00ada de Sara Lozano.&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Aquí la cosa ya se pone más coqueta porque las estructuras cambian. Los primeros dos elementos son publicaciones que dos aplicaciones hicieron en mi nombre (y que nunca les presté atención) y los últimos dos son publicaciones reales.&lt;/p&gt;

&lt;p&gt;Miren la diferencia:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/nerudista/DataViz/blob/master/MyFacebook/imagenes/posts.png?raw=true&quot; alt=&quot;post&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Aunque la estructura cambia hay una lista que se repite. En el caso de las aplicaciones externas queda en blanco y en mis publicaciones hay una llave &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;post&lt;/code&gt;. Con eso ya podemos jugar.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Creo una lista para quedarme la lista final de campos
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list_posts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;error_list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# El archivo es una lista de diccionarios. Voy a iterar en ella
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;list_single_post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;#asignar el title
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'title'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'latin1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;No Title&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;time_stamp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'timestamp'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# asignar el post
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;data_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
            &lt;span class=&quot;c1&quot;&gt;#print (type(data_key))
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'post'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;#print(key)
&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'post'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'latin1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                    &lt;span class=&quot;n&quot;&gt;list_single_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_stamp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;list_single_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;list_single_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                    &lt;span class=&quot;n&quot;&gt;list_posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list_single_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# work on python 3.x
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./datos/misPosts.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newline&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;quoting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QUOTE_NONNUMERIC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writerow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Timestamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Comment&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writerows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list_posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;¡Y listo! Ya tenemos dos archivos CSV con los datos que vamos a ocupar.&lt;/p&gt;

&lt;h2 id=&quot;y-los-bocetos&quot;&gt;¿Y los bocetos?&lt;/h2&gt;
&lt;p&gt;Esta vez rompí mi regla de crear bocetos en papel y es que me enfoqué más en poder hacer los análisis y no tenía una idea de qué me iba a encontrar y por ende no sabía qué y cómo graficar.&lt;/p&gt;

&lt;p&gt;Disculpen la omisión. Les prometo que lo que se viene lo compensa.&lt;/p&gt;

&lt;h2 id=&quot;lets-pause&quot;&gt;Let’s pause&lt;/h2&gt;

&lt;p&gt;Vamos a dejar aquí esta primera parte para que aquí dejemos lo que hicimos en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Python&lt;/code&gt; y en la siguiente nos vamos a mover a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;R&lt;/code&gt; que es donde haremos el text-mining. 
El repo con el código está en &lt;a href=&quot;https://github.com/nerudista/DataViz/tree/master/MyFacebook&quot;&gt;mi Github &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Entren a verlo poque hay código que no puse en el blog y que vale la pena que le echen ojo.&lt;/p&gt;

&lt;p&gt;Si les gustó, ¡comenten! Ya sea aquí o en Twitter. El comment es el alimento del blogger.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;¿Qué te pareció la nota? &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+%F0%9F%8C%AE&quot;&gt;Mandanos un tuit a @tacosdedatos&lt;/a&gt; o &lt;a href=&quot;https://twitter.com/share?text=Obvio+que+estuvo+super+el+blog+%40tacosdedatos+y+%40nerudista+%F0%9F%8C%AE&quot;&gt;a @nerudista&lt;/a&gt; o envianos un correo a &lt;a href=&quot;mailto:sugerencias@tacosdedatos.com?subject=Sugerencia&amp;amp;body=Hola-holaaa&quot;&gt;✉️ sugerencias@tacosdedatos.com&lt;/a&gt;. Y recuerda que puedes subscribirte a nuestro boletín semanal aquí debajo.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Pablo Quetzalcóatl Vázquez</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="Facebook" />
      
        <category term="python" />
      
        <category term="privacidad" />
      
        <category term="text-mining" />
      

      
        <summary type="html">En mi entrada anterior les platiqué acerca de cómo fui a pedir la información que tienen de mí las redes sociales que suelo, o solía, utilizar.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Pronóstico de ventas - ARIMA</title>
      <link href="https://old.tacosdedatos.com/pronostico-de-ventas-arima" rel="alternate" type="text/html" title="Pronóstico de ventas - ARIMA" />
      <published>2020-04-15T09:34:00+00:00</published>
      <updated>2020-04-15T09:34:00+00:00</updated>
      <id>https://old.tacosdedatos.com/pronostico-de-ventas-arima</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/pronostico-de-ventas-arima">&lt;p&gt;El pronóstico ha fascinado a las personas durante muchos años. En este post exploraremos uno de los métodos más confiables para producir pronósticos. Se hará hincapié en los métodos que son replicables y comprobables, y se ha demostrado que funcionan.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Se requieren pronósticos en muchas situaciones: decidir si se construirá otra planta de generación de energía en los próximos cinco años requiere pronósticos de la demanda futura; programar el personal en un centro de llamadas la próxima semana requiere pronósticos de volúmenes de llamadas; almacenar un inventario requiere pronósticos de los requisitos de stock. Se pueden requerir pronósticos con varios años de anticipación (para el caso de inversiones de capital), o solo unos minutos antes (para el enrutamiento de telecomunicaciones). Cualesquiera que sean las circunstancias o los horizontes de tiempo involucrados, el pronóstico es una ayuda importante para una planificación efectiva y eficiente.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Algunas cosas son más fáciles de pronosticar que otras. La hora del amanecer mañana por la mañana se puede pronosticar con precisión. Por otro lado, los números de lotería de mañana no se pueden pronosticar con precisión. 
La previsibilidad de un evento o una cantidad depende de varios factores que incluyen:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Qué tan bien entendemos los factores que contribuyen a ello;&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;Cuántos datos hay disponibles;&lt;/li&gt;
  &lt;li&gt;Si los pronósticos pueden afectar lo que estamos tratando de pronosticar.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;En el siguiente video se expone como realizar un pronóstico de ventas usando los &lt;strong&gt;modelos econométricos ARIMA&lt;/strong&gt; usando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RStudio&lt;/code&gt; . Les recomiendo mucho que lo revisen con detenimiento y que lo repliquen con sus propios datos, el código lo pueden descargar acá -&amp;gt; &lt;a href=&quot;https://github.com/MontielMauricio/ARIMA&quot;&gt;https://github.com/MontielMauricio/ARIMA&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/6pYto7y0KTA&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Quiero agradecer a &lt;strong&gt;tacosdedatos&lt;/strong&gt; por permitirme compartir mi conocimiento con todos ustedes a través de este blog. Procuraré subir contenido de alta calidad para aportar a esta excelente comunidad. Si así lo desean pueden agregarme como contacto en mi cuenta de &lt;a href=&quot;https://www.linkedin.com/in/mauriciomontiel&quot;&gt;LinkedIn&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Con eso me despido. Tómense un tiempo para ver los demás videos que tengo en el canal de &lt;a href=&quot;https://www.youtube.com/channel/UCmzIHZGEwUyb7luzTu6N85g?view_as=subscriber&quot;&gt;YouTube&lt;/a&gt; y cuéntame que piensas en un &lt;a href=&quot;https://twitter.com/MauMontielE&quot;&gt;tuit&lt;/a&gt;.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Mauricio Montiel Espinoza</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="R" />
      
        <category term="tutoriales" />
      
        <category term="charlas" />
      

      
        <summary type="html">El pronóstico ha fascinado a las personas durante muchos años. En este post exploraremos uno de los métodos más confiables para producir pronósticos. Se hará hincapié en los métodos que son replicables y comprobables, y se ha demostrado que funcionan.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Creando animaciones con Python y matplotlib</title>
      <link href="https://old.tacosdedatos.com/animaciones-matplotlib" rel="alternate" type="text/html" title="Creando animaciones con Python y matplotlib" />
      <published>2020-04-05T10:00:00+00:00</published>
      <updated>2020-04-05T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/animaciones-matplotlib</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/animaciones-matplotlib">&lt;h2 id=&quot;creando-animaciones&quot;&gt;Creando animaciones&lt;/h2&gt;
&lt;p&gt;A veces, la forma en la que presentamos los datos podría ayudarnos aún más a contar la historia que representan. A veces esta forma puede tomar forma de una animación, haciendo que la presentación de los datos sea más dinámica y más entretenida.&lt;/p&gt;

&lt;p&gt;En este post te mostraré cómo es que puedes animar tus gráficas hechas con &lt;em&gt;matplotlib&lt;/em&gt; en Python; además usaré &lt;em&gt;seaborn&lt;/em&gt; porque… pues por que es bonito usarlo para graficar datos.&lt;/p&gt;

&lt;p&gt;&lt;small&gt;&lt;a href=&quot;https://colab.research.google.com/drive/1VbLzMGkbuKvdg7-CCTCSS_iODm6Ti5Sx&quot; target=&quot;_blank&quot;&gt;Aquí está&lt;/a&gt; el Colab con el código que aquí muestro.&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;&lt;small&gt;Importamos algunos paquetes:&lt;/small&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# pip install numpy
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# pip install pandas
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# pip install matplotlib
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;seaborn&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# pip install seaborn
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;comenzando-por-el-final&quot;&gt;Comenzando por… ¿el final?&lt;/h3&gt;
&lt;p&gt;Una de las claves para realizar la animación es comenzar por el final, sí, el final es la gráfica final que queremos mostrar; en mi caso, estaré graficando una simple función de distribución (puedes verla acá debajo), pero tu información puede ser cualquier cosa, con suerte, algo más útil.&lt;/p&gt;

&lt;p&gt;Los datos que vamos a graficar:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Código para generar una función de distribución
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10_000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El resultado final de la gráfica:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figsize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lineplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Cumulative Distribution&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/CFTusWs.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;El siguiente paso es definir cuál va a ser el inicio de nuestra animación. En mi caso, yo quiero que la gráfica comience con un solo dato, del lado izquierdo de la gráfica. Y cada cuadro de la animación iré agregando un nuevo punto. Por ejemplo, este será el punto inicial:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lineplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/gFKAzse.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;¡Nada! ¿uh? pues la cosa es que en la gráfica tiene un solo punto y como es una &lt;em&gt;lineplot&lt;/em&gt; que debe tener más de un punto para que haya una línea entre ellos. Vamos a adelantarnos en el tiempo y graficar varios &lt;em&gt;frames&lt;/em&gt; en el tiempo, esta vez en la misma figura usando &lt;em&gt;subplots&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;timesteps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subplots&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timesteps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;figsize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timesteps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lineplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Frame &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/UpQAUg7.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;La idea clave es que en la animación, cada &lt;em&gt;frame&lt;/em&gt; debe ser una gráfica “nueva”, cuando presentamos una gráfica después de otra dará la ilusión de que la gráfica se está moviendo (sí, de la misma manera en la que imágenes estáticas presentadas rápidamente crean un video).&lt;/p&gt;

&lt;p&gt;Como se ve en la gráfica de arriba, en este caso es más que suficiente mover el &lt;em&gt;slice&lt;/em&gt; en incrementos para nuestras variables &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; e &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y &lt;/code&gt;, excepto que para la animación no queremos graficar una a un lado de la otra, sino &lt;strong&gt;en lugar de la otra&lt;/strong&gt;. Para realizar esto, vamos a hacer uso de la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FuncAnimation&lt;/code&gt; dentro del módulo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;matplotlib.animation&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.animation&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FuncAnimation&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para usarla, hay que crear una función cuya responsabilidad es la de crear cada gráfica a cada &lt;em&gt;frame&lt;/em&gt;, generando la animación. Esta función recibe el número del grame que se debe graficar; comenzando desde 0, (aunque adicionalmente nosotros le mandamos otro parámetro llamado &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ax&lt;/code&gt; que es el &lt;em&gt;axes&lt;/em&gt; en donde vamos a graficar):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cla&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lineplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;De la función anterior, solamente la primera línea debería ser “nueva” para nosotros, la usamos para limpiar los &lt;em&gt;axes&lt;/em&gt;, si no realizamos este paso, cuando graficamos datos consecutivamente estaríamos graficando los datos del paso &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n&lt;/code&gt;&lt;/strong&gt; sobre los datos para el paso &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n - 1&lt;/code&gt;&lt;/strong&gt;. La línea &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sns.lineplot(x[:step], y[:step], ax = ax)&lt;/code&gt; es simplemente para graficar la función.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;create_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y finalmente, por fin podemos usar &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FuncAnimation&lt;/code&gt;, pasando como parámetros la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Figure&lt;/code&gt; en la que vamos a dibujar, la función que estamos usando para dibujar, el número de &lt;em&gt;frames&lt;/em&gt; (100 en este caso) y el &lt;em&gt;axes&lt;/em&gt; en el que vamos a dibujar, con el argumento &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fargs&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;animation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FuncAnimation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frames&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fargs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya casi terminamos; solamente tenemos que generar nuestra animación, podemos convertirla en una animación en video, gif (usando el método &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save&lt;/code&gt;) o algo que podemos abrir con html (usando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;to_jshtml&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;IPython.display&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTML&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# .gif necesita la librería imagemagick que puede ser instalada con !apt install imagemagick
# animation.save('poly.gif', writer='imagemagick', fps=20); 
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'animation.mp4'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'ffmpeg'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;HTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_jshtml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;iframe style=&quot;border:none;&quot; src=&quot;https://mystifying-meitner-c75bce.netlify.com/animation.html&quot; width=&quot;100%&quot; height=&quot;380&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;small&gt;Sí, puedes interactuar con la gráfica de arriba.&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;Y… ¡eso es todo! Solo para recordar el concepto principal: &lt;strong&gt;Piensa en tus animaciones como una serie de &lt;em&gt;frames&lt;/em&gt;, y luego piensa en cada &lt;em&gt;frame&lt;/em&gt; como una gráfica independiente&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;bonus&quot;&gt;Bonus&lt;/h3&gt;
&lt;p&gt;Con un poco de trabajo extra se pueden hacer cosas un tanto más complejas, como la animación que muestro a continuación (son distribuciones de probabilidad):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/8ON2Bq0.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;No me voy a detener a hablar tanto del código, pero lo dejo ahí para que juegues con él. Me puedes contactar en los comentarios, o en &lt;a href=&quot;https://twitter.com/io_exception&quot;&gt;@io_exception en Twitter&lt;/a&gt; si tienes dudas sobre él.&lt;/p&gt;

&lt;p&gt;Nuevamente, el principio más importante es pensar en la forma final de nuestra animación, solo que en este caso tenemos cuatro posibles finales, que a su vez son 4 posibles principios…&lt;/p&gt;

&lt;p&gt;Comencemos por crear las distribuciones, también hay que graficarlas para ver si logramos crearlas correctamente:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scipy.stats&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skewnorm&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;itertools&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cycle&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Create some distributions, with 1000 samples each one
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;distributions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uniform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;skewnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rvs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;skewnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rvs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x_axis&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linspace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x_axis&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;functions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;density&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distributions&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot the distributions just to confirm we did the right thing
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distributions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/c8T1Bap.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En este caso, cree las animaciones yo mismo, guardando los valores para cada punto de la gráfica en un arreglo llamado &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;frame_contents&lt;/code&gt; usando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cycle&lt;/code&gt; para iterar sobre las distribuciones.&lt;/p&gt;

&lt;p&gt;Un truco bastante útil para animar la transición entre dos gráficas de manera “suave” es utilizando la siguiente fórmula:&lt;/p&gt;

&lt;p&gt;𝑥𝛼=𝛼∗𝑥1+(1−𝛼)∗𝑥0&lt;/p&gt;

&lt;p&gt;Para ir de 𝑥0 a 𝑥1, con un factor de 𝛼, donde 𝛼 ∈ [0,1]. Esta acción se puede observar en el segundo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for&lt;/code&gt; dentro del ciclo principal:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;frame_contents&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;interpolations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;wait_frames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cycle_distributions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cycle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;functions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cycle_distributions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;functions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cycle_distributions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wait_frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;frame_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linspace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interpolations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;frame_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y, finalmente, usando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FuncAnimation&lt;/code&gt; de nuevo podemos crear la animación, cada vez graficando un valor diferente dentro de nuestro arreglo de valores &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;frame_contents&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figsize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cla&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;barplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x_axis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_ylim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_xticklabels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_yticklabels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
    
&lt;span class=&quot;n&quot;&gt;frames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;anim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FuncAnimation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frames&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fargs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;anim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_jshtml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;iframe style=&quot;border:none;&quot; src=&quot;https://mystifying-meitner-c75bce.netlify.com/multiplots.html&quot; width=&quot;100%&quot; height=&quot;450&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;small&gt;Sí, puedes interactuar con la gráfica de arriba.&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;Y, ¡ya está! ahora espero que puedas tu también hacer animaciones para que tus datos te ayuden a contar historias más interesantes y atractivas. Te recuerdo que me puedes contactar en &lt;a href=&quot;https://twitter.com/io_exception&quot;&gt;@io_exception en Twitter&lt;/a&gt; si tienes dudas sobre lo que aquí te conté o te interesa saber más sobre Python o &lt;em&gt;matplotlib&lt;/em&gt;. Ah, &lt;strong&gt;&lt;a href=&quot;https://colab.research.google.com/drive/1VbLzMGkbuKvdg7-CCTCSS_iODm6Ti5Sx&quot;&gt;aquí está&lt;/a&gt; el Colab con el código que aquí muestro&lt;/strong&gt;.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Antonio Feregrino Bolaños</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="python" />
      
        <category term="matplotlib" />
      

      
        <summary type="html">Creando animaciones A veces, la forma en la que presentamos los datos podría ayudarnos aún más a contar la historia que representan. A veces esta forma puede tomar forma de una animación, haciendo que la presentación de los datos sea más dinámica y más entretenida.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Generando datasets de Kaggle automáticamente</title>
      <link href="https://old.tacosdedatos.com/generacion-automatica-datasets" rel="alternate" type="text/html" title="Generando datasets de Kaggle automáticamente" />
      <published>2020-03-11T10:00:00+00:00</published>
      <updated>2020-03-11T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/generacion-automatica-datasets</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/generacion-automatica-datasets">&lt;p&gt;Sé que Tacos de Datos está enfocado principalmente al resultado visual, pero creo que es importante tratar de resaltar qué es lo que hay detrás de. Quisiera inaugurar esta sección que llamaré &lt;em&gt;“Detrás de la visualización”&lt;/em&gt; para cubrir temas de extracción, procesamiento y almacenamiento de datos; en pocas palabras: ingeniería de datos. &lt;em&gt;Y es que, además de preparar los tacos, también es bueno saber cómo conseguir los ingredientes.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;PD: Mira cuál es el resultado de lo que estoy explicando aquí: &lt;a href=&quot;https://www.kaggle.com/ioexception/medium-daily-digests&quot;&gt;Medium Daily Digests on Kaggle&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;fuente-de-los-datos-y-su-recolección&quot;&gt;Fuente de los datos y su recolección&lt;/h2&gt;

&lt;p&gt;Ya tenía tiempo queriendo hacer un dataset con información extraída de Medium.com. Al principio, pensé en hacer &lt;em&gt;web scraping&lt;/em&gt; masivamente en las publicaciones de Medium; el problema es que no proporcionan un sitio web ni fácil de &lt;em&gt;crawlear&lt;/em&gt; ni fácil de extraer información… luego pensé en ese “Medium Daily Digest”, un &lt;em&gt;newsletter&lt;/em&gt; que recibo todos los días, en él, Medium me envía historias que “me pueden interesar”; Recuerdo que cuando me suscribí, tuve que elegir mis temas preferidos, y desde entonces siempre recibo un correo con artículos sobre ellos.&lt;/p&gt;

&lt;p&gt;Con eso en mente, me propuse crear 20 cuentas de correo electrónico diferentes (en realidad son alias para una sola cuenta) y luego usar cada una de ellas para suscribirse al mentado “Medium Daily Digest”, cada cuenta asociada con cinco diferentes (pero un tanto relacionados) temas. Y desde entonces he estado recibiendo 20 correos electrónicos, todos los días con títulos, subtítulos y URLs de posts.&lt;/p&gt;

&lt;p&gt;De vez en cuando inicio sesión en esas cuentas, abro algunos correos electrónicos para evitar que dichas cuentas se eliminen de la sindicación de Medium &lt;a href=&quot;(https://www.theverge.com/2019/7/3/20681508/tracking-pixel-email-spying-superhuman-web-beacon-open-tracking-read-receipts-location)&quot;&gt;porque esta gente sabe cuándo no lees sus correos electrónicos&lt;/a&gt;. También es de esperarse que los temas que ofrecen puedan cambiar con el tiempo, y en algún momento los intereses asociados de algunas cuentas pueden cambiar, en ese caso tendré que iniciar sesión en Medium y modificar las cuentas  manualmente, pero en su mayor parte la recopilación de datos se ejecuta de manera automática.&lt;/p&gt;

&lt;p&gt;Por cierto, no estoy seguro de si el conjunto de datos será útil para alguien, pero espero que la forma en que lo construí con Python sea útil para cualquiera con datos más importantes.&lt;/p&gt;

&lt;h2 id=&quot;leyendo-los-correos-del-servidor&quot;&gt;Leyendo los correos del servidor&lt;/h2&gt;

&lt;p&gt;Como lo mencioné anteriormente, los correos electrónicos llegan a mi cuenta, y no es divertido tener que descargar 20 correos electrónicos manualmente todos los días, por lo tanto, por primera vez en este artículo: Python al rescate.&lt;/p&gt;

&lt;p&gt;Para acceder a los correos electrónicos en mi servidor, uso el protocolo IMAP; Esto me permite leerlos sin tenerlos que borrar del servidor, en caso de que quiera acceder a ellos en el futuro. Para esto, a pesar de que Python ofrece el módulo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;imaplib&lt;/code&gt; para interactuar con dichos servidores, decidí usar el paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;imapclient&lt;/code&gt; que, en mi opinión, hace que el código sea un poco más limpio y comprensible. Leer todos los correos electrónicos de una cuenta es tan fácil como muestra este fragmento de código:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;email&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;imapclient&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMAPClient&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMAPClient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imap_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use_uid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;account&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NOT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;DELETED&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message_id&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  
        &lt;span class=&quot;n&quot;&gt;fetched&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;RFC822&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
        &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fetched&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  
        &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_from_bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;RFC822&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email_message&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como puede ver, usamos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IMAPClient&lt;/code&gt; como &lt;em&gt;context manager&lt;/em&gt;, luego iniciamos sesión con nuestras credenciales de correo electrónico (sí, es una pena que tengamos que usar nuestra contraseña directamente); después de iniciar sesión, buscamos todos los correos electrónicos que no hemos eliminado (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOT&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DELETED&lt;/code&gt;), esto devolverá una lista de cadenas que contienen los identificadores para cada mensaje; podemos iterar sobre estos identificadores y usar el cliente ejecutándo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fetch&lt;/code&gt; para obtener cada mensaje, especificando que queremos la propiedad &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RFC822&lt;/code&gt; del correo electrónico.&lt;/p&gt;

&lt;p&gt;El valor de retorno de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fetch&lt;/code&gt; será un diccionario de la forma &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{ message_id: { b&quot;RFC822&quot;: (bytes) } }&lt;/code&gt;, podemos transformar fácilmente estos bytes en una representación de correo electrónico más pytónica mediante el uso de la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;message_from_bytes&lt;/code&gt;. Puedes ver mi implementación real en la función &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/medium_collector/download/reader.py#L6&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read_from_mail&lt;/code&gt;&lt;/a&gt; en mi repositorio.&lt;/p&gt;

&lt;h2 id=&quot;extrayendo-datos-del-correo-electrónico&quot;&gt;Extrayendo datos del correo electrónico&lt;/h2&gt;

&lt;p&gt;Teniendo un correo electrónico con el que sea fácil trabajar en Python, me referiré una publicación anterior sobre &lt;a href=&quot;https://dev.to/fferegrino/reading-emails-with-python-4o72&quot;&gt;cómo leer trabajar con correos electrónicos con Python&lt;/a&gt;. Una vez que podemos &lt;em&gt;“leer”&lt;/em&gt; el mensaje, podemos acceder a propiedades como &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;To&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Subject&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Date&lt;/code&gt;, así como acceder al contenido real del correo electrónico. Para referencia, mira este fragmento de código donde &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;message&lt;/code&gt; es lo que obtenemos al llamar a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;message_from_bytes&lt;/code&gt; en el fragmento de código anterior:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datetime&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;quopri&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;parts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;part&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_content_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;part&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;part&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()}&lt;/span&gt;  
&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quopri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decodestring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   
&lt;span class=&quot;n&quot;&gt;mail_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Message-ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
    &lt;span class=&quot;s&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;To&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
    &lt;span class=&quot;s&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;From&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
    &lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strptime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;  
        &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;%a, %d %b %Y %H:%M:%S +0000 (%Z)&quot;&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El resultado final de este fragmento es producir un diccionario (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mail_info&lt;/code&gt;) que contenga información básica del correo electrónico y la versión html del correo electrónico (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;html&lt;/code&gt;). Puedes ver mi implementación real en la función &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/medium_collector/download/parser.py#L34&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse_mail&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Para trabajar con el HTML del correo electrónico utilicé BeautifulSoup, no entraré en detalles, pero como siempre en &lt;em&gt;web scraping&lt;/em&gt;, fue un proceso de prueba y error obtener la estructura adecuada para extraer información del contenido del correo. Puedes ver la función de extracción completa &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/master/medium_collector/download/parser.py#L50&quot;&gt;aquí&lt;/a&gt;, todo se reduce a una lista de diccionarios (uno para cada publicación en el correo electrónico) con la siguiente información: &lt;em&gt;section_title&lt;/em&gt;, &lt;em&gt;post_title&lt;/em&gt;, &lt;em&gt;post_subtitle&lt;/em&gt;, &lt;em&gt;post_url&lt;/em&gt;, &lt;em&gt;author_name&lt;/em&gt;, &lt;em&gt;author_handle&lt;/em&gt;, &lt;em&gt;site_name&lt;/em&gt;, &lt;em&gt;site_slug&lt;/em&gt;, &lt;em&gt;members_only&lt;/em&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/jmkVSgz.png&quot; alt=&quot;Extraction description&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;small&gt;(en restrospectiva, pude haber extraído el tiempo de lectura… tal vez para la siguiente versión)&lt;/small&gt;.&lt;/p&gt;

&lt;h2 id=&quot;guardando-la-información&quot;&gt;Guardando la información&lt;/h2&gt;

&lt;p&gt;Después de descargar la información, esta es almacenada en dos archivos csv:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;em&gt;mails.csv&lt;/em&gt;, que es un archivo de todos los correos electrónicos recibidos, este contiene:
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;id&lt;/strong&gt;: un identificador único del correo electrónico&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;date&lt;/strong&gt;: la fecha y hora en que se recibió el correo electrónico&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;to&lt;/strong&gt;: un hash de la cuenta de correo electrónico a la que se envió este correo electrónico&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;from&lt;/strong&gt;: la cuenta de correo electrónico utilizada para enviar el correo electrónico (siempre es la misma)&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;subject&lt;/strong&gt;:  el asunto del correo electrónico&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;articles_mails.csv&lt;/em&gt;, contiene la información extraída de cada correo electrónico, asociada al correo electrónico del que provienen:
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;mail_id&lt;/strong&gt;: un identificador único del correo electrónico del que proviene este artículo, corresponde a &lt;strong&gt;id&lt;/strong&gt; en el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mails.csv&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;post_url&lt;/strong&gt;: la url del artículo&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;post_title&lt;/strong&gt;: el título del artículo&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;post_subtitle&lt;/strong&gt;: el subtítulo del artículo&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;section_title&lt;/strong&gt;: el título de la sección en la que encontró la publicación&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;members_only&lt;/strong&gt;: una bandera que especifica si el artículo es para miembros de Medium&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;author_name&lt;/strong&gt;: nombre del autor del artículo&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;author_handle&lt;/strong&gt;: identificador del autor del artículo&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;site_name&lt;/strong&gt;: si el artículo se publicó en un sitio, este contiene el nombre de dicho sitio&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;site_slug&lt;/strong&gt;: si el artículo se publicó en un sitio, este contiene el identificador de dicho sitio&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para escribir toda esta información en los archivos, utilicé el módulo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;csv&lt;/code&gt; siempre confiable, en particular, la clase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DictWriter&lt;/code&gt; que permite el uso de diccionarios cuando se llama al método &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;writerow&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;csv&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;EMAILS_FILE_HEADERS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;emails&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
           &lt;span class=&quot;s&quot;&gt;&quot;to&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cosme@fulanito.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;from&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;noreply@medium.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	   &lt;span class=&quot;s&quot;&gt;&quot;subject&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Don't miss this!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;w&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DictWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fieldnames&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EMAILS_FILE_HEADERS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writeheader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emails&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writerow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En realidad, lo que hago es un poco más complicado, ya que quiero agregar filas al conjunto de datos de forma incremental; por lo tanto, el archivo debe abrirse con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;a&quot;&lt;/code&gt; como modo de archivo, no con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;w&quot;&lt;/code&gt; y es necesario tener especial cuidado para no escribir los encabezados en el medio del archivo tampoco. Puedes verificar toda la implementación de las funciones de escritura en &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/medium_collector/download/writer.py&quot;&gt;este fragmento de código&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;cargando-la-información-a-s3&quot;&gt;Cargando la información a S3&lt;/h2&gt;

&lt;p&gt;Pero, ¿de qué sirven estos datos si van a vivir guardados en mi computadora? Para superar este problema, pensé en cargar los datos en un &lt;em&gt;bucket&lt;/em&gt; de S3, para que estén disponibles para descargarlo en cualquier lugar que lo necesite. Para acceder a cualquier recurso de AWS, mi herramienta favorita es el paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;boto3&lt;/code&gt; que es una verdadera navaja suiza para AWS.&lt;/p&gt;

&lt;p&gt;Supongamos que desea cargar el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;medium_data/mails.csv&lt;/code&gt; en el bucket &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;medium_bucket&quot;&lt;/code&gt; y que se llame &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;mails.csv&quot;&lt;/code&gt;, el siguiente código será suficiente:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;my_super_cool_bucket&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;  
	&lt;span class=&quot;s&quot;&gt;&quot;s3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;aws_access_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ACCESS_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SECRET_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;  
	&lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;eu-west-2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;upload_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;medium_data/mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pero no quiero seguir cargando el mismo archivo una y otra vez si no hay necesidad de hacerlo. Para lograr esto, es posible verificar si el archivo existe en nuestro &lt;em&gt;bucket&lt;/em&gt; y resumir su contenido con un hash &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;md5&lt;/code&gt; generado por el propio AWS. Entonces es solo una cuestión de comparar dicho hash con el hash del archivo local y si son iguales, no subo el archivo:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;hashlib&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_file_hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;   
	&lt;span class=&quot;n&quot;&gt;hash_md5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hashlib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  
	&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;rb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;readable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunk&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;readable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;hash_md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chunk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hash_md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hexdigest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;md5_signature&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_file_hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;medium_data/mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ETag&quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;literal_eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ETag&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md5_signature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;# The file already exists, do nothing
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;upload_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;medium_data/mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;mails.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El método al que se debe llamar para obtener información para un objeto es &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;head_object&lt;/code&gt;. Por cierto, toda la lógica y la implementación están en &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/medium_collector/s3.py&quot;&gt;este archivo&lt;/a&gt; si quieres verlo.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Algunas consideraciones&lt;/em&gt;: para este ejemplo, consideré que el &lt;em&gt;depósito&lt;/em&gt; ya existe, sin embargo, si no existe, también es posible usar &lt;em&gt;boto&lt;/em&gt; para crearlo. Como dije, &lt;em&gt;boto&lt;/em&gt; es un monstruo de biblioteca que debes considerar si trabajas con AWS. También estoy usando las credenciales directamente en la llamada a la creación del cliente para &lt;em&gt;s3&lt;/em&gt;, pero hay varias formas de manejar la autenticación con &lt;em&gt;boto&lt;/em&gt;, consulta la documentación para obtener más información.&lt;/p&gt;

&lt;h2 id=&quot;cargando-los-datos-a-kaggle&quot;&gt;Cargando los datos a Kaggle&lt;/h2&gt;

&lt;p&gt;Hasta ahora, todo va muy bien, pero el conjunto de datos todavía está disponible para mí, y aunque podría hacer público mi &lt;em&gt;bucket&lt;/em&gt; de s3, hay algunos problemas con esto:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;No quiero que mi factura de S3 suba por el cielo si alguien con intenciones maliciosas se apodera de mi s3&lt;/li&gt;
  &lt;li&gt;Quiero que la gente use los datos, y con una url de s3 no es muy fácil de descubrir o promocionar el &lt;em&gt;dataset&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pero hay un buen lugar para almacenar conjuntos de datos, es gratuito y, al mismo tiempo, indexa los datos y los hace visibles al público en generar. Estoy hablando de Kaggle.&lt;/p&gt;

&lt;p&gt;Kaggle hace que sea relativamente fácil interactuar con algunos de los recursos que ofrece el sitio web a través de su paquete &lt;a href=&quot;https://github.com/Kaggle/kaggle-api&quot;&gt;kaggle-api&lt;/a&gt;. En general, promueven la interacción a través de la línea de comando, sin embargo, también es posible utilizar la API programática que alimenta el &lt;em&gt;cli&lt;/em&gt;. Para cargar una nueva versión de mi conjunto de datos tuve que hacer algo como esto:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;kaggle&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;upload_to_kaggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset_create_version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quiet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	
&lt;span class=&quot;n&quot;&gt;upload_to_kaggle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;medium_data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;A new version of this dataset&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y eso es todo. Realmente, es así de fácil. Pero no tan rápido, es decir, si queremos actualizar un conjunto de datos, si estamos creando uno desde cero, primero debemos realizar tres cosas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Crear una carpeta (por ejemplo, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;medium_data&quot;&lt;/code&gt;) donde solo existen los archivos correspondientes a nuestro conjunto de datos&lt;/li&gt;
  &lt;li&gt;Tener un archivo llamado &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dataset-metadata.json&lt;/code&gt; en esa carpeta con los metadatos para su conjunto de datos, el aspecto del archivo debe parecerse al siguiente (pero puedes revisar el de mi app &lt;a href=&quot;https://github.com/fferegrino/medium-collector/blob/v0.0.0/data/dataset-metadata.json&quot;&gt;para un ejemplo más concreto&lt;/a&gt;):&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;{
  &quot;title&quot;: &quot;My Awesome Dataset&quot;, 
  &quot;id&quot;: &quot;cosme_fulanito/my-awesome-dataset&quot;, 
  &quot;licenses&quot;: [{&quot;name&quot;: &quot;CC0-1.0&quot;}]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;Ejecutar &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kaggle datasets create -p medium_data&lt;/code&gt; en la consola, o usar el método &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dataset_create_new&lt;/code&gt; programáticamente.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Realicé esas tareas manualmente, ya que no es como si anduviera creando &lt;em&gt;datasets&lt;/em&gt; a cada rato, sino que simplemente los estoy tratando de actualizar, tu caso de uso puede ser diferente.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Algunas consideraciones&lt;/em&gt;: al igual que AWS, Kaggle también ofrece algunas formas de autenticación con su servicio, utilicé el que más promocionan: un archivo kaggle.json en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.kaggle&lt;/code&gt;, pero puede usar algo diferente.&lt;/p&gt;

&lt;h2 id=&quot;pruebas&quot;&gt;Pruebas&lt;/h2&gt;

&lt;p&gt;Al igual que con cualquier pieza de software que se pondrá en producción y que se ejecutará sin supervisión (sin mencionar que mi factura de s3 depende de que esto funcione correctamente), es bueno tener algunas pruebas solo para asegurarse de que haga lo que programamos. Sin embargo, inicialmente tenía la intención de escribir sobre las pruebas en esta publicación, pero este post ya es suficientemente largo, por lo que publicaré cómo probé la aplicación en una publicación futura, así que asegúrate de seguirme si quieres aprender sobre pruebas, &lt;em&gt;patching&lt;/em&gt; y &lt;em&gt;mocks&lt;/em&gt; (incluyéndo pruebas con servicios de AWS).&lt;/p&gt;

&lt;h3 id=&quot;preguntas-comentarios&quot;&gt;¿Preguntas? ¿comentarios?&lt;/h3&gt;

&lt;p&gt;No olvides que me puedes dejar un comentario aquí o enviarme un tuit en &lt;a href=&quot;https://twitter.com/io_exception&quot;&gt;@io_exception&lt;/a&gt;, con gusto te ayudo si las cosas no están claras o necesitas más explicación sobre el código. Recuerda que la aplicación completa está &lt;a href=&quot;https://github.com/fferegrino/medium-collector/tree/v0.0.0&quot;&gt;disponible en GitHub&lt;/a&gt; para que puedas jugar con el código.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Antonio Feregrino Bolaños</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="python" />
      
        <category term="kaggle" />
      

      
        <summary type="html">Sé que Tacos de Datos está enfocado principalmente al resultado visual, pero creo que es importante tratar de resaltar qué es lo que hay detrás de. Quisiera inaugurar esta sección que llamaré “Detrás de la visualización” para cubrir temas de extracción, procesamiento y almacenamiento de datos; en pocas palabras: ingeniería de datos. Y es que, además de preparar los tacos, también es bueno saber cómo conseguir los ingredientes.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Las Páginas Perdidas Parte 1</title>
      <link href="https://old.tacosdedatos.com/paginas-perdidas-parte-1" rel="alternate" type="text/html" title="Las Páginas Perdidas Parte 1" />
      <published>2020-02-26T10:00:00+00:00</published>
      <updated>2020-02-26T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/paginas-perdidas-parte-1</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/paginas-perdidas-parte-1">&lt;h1&gt;Las Páginas Perdidas Parte 1: Pruebas Estadísticas de Bondad&lt;/h1&gt;

&lt;p&gt;Cuando observamos dos sets de datos, es muy tentador asumir que forman parte de diferentes grupos independientes i.e. no tienen relaciones entre ellos. Esta simplificación nos permite evaluar las propiedades de cada grupo de manera aislada, pues similar a la probabilidad, los eventos independientes son más fáciles de calcular. ¿Habrá veces que esto perjudique más de lo que nos ayuda?&lt;/p&gt;

&lt;p&gt;La respuesta es sí pero no. Todo depende de la complejidad del fenómeno que estamos observando. Por ejemplo, es más sencillo analizar los factores involucrados en un juego de gato que los factores que entran en juego en el tráfico de Monterrey. Como científicos de datos, cada supuesto necesita evidencia y pruebas que lo respalden. En este artículo pondremos nuestros supuestos a prueba mediante la prueba de &lt;b&gt;bondad de ajuste&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;assets/blogposts/014_imagen_1.jpg&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Imagina que encontraste tres páginas. No sabemos de qué libro vienen, o si vienen de libros diferentes. En realidad, dos vienen del mismo libro, de biología y el tercero de un libro de cocina. Sin embargo, &lt;b&gt;no sabemos eso todavía&lt;/b&gt;. Vamos a buscar probarlo &lt;b&gt;ahora&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;Nuestro supuesto de las páginas de los libros es una hipótesis, la cual podemos aceptar a rechazar. ¿Qué información podríamos utilizar para probar nuestra hipótesis?&lt;/p&gt;

&lt;p&gt;¿Pero qué es eso? ¿Acaso un mago?
&lt;img src=&quot;assets/blogposts/014_imagen_2.jpg&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¡Woosh! ¡Woosh! ¡Ahora tienes un tip!&lt;/p&gt;

&lt;p&gt;El adorable mago nos da dos sospechosas pero convenientes pistas:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Número de caracteres en cada palabra&lt;/li&gt;
  &lt;li&gt;Palabras únicas
En esta primera parte del &lt;i&gt;misterio&lt;/i&gt;, analizaremos la primera pista.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;¿Pero qué es una prueba de &lt;b&gt;bondad de ajuste&lt;/b&gt;? Esta prueba mide cuánto una función o muestra coincide con nuestras expectativas de cómo se debería de ver, como otra función o muestra. Probaremos la bondad de ajuste con la prueba Kolmogorov-Smirnov (KS para abreviar).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;¿Qué es la estadística Kolmogorov-Smirnov?&lt;/b&gt;
La estadística KS mide la distance entre dos funciones cumulativas de densidad (FCD). Una FCD representa la probabilidad de obtener un valor de nuestra variable en particular si fueramos a elegir un valor de manera aleatoria. Lo que hace a la FCD especial es que cada cada valor de la variable es la suma de sus valores anteriores. Esta característica cumulativa permite FCD ser menos sensible a ruido en los datos. ¿Qué significa esto?&lt;/p&gt;

&lt;p&gt;Echemos un vistazo a dos Funciones de Densidad de Probabilidad (FDP):
&lt;img src=&quot;assets/blogposts/014_imagen_3.png&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Las diferencias introducidas en las FDP de la Muestra 1 y Muestra 2 son:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;En la &lt;b&gt;FDP de la muestra 2&lt;/b&gt;, faltan datos (representados por un 0) en algunos valores del rango de la variable “Número de caracteres en palabra”.&lt;/li&gt;
  &lt;li&gt;Los valores no cero en la FDP de la muestra 1 comienzan con el valor de la variable zero, mientras que este cambio comienza tarde para la &lt;b&gt;FDP de la muestra 2&lt;/b&gt;, comenzando con el valor de la variable dos.&lt;/li&gt;
  &lt;li&gt;La “campana” de probabilidad de la muestra 1 termina en el valor 10, mientras que la muestra 2 parece continuar.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si comparamos &lt;b&gt;punto por punto&lt;/b&gt; la distancia entre cada punto en las dos FDP mostradas obtenemos una distancia bastante larga, especialmente para el valor de la cantidad de palabras con longitud de 10 caracteres. Con esta medida concluiriamos que las dos muestras no tiene una distribución de probabilidad similar. Sin embargo, en aplicaciones prácticas reales, nuestros datos pueden tener sesgo a través de:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Información faltante para algunos valores de la variable, como los ceros en la &lt;b&gt;FDP de la muestra 2&lt;/b&gt;&lt;/li&gt;
  &lt;li&gt;Funciones de probabilidad desplazadas, o en otras palabras distribuciones con forma similar pero diferente centro, como podría interpretarse con las dos muestras.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si utilizamos los datos de la FDP como están sin hacerles algún preprocesamiento, hacemos nuestras conclusiones sensibles al ruido y al sesgo, lo cual permitiría una gran variabilidad en nuestras mediciones. Hacer esto nos llevaría a obtener un resultado diferente cada vez que tomamos nuevas muestras. Necesitamos una estrategia que sea capaz de ir más allá de esto. Necesitamos la Función Cumulativa de Densidad (FCD):
&lt;img src=&quot;assets/blogposts/014_imagen_4.png&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;La diferencia relativa entre las FCDs parece ser significativamente más pequeña que las de FDPs de las que originan. Si comparamos el Error Cuadrático Medio (ECM) entre los FDP normalizados en escala (el valor máximo es 1, en vez de menor a 1 para que tenga la misma escala que los FCDs) y los FCDs enconrramos que el ECM de los FDPs son 0.2, cinco veces mayor al valor de ECM de los FCDs con un valor de 0.04 (&lt;a href=&quot;https://github.com/LewisErick/kolmogorov-smirnov/blob/master/Explaining%20CDFs.ipynb&quot;&gt;notebook&lt;a&gt;&lt;/a&gt;). &lt;b&gt;Excelente, ahora obtengamos las FCDs de las páginas perdidas:&lt;/b&gt;
&lt;img src=&quot;assets/blogposts/014_imagen_5.png&quot; /&gt;&lt;br /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;i&gt;Bello, bello.&lt;/i&gt; Pero, ¿qué fue lo que hicimos?&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Convertir las palabras de las páginas en números que representan su cantidad de caracteres ✅&lt;/li&gt;
  &lt;li&gt;Registrar cuántas veces cierta longitud de palabra aparece en nuestras tres muestras ✅&lt;/li&gt;
  &lt;li&gt;Dividir cada frecuencia obtenida del paso 2 por la cantidad de palabras totales. Esto nos dará la DFP para cada una de las muestras. ✅&lt;/li&gt;
  &lt;li&gt;Para cada valor de longitud, sumar la probabilidad de los valores menores al actual. Esto nos dará la FCD empírica, o la Función Empírica de Densidad (FED). ✅&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si nos quedamos con el ECM para determinar si las páginas provienen del mismo libro, concluimos que eso es verdad. ¿Pero será esto verdad?
¡Aquí viene el mago con otra pista!
&lt;img src=&quot;assets/blogposts/014_imagen_6.jpg&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;No.&lt;/b&gt; 🐱&lt;/p&gt;

&lt;p&gt;Por lo tanto, necesitamos encontrar una comparación más granular. La clave está en no relajar &lt;b&gt;tanto&lt;/b&gt; nuestra comparación, aún habiendo transformado nuestras DFPs en FEDs. Si bien esta transformación nos ayudó a ser más resilientes, &lt;i&gt;sería genial si pudiéramos utilizar algo diferente a ECM para nuestra comparación que aproveche las propiedades de la FED.&lt;/i&gt; Afortunadamente, la prueba KS nos tiene cubiertos! Disponible en numerosas librerías de Python como Scipy, KS calcula dos valores, D y p, al comparar dos muestras:
&lt;img src=&quot;assets/blogposts/014_imagen_7.png&quot; /&gt;&lt;br /&gt;
En otras palabras, la diferencia más grande entre los puntos de las funciones F y G.&lt;/p&gt;

&lt;p&gt;El valor de D se utiliza para determinar el valor de p, resultado el cual es más complicado de obtener (no en el alcance de este artículo). Afortunadamente para nosotros, el valor de p ya nos lo dan nuestras &lt;i&gt;bellas librerías&lt;/i&gt;. Aquí están los resultados de aplicar KS a nuestros tres fragmentos (&lt;a href=&quot;https://github.com/LewisErick/kolmogorov-smirnov/blob/master/Kolmogorov-Smirnoff%20Test.ipynb&quot;&gt;notebook&lt;/a&gt;):
&lt;img src=&quot;assets/blogposts/014_imagen_8.png&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;El valor de p puede interpretarse como una probabilidad del 0 al 1. &lt;i&gt;¿Pero probabilidad de qué exactamente?&lt;/i&gt; ¿De que los fragmentos vienen de libros diferentes? &lt;b&gt;No necesariamente&lt;/b&gt;. La única conclusión que nos da analizar la longitud de las palabras en los fragmentos es que es muy probable que el lenguaje entre los fragmentos sean muy similares entre las tres muestras.&lt;/p&gt;

&lt;p&gt;Esto no es suficiente para determinar que provienen del mismo libro. Esto es un ejemplo clásico de una característica que no nos permite capturar completamente la variabilidad del dominio del problema de dónde viene.&lt;/p&gt;

&lt;p&gt;&lt;i&gt;¿Qué haremos ahora?&lt;/i&gt; La identidad de estas páginas siempre estará cubierta de duda e incertidumbre?&lt;/p&gt;

&lt;p&gt;¡Averígualo en la siguiente edición!&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Luis Erick Zul Rabasa</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="python" />
      

      
        <summary type="html">Las Páginas Perdidas Parte 1: Pruebas Estadísticas de Bondad</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Visualizando temblores con ridgeline plots</title>
      <link href="https://old.tacosdedatos.com/visualizando-temblores-joyplots" rel="alternate" type="text/html" title="Visualizando temblores con ridgeline plots" />
      <published>2020-02-18T10:00:00+00:00</published>
      <updated>2020-02-18T10:00:00+00:00</updated>
      <id>https://old.tacosdedatos.com/visualizando-temblores-joyplots</id>
      <content type="html" xml:base="https://old.tacosdedatos.com/visualizando-temblores-joyplots">&lt;p&gt;Seguramente has visto todas esas gráficas parecieran sacadas de portadas de álbums… pues bien, en este post te voy a enseñar cómo crearla usando matplotlib, python y los datos del sistema sismológico nacional mexicano.&lt;/p&gt;

&lt;p&gt;Lo primero que vamos a hacer es descargar la información de sobre los temblores de la &lt;a href=&quot;http://www2.ssn.unam.mx:8080/catalogo/&quot;&gt;página del Sistema Sismológico Nacional&lt;/a&gt;, en este caso yo elegí los datos del 1 de enero de 2017 al 1 de enero de 2018, pero tu puedes elegir otros. Después vamos a descargar un archivo con las siluetas de los estados de México, por ejemplo el &lt;a href=&quot;https://tapiquen-sig.jimdofree.com/descargas-gratuitas/m%C3%A9xico/&quot;&gt;sitio de Carlos Efraín Porto Tapiquén&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Una vez hecho esto, vamos a instalar unos cuantos paquetes que nos van a ayudar con la visualización:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;matplotlib&lt;/li&gt;
  &lt;li&gt;numpy&lt;/li&gt;
  &lt;li&gt;pandas&lt;/li&gt;
  &lt;li&gt;geopandas&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;geopandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gpd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Leemos los datos de los temblores, tenemos que saltarnos las primeras cuatro filas porque el Sismológico Nacional decidió que tener un archivo CSV normal no valía la pena.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;earthquakes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SSNMX_catalogo_20170101_20180101.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skiprows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;earthquakes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Fecha&lt;/th&gt;
      &lt;th&gt;Hora&lt;/th&gt;
      &lt;th&gt;Magnitud&lt;/th&gt;
      &lt;th&gt;Latitud&lt;/th&gt;
      &lt;th&gt;Longitud&lt;/th&gt;
      &lt;th&gt;Profundidad&lt;/th&gt;
      &lt;th&gt;Referencia de localizacion&lt;/th&gt;
      &lt;th&gt;Fecha UTC&lt;/th&gt;
      &lt;th&gt;Hora UTC&lt;/th&gt;
      &lt;th&gt;Estatus&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;2017-01-01&lt;/td&gt;
      &lt;td&gt;00:15:59&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
      &lt;td&gt;15.2218&lt;/td&gt;
      &lt;td&gt;-93.1245&lt;/td&gt;
      &lt;td&gt;81.5&lt;/td&gt;
      &lt;td&gt;35 km al SUROESTE de MAPASTEPEC, CHIS&lt;/td&gt;
      &lt;td&gt;2017-01-01&lt;/td&gt;
      &lt;td&gt;06:15:59&lt;/td&gt;
      &lt;td&gt;revisado&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;2017-01-01&lt;/td&gt;
      &lt;td&gt;00:16:06&lt;/td&gt;
      &lt;td&gt;3.2&lt;/td&gt;
      &lt;td&gt;16.9610&lt;/td&gt;
      &lt;td&gt;-99.5348&lt;/td&gt;
      &lt;td&gt;36.7&lt;/td&gt;
      &lt;td&gt;24 km al NOROESTE de SAN MARCOS, GRO&lt;/td&gt;
      &lt;td&gt;2017-01-01&lt;/td&gt;
      &lt;td&gt;06:16:06&lt;/td&gt;
      &lt;td&gt;revisado&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Leemos también los datos del archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.shp&lt;/code&gt;, que son los datos que podemos usar para dibujar el mapa de México:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;map_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gpd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;México_Estados.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;map_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CODIGO&lt;/th&gt;
      &lt;th&gt;ESTADO&lt;/th&gt;
      &lt;th&gt;geometry&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;MX02&lt;/td&gt;
      &lt;td&gt;Baja California&lt;/td&gt;
      &lt;td&gt;MULTIPOLYGON (((-113.13972 29.01778, -113.51195 29.30305, -113.60028 29.43916, -113.57390 29.50583, -113.58862 29.58361, -113.40529 29.482 (...)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;MX03&lt;/td&gt;
      &lt;td&gt;Baja California Sur&lt;/td&gt;
      &lt;td&gt;MULTIPOLYGON (((-111.20612 25.80278, -111.23029 25.83416, -111.19139 26.03889,  (...)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;histograma-2d&quot;&gt;Histograma 2D&lt;/h2&gt;

&lt;p&gt;La columna vertebral de nuestra visualización es un histograma en dos dimensiones, muy parecido al que realicé hace unos días con mis datos de Spotify. En este caso vamos a hacer uso de NumPy para generar dicho histograma, para nosotros el eje de las &lt;em&gt;x&lt;/em&gt; será la &lt;em&gt;longitud&lt;/em&gt; y el de las &lt;em&gt;y&lt;/em&gt; es la &lt;em&gt;latitud&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bottom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;105.68&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;92.04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;20.14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;13.79&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;coordinates_range&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bottom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xedges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yedges&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;histogram2d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;earthquakes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Longitud&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;earthquakes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Latitud&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coordinates_range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;n&quot;&gt;bins&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Los parámetros que le pasamos a la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;histogram2d&lt;/code&gt; son:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt;: las coordenadas en el eje X a tomar en cuenta&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt;: las coordenadas en el eje Y a tomar en cuenta&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;range&lt;/code&gt;: los límites que debe cubrir nuestro histograma, en este caso, como estamos tratando con las coordenadas del sur de México, -105.68 a la izquierda, -92.04 a la derecha, 20.14 arriba, 13.79 abajo.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bins&lt;/code&gt;: el número de &lt;em&gt;“cubetas”&lt;/em&gt; a crear, en nuestro caso, se crearán 600 cubetas horizontalmente y 100 verticales&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;El resultado del método es una tripleta de valores:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;values&lt;/code&gt;: un arreglo bidimensional con los valores de la cubeta, con nuestros valores anteriores las dimensiones de la cubeta son (600, 100)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xedges&lt;/code&gt;: los límites de las cubetas en el eje de las X, un arreglo de 601 entradas&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yedges&lt;/code&gt;: los límites de las cubetas en el eje de las y, un arreglo de 101 entradas&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si te estás preguntando por qué tanto &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xedges&lt;/code&gt; como &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yedges&lt;/code&gt; tienen tan peculiar número de entradas es por que los valores de la cubeta incluyen ambos bordes (derecha-izquierda, arriba-abajo), en el caso de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xedges&lt;/code&gt; tenemos algo como esto:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Gk1iWLf.png&quot; alt=&quot;visualizando xedges&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mientras que tener acceso a los bordes es útil para la mayoría de los casos, para nuestro caso no lo es tanto, lo que vamos a hacer es promediar los bordes de las cubetas para obtener un par único para cada una de ellas, dejándonos un arreglo de 600 entradas para el eje &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; y 100 para &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/NVF9ixW.png&quot; alt=&quot;visualizando xavg&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;xavg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xedges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xedges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;yavg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yedges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yedges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya que casi tenemos todo, toca hacer un pequeño truco para escalar los valores, y es que si usamos los valores &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;values&lt;/code&gt; como están, nuestra gráfica terminaría saturada:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;scale_values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;scaled&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale_values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ahora sí, a graficar:&lt;/p&gt;

&lt;p&gt;Creamos una nueva figura, de dimensiones considerables:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figsize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Graficamos el las siluetas de los estados mexicanos usando el dataframe obtenido de leer los datos con &lt;em&gt;geopandas&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;map_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'#eeeeee'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;edgecolor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'#B3B3B3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El siguiente paso es graficar cada una de las líneas horizontales que representan los valores percibidos (contenidos dentro de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scaled&lt;/code&gt;), si te das cuenta, estamos sumando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yavg[i]&lt;/code&gt; a cada iteración, esto es para mover nuestras gráficas a lo largo del eje vertical.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yavg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xavg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scaled&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yavg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linewidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como solamente estamos interesados en una porción de los datos, debemos establecer los límites de la información que queremos mostrar:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_xlim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coordinates_range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_ylim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coordinates_range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y con eso bastaría para poder ver resultados de nuestra gráfica, sin embargo, podemos mejorarla un poco más removiendo las marcas de los ejes, poniéndole un título y por último añadiéndole la información del autor y la fuente de los datos:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Earthquakes in Mexico (2017/01/01 - 2018/01/01)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AnchoredText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;@io_exception - Data: SSN México&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;prop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'size'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frameon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_artist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/MHLosn4.png&quot; alt=&quot;visualizando xavg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ya quedará en ti modificar algunos aspectos de la gráfica, tal vez ponerle un poco más de color, mejorar la escala de los datos, incluyendo más factores, o hacer una gráfica similar pero con otros datos. Por lo mientras, te invito a jugar con los datos en &lt;a href=&quot;https://colab.research.google.com/drive/1fwVd2QMEMXgrJD-XNDv5EGayjZYAX7IB&quot;&gt;este Google Colab Notebook&lt;/a&gt; y a que me contactes &lt;a href=&quot;https://twitter.com/io_exception&quot;&gt;vía twitter en @io_exception&lt;/a&gt;.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Antonio Feregrino Bolaños</name>
        
        
      </author>

      

      
        <category term="blog" />
      
        <category term="sismos" />
      
        <category term="ridgeline plots" />
      
        <category term="matplotlib" />
      
        <category term="python" />
      

      
        <summary type="html">Seguramente has visto todas esas gráficas parecieran sacadas de portadas de álbums… pues bien, en este post te voy a enseñar cómo crearla usando matplotlib, python y los datos del sistema sismológico nacional mexicano.</summary>
      

      
      
    </entry>
  
</feed>
